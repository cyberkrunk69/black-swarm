/* responsive.css - Responsive layout for mobile/tablet viewing
   Breakpoints: 320px (mobile), 768px (tablet), 1024px (small desktop)
   Features:
   - Collapse sidebar on small screens
   - Stack main panels vertically
   - Touch-friendly controls (larger hit areas)
*/

:root {
    --sidebar-width: 250px;
    --sidebar-collapsed-width: 0;
    --transition-duration: 0.3s;
    --touch-target-size: 48px; /* Minimum recommended touch target */
}

/* Base layout (desktop) */
#app {
    display: flex;
    min-height: 100vh;
    overflow-x: hidden;
}

/* Sidebar */
#sidebar {
    width: var(--sidebar-width);
    transition: width var(--transition-duration) ease;
    background-color: #2c3e50;
    color: #ecf0f1;
    overflow: hidden;
}

/* Main content area */
#main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}

/* Panels within main content */
.panel {
    margin: 1rem;
    padding: 1rem;
    background: #fff;
    border-radius: 4px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* Touch-friendly controls */
button,
a.button,
input[type="button"],
input[type="submit"] {
    min-height: var(--touch-target-size);
    min-width: var(--touch-target-size);
    padding: 0.5rem 1rem;
}

/* ------------------------------------------------------------------
   1. Mobile (≤ 320px)
------------------------------------------------------------------ */
@media (max-width: 320px) {
    /* Collapse sidebar completely */
    #sidebar {
        width: var(--sidebar-collapsed-width);
        position: absolute;
        left: -var(--sidebar-width);
        top: 0;
        height: 100%;
        z-index: 1000;
    }

    #sidebar.open {
        left: 0;
    }

    /* Add a toggle button */
    #sidebar-toggle {
        display: block;
        position: fixed;
        top: 0.5rem;
        left: 0.5rem;
        z-index: 1100;
        background: #2980b9;
        color: #fff;
        border: none;
        border-radius: 4px;
        width: var(--touch-target-size);
        height: var(--touch-target-size);
        font-size: 1.5rem;
        line-height: var(--touch-target-size);
        text-align: center;
    }

    /* Stack panels vertically, full width */
    #main-content {
        flex-direction: column;
        padding-top: var(--touch-target-size); /* space for toggle */
    }

    .panel {
        margin: 0.5rem;
        width: calc(100% - 1rem);
    }
}

/* ------------------------------------------------------------------
   2. Tablet (≥ 321px and ≤ 768px)
------------------------------------------------------------------ */
@media (min-width: 321px) and (max-width: 768px) {
    /* Sidebar collapsed but accessible via toggle */
    #sidebar {
        width: var(--sidebar-collapsed-width);
        position: fixed;
        left: -var(--sidebar-width);
        top: 0;
        height: 100%;
        z-index: 1000;
        transition: left var(--transition-duration) ease;
    }

    #sidebar.open {
        left: 0;
        width: var(--sidebar-width);
    }

    #sidebar-toggle {
        display: block;
        position: fixed;
        top: 0.5rem;
        left: 0.5rem;
        z-index: 1100;
        background: #2980b9;
        color: #fff;
        border: none;
        border-radius: 4px;
        width: var(--touch-target-size);
        height: var(--touch-target-size);
        font-size: 1.5rem;
        line-height: var(--touch-target-size);
        text-align: center;
    }

    /* Main content shifts when sidebar is open */
    #main-content {
        margin-left: 0;
        transition: margin-left var(--transition-duration) ease;
    }

    #sidebar.open + #main-content {
        margin-left: var(--sidebar-width);
    }

    /* Stack panels vertically */
    #main-content {
        flex-direction: column;
    }

    .panel {
        margin: 0.75rem;
        width: calc(100% - 1.5rem);
    }
}

/* ------------------------------------------------------------------
   3. Small Desktop (≥ 769px and ≤ 1024px)
------------------------------------------------------------------ */
@media (min-width: 769px) and (max-width: 1024px) {
    /* Keep sidebar visible but allow optional collapse */
    #sidebar {
        width: var(--sidebar-width);
    }

    #sidebar.collapsed {
        width: var(--sidebar-collapsed-width);
    }

    #sidebar-toggle {
        display: none; /* optional: could keep for manual collapse */
    }

    /* Panels side‑by‑side if enough space, otherwise wrap */
    #main-content {
        flex-direction: row;
        flex-wrap: wrap;
    }

    .panel {
        flex: 1 1 calc(50% - 2rem);
        margin: 1rem;
    }
}

/* ------------------------------------------------------------------
   4. Large Desktop (≥ 1025px) – default styling (no media query)
------------------------------------------------------------------ */
@media (min-width: 1025px) {
    #sidebar {
        width: var(--sidebar-width);
    }

    #main-content {
        flex-direction: row;
        flex-wrap: wrap;
    }

    .panel {
        flex: 1 1 calc(33.333% - 2rem);
        margin: 1rem;
    }
}