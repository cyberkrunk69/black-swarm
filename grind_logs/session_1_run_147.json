{"complexity": "complex", "subtasks": [{"id": 1, "assigned_to": "CODER", "description": "Scan the `experiments/` directory and generate a list of all experiment sub\u2011directories whose last\u2011modified timestamp is older than 24\u202fhours. Save the list to a file `old_experiments.txt` (one path per line).", "acceptance_criteria": "A file `old_experiments.txt` exists in the project root containing only absolute or relative paths of directories older than 24\u202fh. No paths from the current day are included."}, {"id": 2, "assigned_to": "CODER", "description": "For each directory listed in `old_experiments.txt`, inspect its contents and determine whether it contains useful output. Useful output is defined as at least one non\u2011empty file whose SHA\u2011256 hash is not duplicated in any other experiment directory. Produce a CSV `experiment_report.csv` with columns: `directory`, `has_useful_output` (true/false), `size_bytes` (total size of files in the directory).", "acceptance_criteria": "`experiment_report.csv` is created, correctly formatted, and flags each directory as `true` only when it has non\u2011empty, non\u2011duplicate files. Size values are accurate."}, {"id": 3, "assigned_to": "CODER", "description": "Delete all experiment directories from `old_experiments.txt` that are marked `has_useful_output = false` in `experiment_report.csv`. Ensure no directory from today is touched. Record the number of directories deleted, the number kept, and the total bytes freed. Write these statistics to `prune_summary.txt`.", "acceptance_criteria": "All unwanted directories are removed from the filesystem, `prune_summary.txt` exists and contains three lines: `Deleted: X`, `Kept: Y`, `Bytes Freed: Z`. The counts match the actions performed, and no directory modified within the last 24\u202fh remains deleted."}, {"id": 4, "assigned_to": "CODER", "description": "Create an executable script `prune_experiments.py` that performs steps\u202f1\u20113 automatically when run. The script must include safety checks (e.g., confirmation prompt, dry\u2011run option `--dry-run`, and a guard against deleting today\u2019s directories). Include logging to `prune.log` detailing actions taken.", "acceptance_criteria": "`prune_experiments.py` runs without error, produces the same output files as the manual steps above, respects the `--dry-run` flag (no deletions), and writes a detailed log to `prune.log`. The script is executable (`chmod +x`) and uses only the Python standard library."}], "next_role": "CODER", "critic_review": {"score": 1.0, "issues": [], "feedback": ["[OK] Code quality looks good!"], "passed": true, "timestamp": "2026-02-03T20:19:14.697797", "context": {"filename": "/app/grind_logs/session_1_run_147.json", "task": "PRUNE: experiments/ directory\n\nThere are 1824 experiment directories, most are garbage duplicates.\n\n1. List all experiments older than 24 hours\n2. Check which ones have actual useful output (non-empty, non-duplicate files)\n3. Delete empty or duplicate experiment directories\n4. Keep only experiments with unique, substantial output\n5. Report: X deleted, Y kept, Z bytes freed\n\nBE CAREFUL - don't delete anything from today.", "session_id": 1, "run": 147}}, "quality_score": 1.0, "critic_feedback": ["[OK] Code quality looks good!"], "critic_retry_count": 0}