{"complexity": "complex", "subtasks": [{"id": 1, "assigned_to": "CODER", "description": "Scan the `experiments/` directory and list all experiment sub\u2011directories whose modification time is older than 24\u202fhours. Produce a JSON or plain\u2011text list of these paths.", "acceptance_criteria": "A file `old_experiments.txt` is created containing one absolute path per line for every experiment directory older than 24\u202fh. No directories from the current day are included."}, {"id": 2, "assigned_to": "CODER", "description": "For each directory from step\u202f1, inspect its contents to determine if it holds useful output. Useful output is defined as (a) at least one non\u2011empty file and (b) files that are not exact duplicates of files in other experiment directories (use a hash such as SHA\u2011256 for duplicate detection). Produce a report marking each directory as `keep` or `remove`.", "acceptance_criteria": "A file `experiment_analysis.json` is generated mapping each examined directory to a status (`keep` or `remove`) and, for `remove`, the reason (`empty` or `duplicate`). Duplicate detection must be based on file\u2011content hashes, not just filenames."}, {"id": 3, "assigned_to": "CODER", "description": "Delete all directories flagged as `remove` in step\u202f2, ensuring the operation is safe (e.g., use a trash\u2011like move or a dry\u2011run flag first). Record the total number of directories deleted and the total bytes freed.", "acceptance_criteria": "A file `prune_summary.txt` is created containing three lines: `Deleted: X directories`, `Kept: Y directories`, `Freed: Z bytes`. All directories marked for removal are no longer present on disk. No directory from today has been deleted."}, {"id": 4, "assigned_to": "CODER", "description": "Wrap the above logic into an executable Python script `prune_experiments.py` with a `--dry-run` option (default) and a `--execute` flag to perform actual deletions. The script must log its actions, handle errors gracefully, and be idempotent.", "acceptance_criteria": "Running `python prune_experiments.py --dry-run` prints the planned actions without modifying the filesystem. Running with `--execute` performs the deletions and produces the same `prune_summary.txt`. The script follows PEP\u20118 style, includes docstrings, and exits with status\u202f0 on success."}], "next_role": "CODER", "critic_review": {"score": 1.0, "issues": [], "feedback": ["[OK] Code quality looks good!"], "passed": true, "timestamp": "2026-02-03T20:12:38.565639", "context": {"filename": "/app/grind_logs/session_1_run_72.json", "task": "PRUNE: experiments/ directory\n\nThere are 1824 experiment directories, most are garbage duplicates.\n\n1. List all experiments older than 24 hours\n2. Check which ones have actual useful output (non-empty, non-duplicate files)\n3. Delete empty or duplicate experiment directories\n4. Keep only experiments with unique, substantial output\n5. Report: X deleted, Y kept, Z bytes freed\n\nBE CAREFUL - don't delete anything from today.", "session_id": 1, "run": 72}}, "quality_score": 1.0, "critic_feedback": ["[OK] Code quality looks good!"], "critic_retry_count": 0}