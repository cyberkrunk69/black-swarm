{"complexity": "complex", "subtasks": [{"id": 1, "assigned_to": "CODER", "description": "Write a Python script `prune_experiments.py` that scans the `experiments/` directory and lists all experiment sub\u2011directories whose last\u2011modified timestamp is older than 24\u202fhours (i.e., not from today). The script should output this list to the console and store it in a variable for later steps.", "acceptance_criteria": "Running the script prints a list of absolute paths for all experiment directories older than 24\u202fhours. No directories from the current day are included."}, {"id": 2, "assigned_to": "CODER", "description": "Extend the script to examine each listed experiment directory and determine if it contains *useful* output. Useful output is defined as: (a) at least one non\u2011empty file, and (b) the file contents are not exact duplicates of files in any other experiment directory. The script should build two collections: `keep_dirs` (unique, substantial output) and `candidate_delete_dirs` (empty or duplicate\u2011only).", "acceptance_criteria": "The script populates `keep_dirs` and `candidate_delete_dirs` correctly. For any directory with only empty files or files that are byte\u2011wise identical to files in another directory, it appears in `candidate_delete_dirs`. Directories with at least one unique, non\u2011empty file appear in `keep_dirs`."}, {"id": 3, "assigned_to": "CODER", "description": "Add deletion logic to the script that safely removes all directories in `candidate_delete_dirs`. The deletion must be guarded so that no directory modified within the last 24\u202fhours is removed, even if mistakenly classified. After deletion, compute the total number of directories deleted, the number kept, and the total bytes freed.", "acceptance_criteria": "When the script is executed, it deletes only the directories identified in `candidate_delete_dirs` and prints a concise report: `Deleted: X directories, Kept: Y directories, Freed: Z bytes`. No directory from today is removed."}, {"id": 4, "assigned_to": "CODER", "description": "Ensure the script is idempotent and includes a `--dry-run` flag that performs all checks and prints the final report without actually deleting any directories. Add basic error handling and logging to `prune_experiments.log`.", "acceptance_criteria": "Running `python prune_experiments.py --dry-run` produces the same list/report as a normal run but leaves the filesystem unchanged. All actions (including errors) are logged to `prune_experiments.log`."}], "next_role": "CODER", "critic_review": {"score": 1.0, "issues": [], "feedback": ["[OK] Code quality looks good!"], "passed": true, "timestamp": "2026-02-03T20:14:05.152767", "context": {"filename": "/app/grind_logs/session_1_run_89.json", "task": "PRUNE: experiments/ directory\n\nThere are 1824 experiment directories, most are garbage duplicates.\n\n1. List all experiments older than 24 hours\n2. Check which ones have actual useful output (non-empty, non-duplicate files)\n3. Delete empty or duplicate experiment directories\n4. Keep only experiments with unique, substantial output\n5. Report: X deleted, Y kept, Z bytes freed\n\nBE CAREFUL - don't delete anything from today.", "session_id": 1, "run": 89}}, "quality_score": 1.0, "critic_feedback": ["[OK] Code quality looks good!"], "critic_retry_count": 0}