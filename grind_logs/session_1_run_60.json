{"complexity": "complex", "subtasks": [{"id": 1, "assigned_to": "CODER", "description": "Scan the `experiments/` directory and produce a JSON list of all experiment sub\u2011directories whose last\u2011modified timestamp is older than 24\u202fhours (exclude any directory modified today). Include each entry\u2019s path, modification time, total size in bytes, and a list of contained files.", "acceptance_criteria": "A file `tmp/experiment_list.json` is created containing an array of objects with the fields `path`, `mtime_iso`, `size_bytes`, and `files`. All entries are strictly older than 24\u202fh; no entry from the current calendar day is present."}, {"id": 2, "assigned_to": "CODER", "description": "For each directory from the previous step, determine whether it contains useful output: (a) at least one non\u2011empty file, and (b) the set of file hashes is not identical to the hash set of any other directory (i.e., not a duplicate). Produce a second JSON file marking each directory as `keep` or `delete`.", "acceptance_criteria": "A file `tmp/experiment_keep_delete.json` is created with an array of objects `{ path, keep: true|false, reason: \"empty\"|\"duplicate\"|\"unique\" }`. Directories with only empty files are marked `delete` (reason\u202f=\u202f\"empty\"). Directories whose hash set matches another older directory are marked `delete` (reason\u202f=\u202f\"duplicate\"). All others are `keep`."}, {"id": 3, "assigned_to": "CODER", "description": "Delete all directories flagged for deletion in the previous JSON, ensuring safety checks that no directory from today is removed. Record the total number of directories removed, total bytes freed, and any errors encountered.", "acceptance_criteria": "All paths with `keep: false` are removed from the filesystem. A summary file `tmp/experiment_prune_report.txt` is written containing lines:\n`Deleted: <X> directories`\n`Kept: <Y> directories`\n`Bytes freed: <Z>`\n`Errors: <list>` (errors list may be empty). No directory whose `mtime` is within the current calendar day remains deleted."}, {"id": 4, "assigned_to": "CODER", "description": "Create a concise human\u2011readable report summarizing the pruning operation (numbers from the previous step) and place it at `experiments/PRUNE_REPORT.md`.", "acceptance_criteria": "`experiments/PRUNE_REPORT.md` exists and contains a markdown table or bullet list with the same statistics as `tmp/experiment_prune_report.txt` and a short note about the date of execution."}], "next_role": "CODER", "critic_review": {"score": 1.0, "issues": [], "feedback": ["[OK] Code quality looks good!"], "passed": true, "timestamp": "2026-02-03T20:11:33.200578", "context": {"filename": "/app/grind_logs/session_1_run_60.json", "task": "PRUNE: experiments/ directory\n\nThere are 1824 experiment directories, most are garbage duplicates.\n\n1. List all experiments older than 24 hours\n2. Check which ones have actual useful output (non-empty, non-duplicate files)\n3. Delete empty or duplicate experiment directories\n4. Keep only experiments with unique, substantial output\n5. Report: X deleted, Y kept, Z bytes freed\n\nBE CAREFUL - don't delete anything from today.", "session_id": 1, "run": 60}}, "quality_score": 1.0, "critic_feedback": ["[OK] Code quality looks good!"], "critic_retry_count": 0}