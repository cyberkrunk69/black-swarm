{"complexity": "complex", "subtasks": [{"id": 1, "assigned_to": "CODER", "description": "Traverse the `experiments/` directory and generate a list of all experiment sub\u2011directories whose last\u2011modified timestamp is older than 24\u202fhours. Output the list to a temporary file (e.g., `old_experiments.txt`).", "acceptance_criteria": "A file `old_experiments.txt` exists containing one absolute path per line for every experiment directory older than 24\u202fh; no directories from the current day are included."}, {"id": 2, "assigned_to": "CODER", "description": "For each path in `old_experiments.txt`, inspect its contents and flag it as **useful** if it contains at least one non\u2011empty file that is not a duplicate of any other experiment\u2019s file (use file size and hash comparison). Produce two files: `useful_experiments.txt` and `removable_experiments.txt`.", "acceptance_criteria": "`useful_experiments.txt` lists only directories with unique, non\u2011empty output; `removable_experiments.txt` lists directories that are empty or contain only duplicate files. Both files are mutually exclusive and cover all entries from `old_experiments.txt`."}, {"id": 3, "assigned_to": "CODER", "description": "Delete all directories listed in `removable_experiments.txt` safely (use `shutil.rmtree` with error handling). Record the total number of directories deleted, total bytes freed, and any errors encountered in a log file `prune_report.log`.", "acceptance_criteria": "`prune_report.log` contains lines summarizing: `Deleted: X directories`, `Kept: Y directories`, `Freed: Z bytes`. All listed directories are removed from the filesystem; no directory from today is touched."}, {"id": 4, "assigned_to": "CODER", "description": "Create a small, idempotent Python script `prune_experiments.py` that encapsulates steps\u202f1\u20113, accepts an optional path argument (default `experiments/`), and prints a concise summary (`X deleted, Y kept, Z bytes freed`). Include safety checks to abort if the target path is missing or if any directory from the current day is mistakenly selected.", "acceptance_criteria": "`prune_experiments.py` runs without error, performs the pruning as described, and prints the required summary. The script is safe to re\u2011run (won\u2019t delete already\u2011deleted directories) and contains inline comments explaining each major step."}, {"id": 5, "assigned_to": "CODER", "description": "Prepare a brief README `README_PRUNE.md` that explains how to run the script, the criteria used for deletion, and how to interpret the log/report files.", "acceptance_criteria": "`README_PRUNE.md` exists, is markdown\u2011formatted, and includes usage examples, safety warnings, and an explanation of the output files."}], "next_role": "CODER", "critic_review": {"score": 1.0, "issues": [], "feedback": ["[OK] Code quality looks good!"], "passed": true, "timestamp": "2026-02-03T20:23:02.026979", "context": {"filename": "/app/grind_logs/session_1_run_191.json", "task": "PRUNE: experiments/ directory\n\nThere are 1824 experiment directories, most are garbage duplicates.\n\n1. List all experiments older than 24 hours\n2. Check which ones have actual useful output (non-empty, non-duplicate files)\n3. Delete empty or duplicate experiment directories\n4. Keep only experiments with unique, substantial output\n5. Report: X deleted, Y kept, Z bytes freed\n\nBE CAREFUL - don't delete anything from today.", "session_id": 1, "run": 191}}, "quality_score": 1.0, "critic_feedback": ["[OK] Code quality looks good!"], "critic_retry_count": 0}