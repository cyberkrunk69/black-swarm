{
  "id": "swr__docs_suspense",
  "source_id": "swr",
  "source_name": "SWR",
  "category": "loading_state_patterns",
  "url": "https://swr.vercel.app/docs/suspense",
  "title": "Suspense",
  "content": "Suspense\nYou can enable the\nsuspense\noption to use SWR with React\nSuspense\n:\nimport\n{ Suspense }\nfrom\n'react'\nimport\nuseSWR\nfrom\n'swr'\nfunction\nProfile\n() {\nconst\n{\ndata\n}\n=\nuseSWR\n(\n'/api/user'\n, fetcher, { suspense:\ntrue\n})\nreturn\n<\ndiv\n>hello, {data.name}</\ndiv\n>\n}\nfunction\nApp\n() {\nreturn\n(\n<\nSuspense\nfallback\n=\n{<\ndiv\n>loading...</\ndiv\n>}>\n<\nProfile\n/>\n</\nSuspense\n>\n)\n}\nNote that the\nsuspense\noption is not allowed to change in the lifecycle.\nIn Suspense mode,\ndata\nis always the fetch response (so you don't need to check if it's\nundefined\n).\nBut if an error occurred, you need to use an\nerror boundary\nto catch it:\n<\nErrorBoundary\nfallback\n=\n{<\nh2\n>Could not fetch posts.</\nh2\n>}>\n<\nSuspense\nfallback\n=\n{<\nh1\n>Loading posts...</\nh1\n>}>\n<\nProfile\n/>\n</\nSuspense\n>\n</\nErrorBoundary\n>\nSuspense mode suspends rendering until the data is ready, which means it causes waterfall problems easily. To avoid that, you should prefetch resources before rendering.\nMore information\nNote: With Conditional Fetching\nNormally, when you enabled\nsuspense\nit's guaranteed that\ndata\nwill always be ready on render:\nfunction\nProfile\n() {\nconst\n{\ndata\n}\n=\nuseSWR\n(\n'/api/user'\n, fetcher, { suspense:\ntrue\n})\n// `data` will never be `undefined`\n// ...\n}\nHowever, when using it together with conditional fetching or dependent fetching,\ndata\nwill be\nundefined\nif the request is\npaused\n:\nfunction\nProfile\n() {\nconst\n{\ndata\n}\n=\nuseSWR\n(isReady\n?\n'/api/user'\n:\nnull\n, fetcher, { suspense:\ntrue\n})\n// `data` will be `undefined` if `isReady` is false\n// ...\n}\nIf you want to read more technical details about this restriction, check\nthe discussion here\n.\nServer-Side Rendering\nWhen using suspense mode on the server-side (including pre-rendering in Next.js), it's\nrequired\nto provide the initial data via\nfallbackData or fallback\n. This means that you can't use\nSuspense\nto fetch data on the server side, but either doing fully client-side data fetching, or fetch the data via the framework level data fetching method(such as getStaticProps in Next.js). More discussions can be found\nhere\n.",
  "content_markdown": "# Suspense\n\nYou can enable the `suspense` option to use SWR with React [Suspense](https://react.dev/reference/react/Suspense):\n\n```\nimport { Suspense } from 'react'\nimport useSWR from 'swr'\n\nfunction Profile () {\n  const { data } = useSWR('/api/user', fetcher, { suspense: true })\n  return <div>hello, {data.name}</div>\n}\n\nfunction App () {\n  return (\n    <Suspense fallback={<div>loading...</div>}>\n      <Profile/>\n    </Suspense>\n  )\n}\n```\n\nNote that the `suspense` option is not allowed to change in the lifecycle.\n\nIn Suspense mode, `data` is always the fetch response (so you don't need to check if it's `undefined`).\nBut if an error occurred, you need to use an [error boundary](https://reactjs.org/docs/concurrent-mode-suspense.html#handling-errors) to catch it:\n\n```\n<ErrorBoundary fallback={<h2>Could not fetch posts.</h2>}>\n  <Suspense fallback={<h1>Loading posts...</h1>}>\n    <Profile />\n  </Suspense>\n</ErrorBoundary>\n```\n\nSuspense mode suspends rendering until the data is ready, which means it causes waterfall problems easily. To avoid that, you should prefetch resources before rendering. [More information](/en/docs/prefetching)\n\n---\n\n### [Note: With Conditional Fetching](#note-with-conditional-fetching)\n\nNormally, when you enabled `suspense` it's guaranteed that `data` will always be ready on render:\n\n```\nfunction Profile () {\n  const { data } = useSWR('/api/user', fetcher, { suspense: true })\n\n  // `data` will never be `undefined`\n  // ...\n}\n```\n\nHowever, when using it together with conditional fetching or dependent fetching, `data` will be `undefined` if the request is **paused**:\n\n```\nfunction Profile () {\n  const { data } = useSWR(isReady ? '/api/user' : null, fetcher, { suspense: true })\n\n  // `data` will be `undefined` if `isReady` is false\n  // ...\n}\n```\n\nIf you want to read more technical details about this restriction, check [the discussion here](https://github.com/vercel/swr/pull/357#issuecomment-627089889).\n\n### [Server-Side Rendering](#server-side-rendering)\n\nWhen using suspense mode on the server-side (including pre-rendering in Next.js), it's **required** to provide the initial data via [fallbackData or fallback](/en/docs/with-nextjs#pre-rendering-with-default-data). This means that you can't use `Suspense` to fetch data on the server side, but either doing fully client-side data fetching, or fetch the data via the framework level data fetching method(such as getStaticProps in Next.js). More discussions can be found [here](https://github.com/vercel/swr/issues/1906).",
  "tags": [
    "swr",
    "vercel",
    "react",
    "data-fetching"
  ],
  "extracted_at": "2026-02-03T12:53:09.296620+00:00",
  "content_length": 2070,
  "content_hash": "e45f09bfc4c30dd3"
}