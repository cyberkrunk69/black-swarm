{
  "id": "css-tricks__a-complete-guide-to-custom-properties_",
  "source_id": "css-tricks",
  "source_name": "CSS-Tricks Guides",
  "category": "css_styling",
  "url": "https://css-tricks.com/a-complete-guide-to-custom-properties/",
  "title": "CSS Custom Properties Guide | CSS-Tricks",
  "content": "A custom property is most commonly thought of as a\nvariable\nin CSS.\n.card {\n  --spacing: 1.2rem;\n  padding: var(--spacing);\n  margin-bottom: var(--spacing);\n}\nAbove,\n--spacing\nis the custom property with\n1.2rem\nas the value and\nvar(--spacing)\nis the variable in use.\nPerhaps the most valuable reason to use them: not repeating yourself (\nDRY\ncode). In the example above, I can change the\nvalue\n1.2rem\nin\none\nplace and have it affect\ntwo\nthings. This brings something programming languages do to CSS.\nThere is a good bit to know about custom properties, so let\u2019s get into it.\nWhy care about CSS Custom Properties?\nThey help DRY up your CSS. That is \u201cDon\u2019t Repeat Yourself.\u201d Custom properties can make code easier to maintain because you can update one value and have it reflected in multiple places. Careful though, overdoing abstraction can make have the opposite effect and make code less understandable.\nThey are particularly helpful for things like creating\ncolor themes\non a website.\nThey unlock interesting possibilities in CSS. In no small part because they cascade.\nThe fact that they can be updated in JavaScript opens up even more interesting possibilities.\nTable of contents\nWhy care about CSS Custom Properties?\nNaming custom properties\nProperties as properties\nValid values for custom properties\nBreaking up values\nSplitting colors\nShadows\nGradients\nComma-separated values (like backgrounds)\nGrids\nTransforms\nConcatenation of unit types\nUsing the cascade\nThe :root thing\nCombining with !important\nCustom property fallbacks\nUsing calc() and custom properties\nDeferring the calc()\n@property\nCommas in values\nAdvanced usage\nThe initial and whitespace trick\nInline styles\nHovers and pseudos\nCustom properties and JavaScript\nCustom properties are different than preprocessor variables\nCan you preprocess custom properties?\nAvailiability\nCustom properties and Web Components (Shadow DOM)\nBrowser support\n@supports\nRelated posts\nCredit\nNaming custom properties\nCustom properties\nmust\nbe within a selector and start with two dashes (\n--\n):\n/* Nope, not within a selector */\n--foo: 1;\n\nbody {\n  /* No, 0 or 1 dash won't work */\n  foo: 1;\n  -foo: 1; \n\n  /* Yep! */\n  --foo: 1;\n\n  /* OK, but they're different properties */\n  --FOO: 1;\n  --Foo: 1;\n  \n  /* Totally fine */\n  --mainColor: red;\n  --main-color: red;\n\n  /* Special characters are a no */\n  --color@home: red;\n  --black&blue: black;\n  --black^2: black;\n}\nBest to stick with letters, numbers, and dashes while making sure the custom property is defined inside of a valid selector.\nProperties as properties\nYou can set the value of a custom property with another custom property:\nhtml {\n  --red: #a24e34;\n  --green: #01f3e6;\n  --yellow: #f0e765;\n\n  --error: var(--red);\n  --errorBorder: 1px dashed var(--red);\n  --ok: var(--green);\n  --warning: var(--yellow);\n}\nSome people like doing it this way because it allows the name of a custom property to be descriptive and then used in another property with a more functional name, again helping keep things\nDRY\n. It can even help make the functional names more readable and understandable.\nThere is a big gotcha\nwith custom properties that use other custom properties you should be aware of.\nValid values for custom properties\nCustom properties are surprisingly tolerant when it comes to the values they accept.\nHere are some basic examples that you\u2019d expect to work, and do.\nbody {\n  --brand-color: #990000;\n  --transparent-black: rgba(0, 0, 0, 0.5);\n  \n  --spacing: 0.66rem;\n  --max-reading-length: 70ch;\n  --brandAngle: 22deg;\n\n  --visibility: hidden;\n  --my-name: \"Chris Coyier\";\n}\nSee that? They can be hex values, color functions, units of all kinds, and even strings of text.\ncustom properties\nArticle\non\n\n    Oct 9, 2019\nPatterns for Practical CSS Custom Properties Use\nTyler Childs\ncss variables\ncustom properties\nLink\non\n\n    May 16, 2018\nA Strategy Guide To CSS Custom Properties\nChris Coyier\nLink\non\n\n    Sep 1, 2014\nAdvantages to Native CSS Variables\nChris Coyier\ncustom properties\nstate\nArticle\non\n\n    Jan 5, 2021\nCustom Properties as State\nChris Coyier\nBut custom properties don\u2019t have to be complete values like that. Let\u2019s look at how useful it can be to break up valid CSS values into parts we can shove into custom properties.\nBreaking up values\nYou can use custom properties to break up multi-part values.\nLet\u2019s imagine you\u2019re using a color function, say\nrgba()\n. Each color channel value in there can be its own custom property. That opens up a ton of possibilities, like changing the alpha value for a specific use case, or perhaps creating color themes.\nSplitting colors\nTake HSL color, for example. We can split it up into parts, then very easily adjust the parts where we want. Maybe we\u2019re working with the background color of a button. We can update specific parts of its HSL makeup when the button is hovered, in focus, or disabled, without declaring\nbackground\non any of those states at all.\nbutton {\n  --h: 100;\n  --s: 50%;\n  --l: 50%;\n  --a: 1;\n\n  background: hsl(var(--h) var(--s) var(--l) / var(--a));\n}\nbutton:hover { /* Change the lightness on hover */\n  --l: 75%;\n}\nbutton:focus { /* Change the saturation on focus */\n  --s: 75%;\n}\nbutton[disabled] {  /* Make look disabled */\n  --s: 0%;\n  --a: 0.5;\n}\nBy breaking apart values like that, we can\ncontrol\nparts\nof them\nin a way we never could before. Just look at how we didn\u2019t need to declare all of the HSL arguments to style the hover, focus and disabled state of a button. We simply overrode specific HSL values when we needed to. Pretty cool stuff!\nShadows\nbox-shadow\ndoesn\u2019t have a shorthand property for controlling the shadow\u2019s spread on its own. But we could break out the\nbox-shadow\nspread value and control it as a custom property (\ndemo\n).\nbutton {\n  --spread: 5px;\n  box-shadow: 0 0 20px var(--spread) black;\n}\nbutton:hover {\n  --spread: 10px;\n}\nGradients\nThere is no such thing as a\nbackground-gradient-angle\n(or the like) shorthand for gradients. With custom properties, we can change just change that part as if there was such a thing.\nbody {\n  --angle: 180deg;\n  background: linear-gradient(var(--angle), red, blue);\n}\nbody.sideways {\n  --angle: 90deg;\n}\nComma-separated values (like backgrounds)\nAny property that supports multiple comma-separated values might be a good candidate for splitting values too, since there is no such thing as targeting just one value of a comma-separated list and changing it alone.\n/* Lots of backgrounds! */\nbackground-image:\n  url(./img/angles-top-left.svg),\n  url(./img/angles-top-right.svg),\n  url(./img/angles-bottom-right.svg),\n  url(./img/angles-bottom-left.svg),\n  url(./img/bonus-background.svg);\nSay you wanted to remove\njust one of many multiple backgrounds\nat a media query. You could do that with custom properties like this, making it a trivial task to swap or override backgrounds.\nbody {\n  --bg1: url(./img/angles-top-left.svg);\n  --bg2: url(./img/angles-top-right.svg);\n  --bg3: url(./img/angles-bottom-right.svg);\n  --bg4: url(./img/angles-bottom-left.svg);\n  --bg5: url(./img/bonus-background.svg);\n  \n  background-image: var(--bg1), var(--bg2), var(--bg3), var(--bg4);\n}\n@media (min-width: 1500px) {\n  body {\n    background-image: var(--bg1), var(--bg2), var(--bg3), var(--bg4), var(--bg5);\n  }\n}\nGrids\nWe\u2019re on a roll here, so we might as well do a few more examples. Like, hey, we can take the\ngrid-template-columns\nproperty and abstract its values into custom properties to make a super flexible grid system:\n.grid {\n  display: grid;\n  --edge: 10px;\n  grid-template-columns: var(--edge) 1fr var(--edge);\n}\n@media (min-width: 1000px) {\n  .grid {\n     --edge: 15%;\n   }\n}\nTransforms\nCSS will soon get\nindividual transforms\nbut we can get it sooner with custom properties. The idea is to apply all the transforms an element might get up front, then control them individually as needed:\nbutton {\n  transform: var(--scale, scale(1)) var(--translate, translate(0));\n}\nbutton:active {\n  --translate: translate(0, 2px);\n}\nbutton:hover {\n  --scale: scale(0.9);\n}\nConcatenation of unit types\nThere are times when combining parts of values doesn\u2019t work quite how you might hope. For example, you can\u2019t make\n24px\nby smashing\n24\nand\npx\ntogether. It can be done though, by\nmultiplying\nthe raw number by a number value with a unit.\nbody {\n  --value: 24;\n  --unit: px;\n  \n  /* Nope */\n  font-size: var(--value) + var(--unit);\n  \n  /* Yep */\n  font-size: calc(var(--value) * 1px);\n\n  /* Yep */\n  --pixel_converter: 1px;\n  font-size: calc(var(--value) * var(--pixel_converter));\n}\ncustom properties\nArticle\non\n\n    Aug 14, 2019\nContextual Utility Classes for Color with Custom Properties\nChristopher Kirk-Nielsen\ncalc\ncss variables\ncustom properties\nArticle\non\n\n    May 10, 2017\nMaking Custom Properties (CSS Variables) More Dynamic\nDan Wilson\nArticle\non\n\n    Aug 11, 2017\nMore CSS Charts, with Grid & Custom Properties\nMiriam Suzanne\ncalc\ncss variables\nresponsive\nArticle\non\n\n    Feb 25, 2019\nResponsive Designs and CSS Custom Properties: Defining Variables and Breakpoints\nMikolaj Dobrucki\ncss animation\ngradients\nkeyframes\ntransition\nArticle\non\n\n    Jun 1, 2018\nThe State of Changing Gradients with CSS Transitions and Animations\nAna Tudor\ndark\nvariable fonts\nArticle\non\n\n    Dec 10, 2020\nUsing CSS Custom Properties to Adjust Variable Font Weights in Dark Mode\nGreg Gibson\nUsing the cascade\nThe fact that custom properties use\nthe cascade\nis one of the most useful things about them.\nYou\u2019ve already seen it in action in many of the examples we\u2019ve covered, but let\u2019s put a point on it. Say we have a custom property set pretty \u201chigh up\u201d (on the body), and then set again on a specific class. We use it on a specific component.\nbody {\n  --background: white;\n}\n.sidebar {\n  --background: gray;\n}\n.module {\n  background: var(--background);\n}\nThen say we\u2019ve got practical HTML like this:\n<body> <!-- --background: white -->\n\n  <main>\n    <div class=\"module\">\n      I will have a white background.\n    </div>\n  <main>\n\n  <aside class=\"sidebar\"> <!-- --background: gray -->\n    <div class=\"module\">\n      I will have a gray background.\n    </div>\n  </aside>\n\n</body>\nFor the second module,\n.sidebar\nis a closer ancestor than\nbody\n, thus\n--background\nresolves to\ngray\nthere, but white in other places.\nThe \u201cmodule\u201d in the sidebar has a gray background because custom properties (like many other CSS properties)\ninherit\nthrough the HTML structure. Each module takes the\n--background\nvalue from the nearest \u201cancestor\u201d where it\u2019s been defined in CSS.\nSo, we have\none\nCSS declaration but it\u2019s doing different things in different contexts, thanks to the cascade. That\u2019s just cool.\nThis plays out in other ways:\nbutton {\n  --foo: Default;\n}\nbutton:hover {\n  --foo: I win, when hovered;\n  /* This is a more specific selector, so re-setting \n     custom properties here will override those in `button` */\n}\nMedia queries don\u2019t change specificity, but they often come\nlater\n(or lower) in the CSS file than where the original selector sets a value, which also means a custom property will be overridden inside the media query:\nbody {\n  --size: 16px;\n  font-size: var(--size);\n}\n@media (max-width: 600px) {\n  body {\n    --size: 14px;\n  } \n}\nMedia queries\naren\u2019t only for screen sizes. They can be used for things like accessibility preferences. For example,\ndark mode\n:\nbody {\n  --bg-color: white; \n  --text-color: black;\n\n  background-color: var(--bg-color);\n  color: var(--text-color);\n}\n\n/* If the user's preferred color scheme is dark */\n@media screen and (prefers-color-scheme: dark) {\n  body {\n    --bg-color: black;\n    --text-color: white;\n  }\n}\nThe\n:root\nthing\nYou\u2019ll often see custom properties being set \u201cat the root.\u201d Here\u2019s what that means:\n:root {\n  --color: red;\n}\n\n/* ...is largely the same as writing: */\nhtml {\n  --color: red;\n}\n\n/* ...except :root has higher specificity, so remember that! */\nThere is no particularly compelling reason to define custom properties like that. It\u2019s just a way of setting custom properties\nas high up as they can go\n. If you like that, that\u2019s totally fine. I find it somehow more normal-feeling to apply them to the\nhtml\nor\nbody\nselectors when setting properties I intend to make available globally, or everywhere.\nThere is also no reason you\nneed\nto set variables at this broad of a scope. It can be just as useful, and perhaps more readable and understandable, to set them right at the level you are going to use them (or fairly close in the DOM tree).\n.module {\n  --module-spacing: 1rem;\n  --module-border-width: 2px;\n\n  border: var(--module-border-width) solid black;\n}\n\n.module + .module {\n  margin-top: var(--module-spacing);\n}\nNote that setting a custom property on the module itself means that property will no longer inherit from an ancestor (unless we set the value to\ninherit\n). Like other inherited properties, there are sometimes reasons to specify them in place (at the global level), and other times we want to inherit them from context (at the component level). Both are useful. What\u2019s cool about custom properties is that we can define them in one place, inherit them\nbehind the scenes\nand apply them\nsomewhere completely different\n. We take control of the cascade!\ncss variables\ncustom properties\nLink\non\n\n    May 16, 2018\nA Strategy Guide To CSS Custom Properties\nChris Coyier\ncustom properties\nglobal scope\nthemes\nLink\non\n\n    Jun 30, 2020\nGlobal and Component Style Settings with CSS Variables\nChris Coyier\ncss variables\ncustom properties\nArticle\non\n\n    Mar 27, 2019\nBreaking CSS Custom Properties out of :root Might Be a Good Idea\nKevin Powell\nCombining with\n!important\nYou can make an\n!important\nmodifier within or outside of a variable.\n.override-red {\n  /* this works */\n  --color: red !important;  \n  color: var(--color);\n\n  /* this works, too */\n  --border: red;\n  border: 1px solid var(--border) !important;\n}\nApplying\n!important\nto the\n--color\nvariable, makes it difficult to override the value of the\n--color\nvariable, but we can still ignore it by changing the\ncolor\nproperty.\nThe behavior of\n!important\ninside the values of custom properties is quite unusual.\nStefan Judis documents it well\n, but the gist is:\nUltimately,\n!important\nis stripped from the value of the custom property.\nBut it is used when determining which value wins when it is set in multiple places.\ndiv {\n  --color: red !important;\n}\n#id {\n  --color: yellow;\n}\nIf both of those selectors apply to an element, you might think the\n#id\nvalue would win because of the higher specificity, but really\nred\nwill win because of the\n!important\n, but then ultimately be applied without the\n!important\n. It\u2019s a little funky to wrap your head around.\nIf applying the\n!important\noutside\nof the custom property, like the 2nd example two code blocks up, our\n--border\nvariable remains low-specificity (easy to override), but it\u2019s hard to change how that value will be applied to the\nborder\nitself because the entire declaration retains\n!important\n.\nCustom property fallbacks\nThe\nvar()\nfunction is what allows for fallback values in custom properties.\nHere we\u2019re setting a\nscale()\ntransform function to a custom property, but there is a\ncomma-separated\nsecond value of\n1.2\n. That\n1.2\nvalue will be used if\n--scale\nis not set.\n.bigger {\n  transform: scale(var(--scale, 1.2));\n}\nAfter the first comma, any additional commas are part of the fallback value. That allows us to create fallbacks with comma-separated values inside them. For example, we can have one variable fall back to an entire stack of fonts:\nhtml {\n  font-family: var(--fonts, Helvetica, Arial, sans-serif);\n}\nWe can also provide a series of variable fallbacks (as many as we want), but we have to nest them for that to work:\n.bigger {\n  transform: scale(var(--scale, var(--second-fallback, 1.2));\n}\nIf\n--scale\nis undefined, we try the\n--second-fallback\n. If that is also undefined, we finally fall back to\n1.2\n.\nUsing\ncalc()\nand custom properties\nEven more power of custom properties is unlocked when we combine them with math!\nThis kind of thing is common:\nmain {\n  --spacing: 2rem;\n}\n\n.module {\n  padding: var(--spacing);\n}\n\n.module.tight {\n  /* divide the amount of spacing in half */\n  padding: calc(var(--spacing) / 2)); \n}\nWe could also use that to calculate the hue of a complementary color:\nhtml {\n  --brand-hue: 320deg;\n  --brand-color: hsl(var(--brand-hue), 50%, 50%);\n  --complement: hsl(calc(var(--brand-hue) + 180deg), 50%, 50%);\n}\ncalc()\ncan even be used with multiple custom properties:\n.slider {\n  width: calc(var(--number-of-boxes) * var(--width-of-box));\n}\nDeferring the\ncalc()\nIt might look weird to see calculous-like math without a\ncalc()\n:\nbody {\n  /* Valid, but the math isn't actually performed just yet ... */\n  --font-size: var(--base-font-size) * var(--modifier);\n\n  /* ... so this isn't going to work */\n  font-size: var(--font-size);\n}\nThe trick is that as long as you eventually put it in a\ncalc()\nfunction, it works fine:\nbody {\n  --base-font-size: 16px;\n  --modifier: 2;\n  --font-size: var(--base-font-size) * var(--modifier);\n\n  /* The calc() is \"deferred\" down to here, which works */\n  font-size: calc(var(--font-size));\n}\nThis might be useful if you\u2019re doing quite a bit of math on your variables, and the\ncalc()\nwrapper becomes distracting or noisy in the code.\n@property\nThe\n@property\n\u201cat-rule\u201d in CSS allows you to declare the type of a custom property, as well its as initial value and whether it inherits or not.\nIt\u2019s sort of like you\u2019re creating an actual CSS property and have the ability to define what it\u2019s called, it\u2019s syntax, how it interacts with the cascade, and its initial value.\n@property --x {\n  syntax: '<number>';\n  inherits: false;\n  initial-value: 42;\n}\nValid Types\nlength\nnumber\npercentage\nlength-percentage\ncolor\nimage\nurl\ninteger\nangle\ntime\nresolution\ntransform-list\ntransform-function\ncustom-ident\n(a custom identifier string)\nThis means that the browser knows what kind of value it is dealing with, rather than assuming everything is a string. That means you can animate things in ways you couldn\u2019t otherwise.\nFor example, say you have a star-shaped icon that you want to spin around with\n@keyframes\nand rotate with a\ntransform\n. So you do this:\n.star {\n  --r: 0deg;\n  transform: rotate(var(--r));\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  100% {\n    --r: 360deg;\n  }\n}\nThat actually won\u2019t work, as the browser doesn\u2019t know that\n0deg\nand\n360deg\nare valid angle values. You have to define them as an\n<angle>\ntype with\n@property\nfor that to work.\n@property --r {\n  syntax: '<angle>';\n  initial-value: 0deg;\n  inherits: false;\n}\n\n.star {\n  --r: 0deg;\n  transform: rotate(var(--r));\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  100% {\n    --r: 360deg;\n  }\n}\nDemo\n@property\ncustom properties\nArticle\non\n\n    Apr 25, 2020\n@property\nChris Coyier\n@property\ncustom properties\nArticle\non\n\n    Sep 2, 2020\nUsing @property for CSS Custom Properties\nChris Coyier\n@property\ncss animation\ncustom properties\nArticle\non\n\n    Mar 4, 2021\nExploring @property and its Animating Powers\nJhey Tompkins\nArticle\non\n\n    Mar 8, 2021\n241: The @property is magic\nGeoff Graham\nCommas in values\nThis can be a smidge confusing. Maybe not so much this:\nhtml {\n  --list: 1, 2, 3;\n}\nBut below, you\u2019ll need a sharp eye to realize the fallback value is actually\n1.2, 2\n. The first comma separates the fallback, but all the rest is part of the value.\nhtml {\n  transform: scale(var(--scale, 1.2, 2));\n}\nLearn more about fallbacks above \u2b91\nAdvanced usage\nThe Raven\nis a technique that emulates container queries using math and custom properties. Be prepared, this goes from 0-100 in complexity right out of the gate!\nDemo\nResize this demo to see a grid of inline-block elements change number of columns from 4 to 3 to 1.\nHere\u2019s a few more favorite examples that show off advanced usage of custom properties:\ncss animation\ncustom properties\nArticle\non\n\n    Sep 12, 2019\nUsing Custom Properties to Wrangle Variations in Keyframe Animations\nSandrina Pereira\ncss variables\ncustom properties\nArticle\non\n\n    Nov 27, 2019\nThe Power (and Fun) of Scope with CSS Custom Properties\nJhey Tompkins\nanimation\ncustom properties\ndetails/summary\nIntersectionObserver\nkeyframes\nArticle\non\n\n    Jan 21, 2021\nHow to Play and Pause CSS Animations with CSS Custom Properties\nMads Stoumann\ncustom properties\nLink\non\n\n    Aug 4, 2020\nThe Cicada Principle, revisited with CSS variables\nChris Coyier\nThe\ninitial\nand whitespace trick\nThink of\n@media\nqueries and how when\none\nthing changes (e.g. the width of the page) you can control\nmultiple\nthings. That\u2019s kind of the idea with this trick. You change\none\ncustom property and control\nmultiple\nthings.\nThe trick is that the value of\ninitial\nfor a custom property will trigger a fallback, while an empty whitespace value will not. For the sake of explanation, it let\u2019s define two globally-scoped custom properties,\nON\nand\nOFF\n:\n:root {\n  --ON: initial;\n  --OFF: ;\n}\nSay we have a \u201cdark\u201d variation class which sets a number of different properties. The default is\n--OFF\n, but can be flipped to\n--ON\nwhenever:\n.module {\n  --dark: var(--OFF);\n}\n\n.dark { /* could be a media query or whatever */\n  --dark: var(--ON);\n}\nNow you can use\n--dark\nto conditinally set values that apply only when you\u2019ve flipped\n--dark\nto\n--ON\n. Demo:\nLea Verou has a great writeup\nthat covers all of this.\nInline styles\nIt\u2019s totally legit to set a custom property in HTML with an inline style.\n<div style=\"--color: red;\"></div>\nThat will, like any inline style, have a very high level of specificity.\nThis can be super useful for when the HTML might have access to some useful styling information that would be too weird/difficult to put into a static CSS file. A good example of that is maintaining the aspect ratio of an element:\n<div style=\"--aspect-ratio: 16 / 9;\"></div>\nNow I can set up some CSS to make a box of that exact size wherever I need to.\nThe full writeup on that is here\n, but here\u2019s CSS that uses trickery like the\nol\u2019 padded box\napplied to a pseudo element which pushes the box to the desired size:\n[style*=\"--aspect-ratio\"] > :first-child {\n  width: 100%;\n}\n[style*=\"--aspect-ratio\"] > img {  \n  height: auto;\n} \n@supports (--custom: property) {\n  [style*=\"--aspect-ratio\"] {\n    position: relative;\n  }\n  [style*=\"--aspect-ratio\"]::before {\n    content: \"\";\n    display: block;\n    padding-bottom: calc(100% / (var(--aspect-ratio)));\n  }  \n  [style*=\"--aspect-ratio\"] > :first-child {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n  }  \n}\nBut hey, these days, we have a native\naspect-ratio\nproperty in CSS, so setting that in the inline style might make more sense going forward.\n<div style=\"aspect-ratio: 16 / 9;\"></div>\nHovers and pseudos\nThere is no way to apply a\n:hover\nstyle (or other pseudo classes/elements) with inline styles. That is,\nunless we get tricky with custom properties\n. Say we want custom hover colors on some boxes\u2009\u2014\u2009we can pass that information in as a custom property:\n<div style=\"--hover-color: red;\"><div>\n<div style=\"--hover-color: blue;\"><div>\n<div style=\"--hover-color: yellow;\"><div>\nThen use it in CSS which, of course, can style a link\u2019s hover state:\ndiv:hover {\n  background-color: var(--hover-color);\n}\n\n/* And use in other pseudos! */\ndiv:hover::after {\n  content: \"I am \" attr(style);\n  border-color: var(--hover-color);\n}\nCustom properties and JavaScript\nJavaScript can set the value of a custom property.\nelement.style.setProperty('--x', value);\nHere\u2019s an example of a red square that is positioned with custom properties, and JavaScript updates those custom property values with the mouse position:\nTypically you think of JavaScript passing values to CSS to use, which is probably 99% of usage here, but note that you can pass things from CSS to JavaScript as well.\nAs we\u2019ve seen\n, the value of a custom property can be fairly permissive. That means you could pass it a logical statement. For example:\nhtml {\n  --logic: if (x > 5) document.body.style.background = \"blue\";\n}\nThen grab that value and execute it in JavaScript:\nconst x = 10;\n\nconst logic = getComputedStyle(document.documentElement).getPropertyValue(\n  \"--logic\"\n);\n\neval(logic);\nCustom properties are different than preprocessor variables\nSay you\u2019re already using Sass, Less, or Stylus. All those CSS preprocessors offer variables and it\u2019s one of the main reasons to have them as part of your build process.\n// Variable usage in Sass (SCSS)\n$brandColor: red;\n\n.marketing {\n  color: $brandColor;\n}\nSo,\ndo you even need to bother with native CSS custom properties then?\nYes, you should. Here\u2019s why in a nutshell:\nNative CSS custom properties are more powerful then preprocessor variables.\nTheir integration with the\ncascade\nin the DOM is something that preprocessor variables will never be able to do.\nNative CSS custom properties are dynamic.\nWhen they change (perhaps via JavaScript, or with a media query), the browser repaints what it needs to. Preprocessor variables resolve to a value when they\u2019re compiled and stay at that value.\nGoing with a native feature is good for the longevity of your code.\nYou don\u2019t need to preprocess native CSS.\nI cover this in much more detail in the article\n\u201cWhat is the difference between CSS variables and preprocessor\u00a0variables?\u201d\nTo be totally fair, there are little things that preprocessor variables can do that are hard or impossible with custom properties. Say you wanted to strip the units off a value for example.\nYou can do that in Sass\nbut you\u2019ll have a much harder time with custom properties in CSS alone.\nCan you preprocess custom properties?\nKinda. You can do this, with Sass just to pick one popular preprocessor:\n$brandColor: red;\nbody {\n--brandColor: #{$brandColor};\n}\nAll that\u2019s doing is moving a Sass variable to a custom property. That could be useful sometimes, but not terribly. Sass will just make\n--brandColor: red;\nthere, not process the custom property away.\nIf a browser doesn\u2019t support custom properties, that\u2019s that. You can\u2019t\nforce\na browser to do what custom properties do by CSS syntax transformations alone. There might be some kind of JavaScript polyfill that parses your CSS and replicates it, but I really don\u2019t suggest that.\nThe\nPostCSS Custom Properties\nplugin, though, does do CSS syntax transforms to help. What it does is figure out the value to the best of it\u2019s ability, and outputs that along with the custom property. So like:\n:root {\n  --brandColor: red;\n}\nbody {\n  color: var(--brandColor);\n}\nWill output like this:\n:root {\n  --brandColor: red;\n}\nbody {\n  color: red;\n  color: var(--brandColor);\n}\nThat means you get a value that hopefully doesn\u2019t seem broken in browsers that lack custom property support, but does not support any of the fancy things you can do with custom properties and will not even attempt to try. I\u2019m a bit dubious about how useful that is, but I think this is about the best you can do and I like the spirit of attempting to not break things in older browsers\nor\nnewer browsers.\nAvailiability\nAnother thing that is worth noting about the difference between is that with a CSS preprocessor, the variables are available\nonly\nas you\u2019re processing. Something like\n$brandColor\nis meaningless in your HTML or JavaScript. But when you have custom properties in use, you can set inline styles that use those custom properties and they will work. Or you can use JavaScript to figure out their current values (in context), if needed.\nAside from some somewhat esoteric features of preprocessor variables (e.g. some math possibilities), custom properties are more capable and useful.\nCustom properties and Web Components (Shadow DOM)\nOne of the most common and practical ways to style of Web Components (e.g. a\n<custom-component>\nwith shadow DOM) is by using custom properties as styling hooks.\nThe main point of the shadow DOM is that it doesn\u2019t \u201cleak\u201d styles in or out of it, offering style isolation in a way that nothing else offers, short of an\n<iframe>\n. Styles do still\ncascade\ntheir way inside, I just can\u2019t select my way inside. This means custom properties will slide right in there.\nHere\u2019s an example:\nAnother common occurrence of the shadow DOM is with SVG and the\n<use>\nelement.\nVideo:\n\u201cCSS Custom Properties Penetrate the Shadow DOM\u201d\nBrowser support\nThis browser support data is from\nCaniuse\n, which has more detail. A number indicates that browser supports the feature at that version and up.\nDesktop\nChrome\nFirefox\nIE\nEdge\nSafari\n49\n31\nNo\n16\n10\nMobile / Tablet\nAndroid Chrome\nAndroid Firefox\nAndroid\niOS Safari\n144\n147\n144\n10.0-10.2\nYou can\npreprocess for deeper browser support\n, with heavy limitations.\n@supports\nIf you would like to write conditional CSS for when a browser supports custom properties or not:\n@supports (--custom: property) {\n  /* Isolated CSS for browsers that DOES support custom properties, assuming it DOES support @supports */\n}\n\n@supports not (--custom: property) {\n  /* Isolated CSS for browsers that DON'T support custom properties, assuming it DOES support @supports */\n}\nRelated posts\nArticle\non\n\n    Mar 17, 2011\ncurrentcolor\nChris Coyier\ncustom properties\nstate\nArticle\non\n\n    Jan 5, 2021\nCustom Properties as State\nChris Coyier\n@property\ncustom properties\nArticle\non\n\n    Sep 2, 2020\nUsing @property for CSS Custom Properties\nChris Coyier\nCredit\nThanks to Miriam Suzanne for co-authoring this with me!",
  "content_markdown": "A custom property is most commonly thought of as a **variable** in CSS.\n\n```\n.card {\n  --spacing: 1.2rem;\n  padding: var(--spacing);\n  margin-bottom: var(--spacing);\n}\n```\n\nAbove, `--spacing` is the custom property with `1.2rem` as the value and `var(--spacing)` is the variable in use.\n\nPerhaps the most valuable reason to use them: not repeating yourself (DRY code). In the example above, I can change the **value** `1.2rem` in *one* place and have it affect *two* things. This brings something programming languages do to CSS.\n\nThere is a good bit to know about custom properties, so let\u2019s get into it.\n\n## Why care about CSS Custom Properties?\n\n1. They help DRY up your CSS. That is \u201cDon\u2019t Repeat Yourself.\u201d Custom properties can make code easier to maintain because you can update one value and have it reflected in multiple places. Careful though, overdoing abstraction can make have the opposite effect and make code less understandable.\n2. They are particularly helpful for things like creating **color themes** on a website.\n3. They unlock interesting possibilities in CSS. In no small part because they cascade.\n4. The fact that they can be updated in JavaScript opens up even more interesting possibilities.\n\n### Table of contents\n\n- [Why care about CSS Custom Properties?](#h-why-care-about-css-custom-properties)\n  - [Naming custom properties](#h-naming-custom-properties)\n    - [Properties as properties](#h-properties-as-properties)\n  - [Valid values for custom properties](#h-valid-values-for-custom-properties)\n  - [Breaking up values](#h-breaking-up-values)\n    - [Splitting colors](#h-splitting-colors)\n    - [Shadows](#h-shadows)\n    - [Gradients](#h-gradients)\n    - [Comma-separated values (like backgrounds)](#h-comma-separated-values-like-backgrounds)\n    - [Grids](#h-grids)\n    - [Transforms](#h-transforms)\n    - [Concatenation of unit types](#h-concatenation-of-unit-types)\n  - [Using the cascade](#h-using-the-cascade)\n    - [The :root thing](#h-the-root-thing)\n  - [Combining with !important](#h-combining-with-important)\n  - [Custom property fallbacks](#h-custom-property-fallbacks)\n  - [Using calc() and custom properties](#h-using-calc-and-custom-properties)\n    - [Deferring the calc()](#h-deferring-the-calc)\n  - [@property](#h-property)\n  - [Commas in values](#h-commas-in-values)\n  - [Advanced usage](#h-advanced-usage)\n    - [The initial and whitespace trick](#h-the-initial-and-whitespace-trick)\n    - [Inline styles](#h-inline-styles)\n    - [Hovers and pseudos](#h-hovers-and-pseudos)\n  - [Custom properties and JavaScript](#h-custom-properties-and-javascript)\n  - [Custom properties are different than preprocessor variables](#h-custom-properties-are-different-than-preprocessor-variables)\n    - [Can you preprocess custom properties?](#h-can-you-preprocess-custom-properties)\n    - [Availiability](#h-availiability)\n  - [Custom properties and Web Components (Shadow DOM)](#h-custom-properties-and-web-components-shadow-dom)\n  - [Browser support](#h-browser-support)\n    - [@supports](#h-supports)\n  - [Related posts](#h-related-posts)\n  - [Credit](#h-credit)\n\n### Naming custom properties\n\nCustom properties *must* be within a selector and start with two dashes (`--`):\n\n```\n/* Nope, not within a selector */\n--foo: 1;\n\nbody {\n  /* No, 0 or 1 dash won't work */\n  foo: 1;\n  -foo: 1; \n\n  /* Yep! */\n  --foo: 1;\n\n  /* OK, but they're different properties */\n  --FOO: 1;\n  --Foo: 1;\n  \n  /* Totally fine */\n  --mainColor: red;\n  --main-color: red;\n\n  /* Special characters are a no */\n  --color@home: red;\n  --black&blue: black;\n  --black^2: black;\n}\n```\n\nBest to stick with letters, numbers, and dashes while making sure the custom property is defined inside of a valid selector.\n\n#### Properties as properties\n\nYou can set the value of a custom property with another custom property:\n\n```\nhtml {\n  --red: #a24e34;\n  --green: #01f3e6;\n  --yellow: #f0e765;\n\n  --error: var(--red);\n  --errorBorder: 1px dashed var(--red);\n  --ok: var(--green);\n  --warning: var(--yellow);\n}\n```\n\nSome people like doing it this way because it allows the name of a custom property to be descriptive and then used in another property with a more functional name, again helping keep things DRY. It can even help make the functional names more readable and understandable.\n\n[There is a big gotcha](https://css-tricks.com/the-big-gotcha-with-custom-properties/) with custom properties that use other custom properties you should be aware of.\n\n### Valid values for custom properties\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nCustom properties are surprisingly tolerant when it comes to the values they accept.\n\nHere are some basic examples that you\u2019d expect to work, and do.\n\n```\nbody {\n  --brand-color: #990000;\n  --transparent-black: rgba(0, 0, 0, 0.5);\n  \n  --spacing: 0.66rem;\n  --max-reading-length: 70ch;\n  --brandAngle: 22deg;\n\n  --visibility: hidden;\n  --my-name: \"Chris Coyier\";\n}\n```\n\nSee that? They can be hex values, color functions, units of all kinds, and even strings of text.\n\n[custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nOct 9, 2019 \n\n### [Patterns for Practical CSS Custom Properties Use](https://css-tricks.com/patterns-for-practical-css-custom-properties-use/)\n\n[![](https://i0.wp.com/css-tricks.com/wp-content/cache/breeze-extra/gravatars/tyler-80x80.jpg?resize=80%2C80&ssl=1)](https://css-tricks.com/author/tylerchilds/) \n[Tyler Childs](https://css-tricks.com/author/tylerchilds/)\n\n[css variables](https://css-tricks.com/tag/css-variables/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Link**\non\nMay 16, 2018 \n\n### [A Strategy Guide To CSS Custom Properties](https://css-tricks.com/a-strategy-guide-to-css-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n**Link**\non\nSep 1, 2014 \n\n### [Advantages to Native CSS Variables](https://css-tricks.com/advantages-native-css-variables/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[custom properties](https://css-tricks.com/tag/custom-properties/) [state](https://css-tricks.com/tag/state/)\n\n**Article**\non\nJan 5, 2021 \n\n### [Custom Properties as State](https://css-tricks.com/custom-properties-as-state/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\nBut custom properties don\u2019t have to be complete values like that. Let\u2019s look at how useful it can be to break up valid CSS values into parts we can shove into custom properties.\n\n### Breaking up values\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nYou can use custom properties to break up multi-part values.\n\nLet\u2019s imagine you\u2019re using a color function, say `rgba()`. Each color channel value in there can be its own custom property. That opens up a ton of possibilities, like changing the alpha value for a specific use case, or perhaps creating color themes.\n\n#### Splitting colors\n\nTake HSL color, for example. We can split it up into parts, then very easily adjust the parts where we want. Maybe we\u2019re working with the background color of a button. We can update specific parts of its HSL makeup when the button is hovered, in focus, or disabled, without declaring `background` on any of those states at all.\n\n```\nbutton {\n  --h: 100;\n  --s: 50%;\n  --l: 50%;\n  --a: 1;\n\n  background: hsl(var(--h) var(--s) var(--l) / var(--a));\n}\nbutton:hover { /* Change the lightness on hover */\n  --l: 75%;\n}\nbutton:focus { /* Change the saturation on focus */\n  --s: 75%;\n}\nbutton[disabled] {  /* Make look disabled */\n  --s: 0%;\n  --a: 0.5;\n}\n```\n\nBy breaking apart values like that, we can [control *parts* of them](https://css-tricks.com/now-css-custom-properties-thing-value-parts-can-changed-individually/) in a way we never could before. Just look at how we didn\u2019t need to declare all of the HSL arguments to style the hover, focus and disabled state of a button. We simply overrode specific HSL values when we needed to. Pretty cool stuff!\n\n#### Shadows\n\n`box-shadow` doesn\u2019t have a shorthand property for controlling the shadow\u2019s spread on its own. But we could break out the `box-shadow` spread value and control it as a custom property ([demo](https://codepen.io/team/css-tricks/pen/PoWdVOw)).\n\n```\nbutton {\n  --spread: 5px;\n  box-shadow: 0 0 20px var(--spread) black;\n}\nbutton:hover {\n  --spread: 10px;\n}\n```\n\n#### Gradients\n\nThere is no such thing as a `background-gradient-angle` (or the like) shorthand for gradients. With custom properties, we can change just change that part as if there was such a thing.\n\n```\nbody {\n  --angle: 180deg;\n  background: linear-gradient(var(--angle), red, blue);\n}\nbody.sideways {\n  --angle: 90deg;\n}\n```\n\n#### Comma-separated values (like backgrounds)\n\nAny property that supports multiple comma-separated values might be a good candidate for splitting values too, since there is no such thing as targeting just one value of a comma-separated list and changing it alone.\n\n```\n/* Lots of backgrounds! */\nbackground-image:\n  url(./img/angles-top-left.svg),\n  url(./img/angles-top-right.svg),\n  url(./img/angles-bottom-right.svg),\n  url(./img/angles-bottom-left.svg),\n  url(./img/bonus-background.svg);\n```\n\nSay you wanted to remove [just one of many multiple backgrounds](https://css-tricks.com/managing-multiple-backgrounds-with-custom-properties/) at a media query. You could do that with custom properties like this, making it a trivial task to swap or override backgrounds.\n\n```\nbody {\n  --bg1: url(./img/angles-top-left.svg);\n  --bg2: url(./img/angles-top-right.svg);\n  --bg3: url(./img/angles-bottom-right.svg);\n  --bg4: url(./img/angles-bottom-left.svg);\n  --bg5: url(./img/bonus-background.svg);\n  \n  background-image: var(--bg1), var(--bg2), var(--bg3), var(--bg4);\n}\n@media (min-width: 1500px) {\n  body {\n    background-image: var(--bg1), var(--bg2), var(--bg3), var(--bg4), var(--bg5);\n  }\n}\n```\n\n#### Grids\n\nWe\u2019re on a roll here, so we might as well do a few more examples. Like, hey, we can take the `grid-template-columns` property and abstract its values into custom properties to make a super flexible grid system:\n\n```\n.grid {\n  display: grid;\n  --edge: 10px;\n  grid-template-columns: var(--edge) 1fr var(--edge);\n}\n@media (min-width: 1000px) {\n  .grid {\n     --edge: 15%;\n   }\n}\n```\n\n#### Transforms\n\nCSS will soon get [individual transforms](https://drafts.csswg.org/css-transforms-2/#individual-transforms) but we can get it sooner with custom properties. The idea is to apply all the transforms an element might get up front, then control them individually as needed:\n\n```\nbutton {\n  transform: var(--scale, scale(1)) var(--translate, translate(0));\n}\nbutton:active {\n  --translate: translate(0, 2px);\n}\nbutton:hover {\n  --scale: scale(0.9);\n}\n```\n\n#### Concatenation of unit types\n\nThere are times when combining parts of values doesn\u2019t work quite how you might hope. For example, you can\u2019t make `24px` by smashing `24` and `px` together. It can be done though, by *multiplying* the raw number by a number value with a unit.\n\n```\nbody {\n  --value: 24;\n  --unit: px;\n  \n  /* Nope */\n  font-size: var(--value) + var(--unit);\n  \n  /* Yep */\n  font-size: calc(var(--value) * 1px);\n\n  /* Yep */\n  --pixel_converter: 1px;\n  font-size: calc(var(--value) * var(--pixel_converter));\n}\n```\n\n[custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nAug 14, 2019 \n\n### [Contextual Utility Classes for Color with Custom Properties](https://css-tricks.com/contextual-utility-classes-for-color-with-custom-properties/)\n\n[![](https://i0.wp.com/css-tricks.com/wp-content/cache/breeze-extra/gravatars/pp-80x80.jpg?resize=80%2C80&ssl=1)](https://css-tricks.com/author/chriskirknielsen/) \n[Christopher Kirk-Nielsen](https://css-tricks.com/author/chriskirknielsen/)\n\n[calc](https://css-tricks.com/tag/calc/) [css variables](https://css-tricks.com/tag/css-variables/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nMay 10, 2017 \n\n### [Making Custom Properties (CSS Variables) More Dynamic](https://css-tricks.com/making-custom-properties-css-variables-dynamic/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/a67045612bf576547f970b04448f13c1f3d7c7299fea8bd5d54b28cb0afcb7c0)](https://css-tricks.com/author/dancwilson/) \n[Dan Wilson](https://css-tricks.com/author/dancwilson/)\n\n**Article**\non\nAug 11, 2017 \n\n### [More CSS Charts, with Grid & Custom Properties](https://css-tricks.com/css-charts-grid-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/ae0467bce26cf281ae92243a6000639eb4efaed23b953798bf4bdf7cdb1f3778)](https://css-tricks.com/author/miriam/) \n[Miriam Suzanne](https://css-tricks.com/author/miriam/)\n\n[calc](https://css-tricks.com/tag/calc/) [css variables](https://css-tricks.com/tag/css-variables/) [responsive](https://css-tricks.com/tag/responsive/)\n\n**Article**\non\nFeb 25, 2019 \n\n### [Responsive Designs and CSS Custom Properties: Defining Variables and Breakpoints](https://css-tricks.com/responsive-designs-and-css-custom-properties-defining-variables-and-breakpoints/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/2c333cae8e6a602109f0f8ae44c2a38ab8b05de3042f47859e3628c55d92e565)](https://css-tricks.com/author/mikolajdobrucki/) \n[Mikolaj Dobrucki](https://css-tricks.com/author/mikolajdobrucki/)\n\n[css animation](https://css-tricks.com/tag/css-animation/) [gradients](https://css-tricks.com/tag/gradients/) [keyframes](https://css-tricks.com/tag/keyframes/) [transition](https://css-tricks.com/tag/transition/)\n\n**Article**\non\nJun 1, 2018 \n\n### [The State of Changing Gradients with CSS Transitions and Animations](https://css-tricks.com/the-state-of-changing-gradients-with-css-transitions-and-animations/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/3a2e2f1da40ff7880e4ab0efbf2082f5deffc43b8e7a5f2ed42f4c386a8fd932)](https://css-tricks.com/author/thebabydino/) \n[Ana Tudor](https://css-tricks.com/author/thebabydino/)\n\n[dark](https://css-tricks.com/tag/dark/) [variable fonts](https://css-tricks.com/tag/variable-fonts/)\n\n**Article**\non\nDec 10, 2020 \n\n### [Using CSS Custom Properties to Adjust Variable Font Weights in Dark Mode](https://css-tricks.com/using-css-custom-properties-to-adjust-variable-font-weights-in-dark-mode/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/1e269e5dfba188eaa262c057e15c0bdcb45515386e775e7f67f09498f3908216)](https://css-tricks.com/author/greg-gibson/) \n[Greg Gibson](https://css-tricks.com/author/greg-gibson/)\n\n### Using the cascade\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nThe fact that custom properties use [the cascade](https://css-tricks.com/the-c-in-css-the-cascade/) is one of the most useful things about them.\n\nYou\u2019ve already seen it in action in many of the examples we\u2019ve covered, but let\u2019s put a point on it. Say we have a custom property set pretty \u201chigh up\u201d (on the body), and then set again on a specific class. We use it on a specific component.\n\n```\nbody {\n  --background: white;\n}\n.sidebar {\n  --background: gray;\n}\n.module {\n  background: var(--background);\n}\n```\n\nThen say we\u2019ve got practical HTML like this:\n\n```\n<body> <!-- --background: white -->\n\n  <main>\n    <div class=\"module\">\n      I will have a white background.\n    </div>\n  <main>\n\n  <aside class=\"sidebar\"> <!-- --background: gray -->\n    <div class=\"module\">\n      I will have a gray background.\n    </div>\n  </aside>\n\n</body>\n```\n\n![Three CSS rulesets, one for a body, sidebar and module. the background custom property is defined as white on body and gray on sidebar. The module calls the custom property and shows an orange arrow pointing to the custom property defined in the sidebar since it is the nearest ancestor.](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/04/custom-property-cascade-inherit.jpg?resize=1245%2C741&ssl=1)\n\nFor the second module, `.sidebar` is a closer ancestor than `body`, thus `--background` resolves to `gray` there, but white in other places.\n\nThe \u201cmodule\u201d in the sidebar has a gray background because custom properties (like many other CSS properties) **inherit** through the HTML structure. Each module takes the `--background` value from the nearest \u201cancestor\u201d where it\u2019s been defined in CSS.\n\nSo, we have *one* CSS declaration but it\u2019s doing different things in different contexts, thanks to the cascade. That\u2019s just cool.\n\nThis plays out in other ways:\n\n```\nbutton {\n  --foo: Default;\n}\nbutton:hover {\n  --foo: I win, when hovered;\n  /* This is a more specific selector, so re-setting \n     custom properties here will override those in `button` */\n}\n```\n\nMedia queries don\u2019t change specificity, but they often come *later* (or lower) in the CSS file than where the original selector sets a value, which also means a custom property will be overridden inside the media query:\n\n```\nbody {\n  --size: 16px;\n  font-size: var(--size);\n}\n@media (max-width: 600px) {\n  body {\n    --size: 14px;\n  } \n}\n```\n\n[Media queries](https://css-tricks.com/a-complete-guide-to-css-media-queries/) aren\u2019t only for screen sizes. They can be used for things like accessibility preferences. For example, [dark mode](https://css-tricks.com/a-complete-guide-to-dark-mode-on-the-web/):\n\n```\nbody {\n  --bg-color: white; \n  --text-color: black;\n\n  background-color: var(--bg-color);\n  color: var(--text-color);\n}\n\n/* If the user's preferred color scheme is dark */\n@media screen and (prefers-color-scheme: dark) {\n  body {\n    --bg-color: black;\n    --text-color: white;\n  }\n}\n```\n\n#### The `:root` thing\n\nYou\u2019ll often see custom properties being set \u201cat the root.\u201d Here\u2019s what that means:\n\n```\n:root {\n  --color: red;\n}\n\n/* ...is largely the same as writing: */\nhtml {\n  --color: red;\n}\n\n/* ...except :root has higher specificity, so remember that! */\n```\n\nThere is no particularly compelling reason to define custom properties like that. It\u2019s just a way of setting custom properties *as high up as they can go*. If you like that, that\u2019s totally fine. I find it somehow more normal-feeling to apply them to the `html` or `body` selectors when setting properties I intend to make available globally, or everywhere.\n\nThere is also no reason you *need* to set variables at this broad of a scope. It can be just as useful, and perhaps more readable and understandable, to set them right at the level you are going to use them (or fairly close in the DOM tree).\n\n```\n.module {\n  --module-spacing: 1rem;\n  --module-border-width: 2px;\n\n  border: var(--module-border-width) solid black;\n}\n\n.module + .module {\n  margin-top: var(--module-spacing);\n}\n```\n\nNote that setting a custom property on the module itself means that property will no longer inherit from an ancestor (unless we set the value to `inherit`). Like other inherited properties, there are sometimes reasons to specify them in place (at the global level), and other times we want to inherit them from context (at the component level). Both are useful. What\u2019s cool about custom properties is that we can define them in one place, inherit them *behind the scenes*and apply them **somewhere completely different**. We take control of the cascade!\n\n[css variables](https://css-tricks.com/tag/css-variables/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Link**\non\nMay 16, 2018 \n\n### [A Strategy Guide To CSS Custom Properties](https://css-tricks.com/a-strategy-guide-to-css-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[custom properties](https://css-tricks.com/tag/custom-properties/) [global scope](https://css-tricks.com/tag/global-scope/) [themes](https://css-tricks.com/tag/themes/)\n\n**Link**\non\nJun 30, 2020 \n\n### [Global and Component Style Settings with CSS Variables](https://css-tricks.com/global-and-component-style-settings-with-css-variables/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[css variables](https://css-tricks.com/tag/css-variables/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nMar 27, 2019 \n\n### [Breaking CSS Custom Properties out of :root Might Be a Good Idea](https://css-tricks.com/breaking-css-custom-properties-out-of-root-might-be-a-good-idea/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/74a367d66afe7156f03614b6844f16fee23078fd5a5c90cd1d552baae04b6646)](https://css-tricks.com/author/kevinpowell/) \n[Kevin Powell](https://css-tricks.com/author/kevinpowell/)\n\n### Combining with `!important`\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nYou can make an `!important` modifier within or outside of a variable.\n\n```\n.override-red {\n  /* this works */\n  --color: red !important;  \n  color: var(--color);\n\n  /* this works, too */\n  --border: red;\n  border: 1px solid var(--border) !important;\n}\n```\n\nApplying `!important` to the `--color` variable, makes it difficult to override the value of the `--color` variable, but we can still ignore it by changing the `color` property.\n\nThe behavior of `!important` inside the values of custom properties is quite unusual. [Stefan Judis documents it well](https://www.stefanjudis.com/today-i-learned/the-surprising-behavior-of-important-css-custom-properties/), but the gist is:\n\n1. Ultimately, `!important` is stripped from the value of the custom property.\n2. But it is used when determining which value wins when it is set in multiple places.\n\n```\ndiv {\n  --color: red !important;\n}\n#id {\n  --color: yellow;\n}\n```\n\nIf both of those selectors apply to an element, you might think the `#id` value would win because of the higher specificity, but really `red` will win because of the `!important`, but then ultimately be applied without the `!important`. It\u2019s a little funky to wrap your head around.\n\nIf applying the `!important` *outside* of the custom property, like the 2nd example two code blocks up, our `--border` variable remains low-specificity (easy to override), but it\u2019s hard to change how that value will be applied to the `border` itself because the entire declaration retains `!important`.\n\n### Custom property fallbacks\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nThe `var()` function is what allows for fallback values in custom properties.\n\nHere we\u2019re setting a `scale()` transform function to a custom property, but there is a **comma-separated** second value of `1.2`. That `1.2` value will be used if `--scale` is not set.\n\n```\n.bigger {\n  transform: scale(var(--scale, 1.2));\n}\n```\n\nAfter the first comma, any additional commas are part of the fallback value. That allows us to create fallbacks with comma-separated values inside them. For example, we can have one variable fall back to an entire stack of fonts:\n\n```\nhtml {\n  font-family: var(--fonts, Helvetica, Arial, sans-serif);\n}\n```\n\nWe can also provide a series of variable fallbacks (as many as we want), but we have to nest them for that to work:\n\n```\n.bigger {\n  transform: scale(var(--scale, var(--second-fallback, 1.2));\n}\n```\n\nIf `--scale` is undefined, we try the `--second-fallback`. If that is also undefined, we finally fall back to `1.2`.\n\n### Using `calc()` and custom properties\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nEven more power of custom properties is unlocked when we combine them with math!\n\nThis kind of thing is common:\n\n```\nmain {\n  --spacing: 2rem;\n}\n\n.module {\n  padding: var(--spacing);\n}\n\n.module.tight {\n  /* divide the amount of spacing in half */\n  padding: calc(var(--spacing) / 2)); \n}\n```\n\nWe could also use that to calculate the hue of a complementary color:\n\n```\nhtml {\n  --brand-hue: 320deg;\n  --brand-color: hsl(var(--brand-hue), 50%, 50%);\n  --complement: hsl(calc(var(--brand-hue) + 180deg), 50%, 50%);\n}\n```\n\n`calc()` can even be used with multiple custom properties:\n\n```\n.slider {\n  width: calc(var(--number-of-boxes) * var(--width-of-box));\n}\n```\n\n#### Deferring the `calc()`\n\nIt might look weird to see calculous-like math without a `calc()`:\n\n```\nbody {\n  /* Valid, but the math isn't actually performed just yet ... */\n  --font-size: var(--base-font-size) * var(--modifier);\n\n  /* ... so this isn't going to work */\n  font-size: var(--font-size);\n}\n```\n\nThe trick is that as long as you eventually put it in a `calc()` function, it works fine:\n\n```\nbody {\n  --base-font-size: 16px;\n  --modifier: 2;\n  --font-size: var(--base-font-size) * var(--modifier);\n\n  /* The calc() is \"deferred\" down to here, which works */\n  font-size: calc(var(--font-size));\n}\n```\n\nThis might be useful if you\u2019re doing quite a bit of math on your variables, and the `calc()` wrapper becomes distracting or noisy in the code.\n\n### @property\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nThe `@property` \u201cat-rule\u201d in CSS allows you to declare the type of a custom property, as well its as initial value and whether it inherits or not.\n\nIt\u2019s sort of like you\u2019re creating an actual CSS property and have the ability to define what it\u2019s called, it\u2019s syntax, how it interacts with the cascade, and its initial value.\n\n```\n@property --x {\n  syntax: '<number>';\n  inherits: false;\n  initial-value: 42;\n}\n```\n\nValid Types \n\n- `length`\n- `number`\n- `percentage`\n- `length-percentage`\n- `color`\n- `image`\n- `url`\n- `integer`\n- `angle`\n- `time`\n- `resolution`\n- `transform-list`\n- `transform-function`\n- `custom-ident`\u00a0(a custom identifier string)\n\nThis means that the browser knows what kind of value it is dealing with, rather than assuming everything is a string. That means you can animate things in ways you couldn\u2019t otherwise.\n\nFor example, say you have a star-shaped icon that you want to spin around with `@keyframes` and rotate with a `transform`. So you do this:\n\n```\n.star {\n  --r: 0deg;\n  transform: rotate(var(--r));\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  100% {\n    --r: 360deg;\n  }\n}\n```\n\nThat actually won\u2019t work, as the browser doesn\u2019t know that `0deg` and `360deg` are valid angle values. You have to define them as an `<angle>` type with `@property` for that to work.\n\n```\n@property --r {\n  syntax: '<angle>';\n  initial-value: 0deg;\n  inherits: false;\n}\n\n.star {\n  --r: 0deg;\n  transform: rotate(var(--r));\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  100% {\n    --r: 360deg;\n  }\n}\n```\n\nDemo \n\n[@property](https://css-tricks.com/tag/property/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nApr 25, 2020 \n\n### [@property](https://css-tricks.com/property/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[@property](https://css-tricks.com/tag/property/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nSep 2, 2020 \n\n### [Using @property for CSS Custom Properties](https://css-tricks.com/using-property-for-css-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[@property](https://css-tricks.com/tag/property/) [css animation](https://css-tricks.com/tag/css-animation/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nMar 4, 2021 \n\n### [Exploring @property and its Animating Powers](https://css-tricks.com/exploring-property-and-its-animating-powers/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/88f05a8f8ee43ecf0e6752ed506b28f9ba34e86e3e0d887fba2c4c596a2c9531)](https://css-tricks.com/author/jheytompkins/) \n[Jhey Tompkins](https://css-tricks.com/author/jheytompkins/)\n\n**Article**\non\nMar 8, 2021 \n\n### [241: The @property is magic](https://css-tricks.com/newsletter/241-the-property-is-magic/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/a8e040142716a4b44d014d80fbcf99c635b1d8faabfe469b6954a8ef2f168595)](https://css-tricks.com/author/geoffgraham/) \n[Geoff Graham](https://css-tricks.com/author/geoffgraham/)\n\n### Commas in values\n\nThis can be a smidge confusing. Maybe not so much this:\n\n```\nhtml {\n  --list: 1, 2, 3;\n}\n```\n\nBut below, you\u2019ll need a sharp eye to realize the fallback value is actually `1.2, 2`. The first comma separates the fallback, but all the rest is part of the value.\n\n```\nhtml {\n  transform: scale(var(--scale, 1.2, 2));\n}\n```\n\n[Learn more about fallbacks above \u2b91](#h-custom-property-fallbacks)\n\n### Advanced usage\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\n[The Raven](https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/) is a technique that emulates container queries using math and custom properties. Be prepared, this goes from 0-100 in complexity right out of the gate!\n\nDemo \n\nResize this demo to see a grid of inline-block elements change number of columns from 4 to 3 to 1.\n\nHere\u2019s a few more favorite examples that show off advanced usage of custom properties:\n\n[css animation](https://css-tricks.com/tag/css-animation/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nSep 12, 2019 \n\n### [Using Custom Properties to Wrangle Variations in Keyframe Animations](https://css-tricks.com/using-custom-properties-to-wrangle-variations-in-keyframe-animations/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/741487c88e0ca546f3bb24cb907636de2d6e64219edecef0727a7abd5377c494)](https://css-tricks.com/author/sandrinapereira/) \n[Sandrina Pereira](https://css-tricks.com/author/sandrinapereira/)\n\n[css variables](https://css-tricks.com/tag/css-variables/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nNov 27, 2019 \n\n### [The Power (and Fun) of Scope with CSS Custom Properties](https://css-tricks.com/the-power-and-fun-of-scope-with-css-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/88f05a8f8ee43ecf0e6752ed506b28f9ba34e86e3e0d887fba2c4c596a2c9531)](https://css-tricks.com/author/jheytompkins/) \n[Jhey Tompkins](https://css-tricks.com/author/jheytompkins/)\n\n[animation](https://css-tricks.com/tag/animation/) [custom properties](https://css-tricks.com/tag/custom-properties/) [details/summary](https://css-tricks.com/tag/details-summary/) [IntersectionObserver](https://css-tricks.com/tag/intersectionobserver/) [keyframes](https://css-tricks.com/tag/keyframes/)\n\n**Article**\non\nJan 21, 2021 \n\n### [How to Play and Pause CSS Animations with CSS Custom Properties](https://css-tricks.com/how-to-play-and-pause-css-animations-with-css-custom-properties/)\n\n[![](https://i0.wp.com/css-tricks.com/wp-content/cache/breeze-extra/gravatars/xfKShH2E_400x400-80x80.jpg?resize=80%2C80&ssl=1)](https://css-tricks.com/author/madsstoumann/) \n[Mads Stoumann](https://css-tricks.com/author/madsstoumann/)\n\n[custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Link**\non\nAug 4, 2020 \n\n### [The Cicada Principle, revisited with CSS variables](https://css-tricks.com/the-cicada-principle-revisited-with-css-variables/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n#### The `initial` and whitespace trick\n\nThink of `@media` queries and how when **one** thing changes (e.g. the width of the page) you can control **multiple** things. That\u2019s kind of the idea with this trick. You change **one** custom property and control **multiple** things.\n\nThe trick is that the value of `initial` for a custom property will trigger a fallback, while an empty whitespace value will not. For the sake of explanation, it let\u2019s define two globally-scoped custom properties, `ON` and `OFF`:\n\n```\n:root {\n  --ON: initial;\n  --OFF: ;\n}\n```\n\nSay we have a \u201cdark\u201d variation class which sets a number of different properties. The default is `--OFF`, but can be flipped to `--ON` whenever:\n\n```\n.module {\n  --dark: var(--OFF);\n}\n\n.dark { /* could be a media query or whatever */\n  --dark: var(--ON);\n}\n```\n\nNow you can use `--dark` to conditinally set values that apply only when you\u2019ve flipped `--dark` to `--ON`. Demo:\n\n[Lea Verou has a great writeup](https://lea.verou.me/2020/10/the-var-space-hack-to-toggle-multiple-values-with-one-custom-property/?) that covers all of this.\n\n#### Inline styles\n\nIt\u2019s totally legit to set a custom property in HTML with an inline style.\n\n```\n<div style=\"--color: red;\"></div>\n```\n\nThat will, like any inline style, have a very high level of specificity.\n\nThis can be super useful for when the HTML might have access to some useful styling information that would be too weird/difficult to put into a static CSS file. A good example of that is maintaining the aspect ratio of an element:\n\n```\n<div style=\"--aspect-ratio: 16 / 9;\"></div>\n```\n\nNow I can set up some CSS to make a box of that exact size wherever I need to. [The full writeup on that is here](https://css-tricks.com/aspect-ratio-boxes/#using-custom-properties), but here\u2019s CSS that uses trickery like the [ol\u2019 padded box](https://daverupert.com/2012/04/uncle-daves-ol-padded-box/) applied to a pseudo element which pushes the box to the desired size:\n\n```\n[style*=\"--aspect-ratio\"] > :first-child {\n  width: 100%;\n}\n[style*=\"--aspect-ratio\"] > img {  \n  height: auto;\n} \n@supports (--custom: property) {\n  [style*=\"--aspect-ratio\"] {\n    position: relative;\n  }\n  [style*=\"--aspect-ratio\"]::before {\n    content: \"\";\n    display: block;\n    padding-bottom: calc(100% / (var(--aspect-ratio)));\n  }  \n  [style*=\"--aspect-ratio\"] > :first-child {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n  }  \n}\n```\n\nBut hey, these days, we have a native `aspect-ratio` property in CSS, so setting that in the inline style might make more sense going forward.\n\n```\n<div style=\"aspect-ratio: 16 / 9;\"></div>\n```\n\n#### Hovers and pseudos\n\nThere is no way to apply a `:hover` style (or other pseudo classes/elements) with inline styles. That is, [unless we get tricky with custom properties](https://css-tricks.com/want-to-write-a-hover-effect-with-inline-css-use-css-variables/). Say we want custom hover colors on some boxes\u2009\u2014\u2009we can pass that information in as a custom property:\n\n```\n<div style=\"--hover-color: red;\"><div>\n<div style=\"--hover-color: blue;\"><div>\n<div style=\"--hover-color: yellow;\"><div>\n```\n\nThen use it in CSS which, of course, can style a link\u2019s hover state:\n\n```\ndiv:hover {\n  background-color: var(--hover-color);\n}\n\n/* And use in other pseudos! */\ndiv:hover::after {\n  content: \"I am \" attr(style);\n  border-color: var(--hover-color);\n}\n```\n\n### Custom properties and JavaScript\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nJavaScript can set the value of a custom property.\n\n```\nelement.style.setProperty('--x', value);\n```\n\nHere\u2019s an example of a red square that is positioned with custom properties, and JavaScript updates those custom property values with the mouse position:\n\nTypically you think of JavaScript passing values to CSS to use, which is probably 99% of usage here, but note that you can pass things from CSS to JavaScript as well. [As we\u2019ve seen](#valid-values-for-custom-properties), the value of a custom property can be fairly permissive. That means you could pass it a logical statement. For example:\n\n```\nhtml {\n  --logic: if (x > 5) document.body.style.background = \"blue\";\n}\n```\n\nThen grab that value and execute it in JavaScript:\n\n```\nconst x = 10;\n\nconst logic = getComputedStyle(document.documentElement).getPropertyValue(\n  \"--logic\"\n);\n\neval(logic);\n```\n\n### Custom properties are different than preprocessor variables\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nSay you\u2019re already using Sass, Less, or Stylus. All those CSS preprocessors offer variables and it\u2019s one of the main reasons to have them as part of your build process.\n\n```\n// Variable usage in Sass (SCSS)\n$brandColor: red;\n\n.marketing {\n  color: $brandColor;\n}\n```\n\nSo, **do you even need to bother with native CSS custom properties then?** Yes, you should. Here\u2019s why in a nutshell:\n\n- **Native CSS custom properties are more powerful then preprocessor variables.** Their integration with the **cascade** in the DOM is something that preprocessor variables will never be able to do.\n- **Native CSS custom properties are dynamic.** When they change (perhaps via JavaScript, or with a media query), the browser repaints what it needs to. Preprocessor variables resolve to a value when they\u2019re compiled and stay at that value.\n- **Going with a native feature is good for the longevity of your code.** You don\u2019t need to preprocess native CSS.\n\nI cover this in much more detail in the article [\u201cWhat is the difference between CSS variables and preprocessor\u00a0variables?\u201d](https://css-tricks.com/difference-between-types-of-css-variables/)\n\nTo be totally fair, there are little things that preprocessor variables can do that are hard or impossible with custom properties. Say you wanted to strip the units off a value for example. [You can do that in Sass](https://css-tricks.com/snippets/sass/strip-unit-function/) but you\u2019ll have a much harder time with custom properties in CSS alone.\n\n#### Can you preprocess custom properties?\n\nKinda. You can do this, with Sass just to pick one popular preprocessor:\n\n```\n$brandColor: red;\nbody {\n--brandColor: #{$brandColor};\n}\n```\n\nAll that\u2019s doing is moving a Sass variable to a custom property. That could be useful sometimes, but not terribly. Sass will just make `--brandColor: red;` there, not process the custom property away.\n\nIf a browser doesn\u2019t support custom properties, that\u2019s that. You can\u2019t *force* a browser to do what custom properties do by CSS syntax transformations alone. There might be some kind of JavaScript polyfill that parses your CSS and replicates it, but I really don\u2019t suggest that.\n\nThe [PostCSS Custom Properties](https://github.com/postcss/postcss-custom-properties) plugin, though, does do CSS syntax transforms to help. What it does is figure out the value to the best of it\u2019s ability, and outputs that along with the custom property. So like:\n\n```\n:root {\n  --brandColor: red;\n}\nbody {\n  color: var(--brandColor);\n}\n```\n\nWill output like this:\n\n```\n:root {\n  --brandColor: red;\n}\nbody {\n  color: red;\n  color: var(--brandColor);\n}\n```\n\nThat means you get a value that hopefully doesn\u2019t seem broken in browsers that lack custom property support, but does not support any of the fancy things you can do with custom properties and will not even attempt to try. I\u2019m a bit dubious about how useful that is, but I think this is about the best you can do and I like the spirit of attempting to not break things in older browsers *or* newer browsers.\n\n#### Availiability\n\nAnother thing that is worth noting about the difference between is that with a CSS preprocessor, the variables are available *only* as you\u2019re processing. Something like `$brandColor` is meaningless in your HTML or JavaScript. But when you have custom properties in use, you can set inline styles that use those custom properties and they will work. Or you can use JavaScript to figure out their current values (in context), if needed.\n\nAside from some somewhat esoteric features of preprocessor variables (e.g. some math possibilities), custom properties are more capable and useful.\n\n### Custom properties and Web Components (Shadow DOM)\n\n![](https://css-tricks.com/wp-content/uploads/2021/04/lightbulb-icon-happy.svg)\n\nOne of the most common and practical ways to style of Web Components (e.g. a `<custom-component>` with shadow DOM) is by using custom properties as styling hooks.\n\nThe main point of the shadow DOM is that it doesn\u2019t \u201cleak\u201d styles in or out of it, offering style isolation in a way that nothing else offers, short of an `<iframe>`. Styles do still *cascade* their way inside, I just can\u2019t select my way inside. This means custom properties will slide right in there.\n\nHere\u2019s an example:\n\nAnother common occurrence of the shadow DOM is with SVG and the `<use>` element.\n\nVideo: [\u201cCSS Custom Properties Penetrate the Shadow DOM\u201d](https://css-tricks.com/video-screencasts/190-css-custom-properties-penetrate-the-shadow-dom/)\n\n### Browser support\n\nThis browser support data is from [Caniuse](http://caniuse.com/#feat=css-variables), which has more detail. A number indicates that browser supports the feature at that version and up.\n\n#### Desktop\n\n| Chrome | Firefox | IE | Edge | Safari |\n| --- | --- | --- | --- | --- |\n| 49 | 31 | No | 16 | 10 |\n\n#### Mobile / Tablet\n\n| Android Chrome | Android Firefox | Android | iOS Safari |\n| --- | --- | --- | --- |\n| 144 | 147 | 144 | 10.0-10.2 |\n\nYou can [preprocess for deeper browser support](#h-can-you-preprocess-custom-properties), with heavy limitations.\n\n#### @supports\n\nIf you would like to write conditional CSS for when a browser supports custom properties or not:\n\n```\n@supports (--custom: property) {\n  /* Isolated CSS for browsers that DOES support custom properties, assuming it DOES support @supports */\n}\n\n@supports not (--custom: property) {\n  /* Isolated CSS for browsers that DON'T support custom properties, assuming it DOES support @supports */\n}\n```\n\n### Related posts\n\n**Article**\non\nMar 17, 2011 \n\n### [currentcolor](https://css-tricks.com/currentcolor/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[custom properties](https://css-tricks.com/tag/custom-properties/) [state](https://css-tricks.com/tag/state/)\n\n**Article**\non\nJan 5, 2021 \n\n### [Custom Properties as State](https://css-tricks.com/custom-properties-as-state/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n[@property](https://css-tricks.com/tag/property/) [custom properties](https://css-tricks.com/tag/custom-properties/)\n\n**Article**\non\nSep 2, 2020 \n\n### [Using @property for CSS Custom Properties](https://css-tricks.com/using-property-for-css-custom-properties/)\n\n[![](https://css-tricks.com/wp-content/cache/breeze-extra/gravatars/41a6f9778d12dfedcc7ec3727d64a12491d75d9a65d4b9323feb075391ae6795)](https://css-tricks.com/author/chriscoyier/) \n[Chris Coyier](https://css-tricks.com/author/chriscoyier/)\n\n### Credit\n\nThanks to Miriam Suzanne for co-authoring this with me!",
  "tags": [
    "css-tricks",
    "guides",
    "css",
    "snippets"
  ],
  "extracted_at": "2026-02-03T12:46:40.278841+00:00",
  "content_length": 29269,
  "content_hash": "585d7be52b827a98"
}