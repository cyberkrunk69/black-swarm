{
  "id": "css-tricks__a-complete-guide-to-calc-in-css_",
  "source_id": "css-tricks",
  "source_name": "CSS-Tricks Guides",
  "category": "css_styling",
  "url": "https://css-tricks.com/a-complete-guide-to-calc-in-css/",
  "title": "The CSS Calculating Function Guide | CSS-Tricks",
  "content": "CSS has a special\ncalc()\nfunction for doing basic math. In this guide, let\u2019s cover just about everything there is to know about this very useful function.\nHere\u2019s an\nexample\n:\n.main-content {\n  /* Subtract 80px from 100vh */\n  height: calc(100vh - 80px);\n}\nIn this guide, let\u2019s cover just about everything there is to know about this very useful function.\ncalc()\nis for values\nThe only place you can use the\ncalc()\nfunction is in\nvalues\n. See these examples where we\u2019re setting the value for a number of different properties.\n.el {\n  font-size: calc(3vw + 2px);\n  width:     calc(100% - 20px);\n  height:    calc(100vh - 20px);\n  padding:   calc(1vw + 5px);\n}\nIt could be used for only\npart\nof a property too, for example:\n.el {\n  margin: 10px calc(2vw + 5px);\n  border-radius: 15px calc(15px / 3) 4px 2px;\n  transition: transform calc(1s - 120ms);\n}\nIt can even be a part of\nanother\nfunction that forms a part of a property! For example, here\u2019s\ncalc()\nused within the color stops of a gradient\n.el {\n  background: #1E88E5 linear-gradient(\n    to bottom,\n    #1E88E5,\n    #1E88E5 calc(50% - 10px),\n    #3949AB calc(50% + 10px),\n    #3949AB\n  );\n}\ncalc()\nis for lengths and other\nnumeric\nthings\nNotice all the examples above are essentially numbers-based. We\u2019ll get to some of the caveats of how the numbers can be used (because sometimes you don\u2019t need a unit), but this is for number math, not strings or anything like that.\n.el {\n  /* Nope! */\n  counter-reset: calc(\"My \" + \"counter\");\n}\n.el::before {\n  /* Nope! */\n  content: calc(\"Candyman \" * 3);\n}\nThere are many\nlengths of CSS though\n, and they can all be used with\ncalc()\n:\npx\n%\nem\nrem\nin\nmm\ncm\npt\npc\nex\nch\nvh\nvw\nvmin\nvmax\nUnit-less numbers are acceptable, too. For example\nline-height: calc(1.2 * 1.2);\nas well as angles like\ntransform: rotate(calc(10deg * 5));\n.\nYou can also\nnot\nperform any calculation and it is still valid:\n.el {\n  /* Little weird but OK */\n  width: calc(20px);\n}\nNope on media queries\nWhen\ncalc()\nis used correctly (length units used as a value to a property), sadly,\ncalc()\nwon\u2019t work when applied to media queries.\n@media (max-width: 40rem) {\n  /* Narrower or exactly 40rem */\n}\n\n/* Nope! */\n@media (min-width: calc(40rem + 1px)) {\n  /* Wider than 40rem */\n}\nIt would be cool someday because you could do\nmutually exclusive media queries\nin a fairly logical way (like above).\nMixing units \ud83c\udf89\nThis is perhaps the most valuable feature of\ncalc()\n! Almost every example above has already done this, but just to put a point on it, here it is mixing different units:\n/* Percentage units being mixed with pixel units */\nwidth: calc(100% - 20px);\nThat\u2019s saying:\nAs wide as the element is, minus 20 pixels.\nThere is\nliterally no way\nto pre-calculate that value in pixels alone in a fluid width situation. In other words, you can\u2019t preprocess\ncalc()\nwith something like Sass as an attempt to complete a polyfill. Not that you need to, as the\nbrowser support\nis fine. But the point is that it has to be done in the browser (at \u201cruntime\u201d) when you mix units in this way, which is most of the value of\ncalc()\n.\nHere\u2019s some other examples of mixing units:\ntransform: rotate(calc(1turn + 45deg));\n\nanimation-delay: calc(1s + 15ms);\nThose probably could be preprocessed as they mix units that aren\u2019t relative to anything that is determined at runtime.\nComparison to preprocessor math\nWe just covered that you can\u2019t preprocess the most useful things that\ncalc()\ncan do. But there is a smidge of overlap. For example, Sass has math built into it, so you can do things like:\n$padding: 1rem;\n\n.el[data-padding=\"extra\"] {\n  padding: $padding + 2rem; // processes to 3rem;\n  margin-bottom: $padding * 2; // processes to 2rem; \n}\nEven math with units is working there, adding same-unit values together or multiplying by unit-less numbers. But you can\u2019t mix units and it has similar limitations to\ncalc()\n(e.g. like multiplying and dividing must be with unit-less numbers).\nShow the math\nEven you aren\u2019t using a feature that is uniquely possible only with\ncalc()\n, it can be used to\n\u201cshow your work\u201d inside CSS\n. For example, say you need to calculate exactly\n1\n\u2044\n7\nth the width of an element\u2026\n.el {\n  /* This is easier to understand */\n  width: calc(100% / 7);\n\n  /* Than this is */\n  width: 14.2857142857%;\n}\nThat might pan out in some kind of self-created CSS API like:\n[data-columns=\"7\"] .col { width: calc(100% / 7); }\n[data-columns=\"6\"] .col { width: calc(100% / 6); }\n[data-columns=\"5\"] .col { width: calc(100% / 5); }\n[data-columns=\"4\"] .col { width: calc(100% / 4); }\n[data-columns=\"3\"] .col { width: calc(100% / 3); }\n[data-columns=\"2\"] .col { width: calc(100% / 2); }\nThe Math operators of\ncalc()\nYou\u2019ve got\n+\n,\n-\n,\n*\n, and\n/\n. But they differ in how you are required to use them.\nAddition (\n+\n) and subtraction (\n-\n) require both numbers to be lengths\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(10px + 10px);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(10px + 5);\n}\nInvalid values invalidate the whole individual declaration.\nDivision (\n/\n) requires the second number to be unitless\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(30px / 3);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(30px / 10px);\n\n  /* Invalid \ud83d\udc4e (can't divide by 0) */\n  margin: calc(30px / 0);\n}\nMultiplication (*) requires one of the numbers to be unitless\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(10px * 3);\n\n  /* Valid \ud83d\udc4d */\n  margin: calc(3 * 10px);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(30px * 3px);\n}\nWhitespace matters\nWell, it does for\naddition\nand\nsubtraction\n.\n.el {\n  /* Valid \ud83d\udc4d */\n  font-size: calc(3vw + 2px);\n\n  /* Invalid \ud83d\udc4e */\n  font-size: calc(3vw+2px);\n\n  /* Valid \ud83d\udc4d */\n  font-size: calc(3vw - 2px);\n\n  /* Invalid \ud83d\udc4e */\n  font-size: calc(3vw-2px);\n}\nNegative numbers are OK (e.g.\ncalc(5vw - -5px)\n), but that\u2019s an example of where the whitespace is not only required, but helpful too.\nTab Atkins tells me that the reason for the required spacing around\n+\nand\n-\nis actually because of parsing concerns. I can\u2019t say I fully understand it, but for example,\n2px-3px\nis parsed as the number \u201c2\u201d and the unit \u201cpx-3px\u201d which isn\u2019t doing anybody any good, and the\n+\nhas other issues like getting \u201cconsumed by the number syntax.\u201d I would have guessed the whitespace would have had to do with the\n--\nsyntax of custom properties, but nope!\nMultiplication and division do not need the whitespace around the operators. But I\u2019d think good general advice is to include the space for readability and muscle memory for the other operators.\nWhitespace around the outsides doesn\u2019t matter. You can even do line breaks if you\u2019d like:\n.el {\n  /* Valid \ud83d\udc4d */\n  width: calc(\n    100%     /   3\n  );\n}\nCareful about this, though: no spaces between\ncalc()\nand the opening paren.\n.el {\n  /* Invalid \ud83d\udc4e */\n  width: calc (100% / 3);\n}\nNesting\ncalc(calc());\nYou can but it\u2019s never necessary. It\u2019s the same as using an extra set of parentheses without the\ncalc()\npart. For example:\n.el {\n  width: calc(\n    calc(100% / 3)\n    -\n    calc(1rem * 2)\n  );\n}\nYou don\u2019t need those inside\ncalc()\nbecause the parens work alone:\n.el {\n  width: calc(\n   (100% / 3)\n    -\n   (1rem * 2)\n  );\n}\nAnd in this case, the \u201corder of operations\u201d helps us even without the parentheses. That is, division and multiplication happen\nfirst\n(before addition and subtraction), so the parentheses aren\u2019t needed at all. It could be written like this:\n.el {\n  width: calc(100% / 3 - 1rem * 2);\n}\nBut feel free to use the parens if you feel like it adds clarity. If the order of operations doesn\u2019t work in your favor (e.g. you really need to do the addition or subtraction first), you\u2019ll need parens.\n.el {\n  /* This */\n  width: calc(100% + 2rem / 2);\n\n  /* Is very different from this */\n  width: calc((100% + 2rem) / 2);\n}\nCSS custom properties and\ncalc()\n\ud83c\udf89\nOther than the amazing ability of\ncalc()\nto mix units, the next most awesome thing about\ncalc()\nis using it with custom properties. Custom properties can have values that you then use in a calculation:\nhtml {\n  --spacing: 10px;\n}\n\n.module {\n  padding: calc(var(--spacing) * 2);\n}\nI\u2019m sure you can imagine a CSS setup where a ton of configuration happens at the top by setting a bunch of CSS custom properties and then letting the rest of the CSS use them as needed.\nCustom properties can also reference each other. Here\u2019s an example where some math is used (note the\nlack\nof a\ncalc()\nfunction at first) and then later applied. (It ultimately has to be inside of a\ncalc()\n.)\nhtml {\n  --spacing: 10px;\n  --spacing-L: var(--spacing) * 2;\n  --spacing-XL: var(--spacing) * 3;\n}\n\n.module[data-spacing=\"XL\"] {\n  padding: calc(var(--spacing-XL));\n}\nYou may not like that, as you need to remember the\ncalc()\nwhere you use the property then, but it\u2019s possible and potentially interesting from a readability perspective.\nCustom properties can come from the HTML, which is a pretty darn cool and useful thing sometimes. (See how\nSplitting.js\nadds indexes to words/characters as an example.)\n<div style=\"--index: 1;\"> ... </div>\n<div style=\"--index: 2;\"> ... </div>\n<div style=\"--index: 3;\"> ... </div>\ndiv {\n  /* Index value comes from the HTML (with a fallback) */\n  animation-delay: calc(var(--index, 1) * 0.2s);\n}\nAdding units later\nIn case you\u2019re in a situation where it\u2019s easier to store numbers without units, or do math with unit-less numbers ahead of time, you can always wait until you apply the number to add the unit by multiplying by 1\nand the unit\n.\nhtml {\n  --importantNumber: 2;\n}\n\n.el {\n  /* Number stays 2, but it has a unit now */\n  padding: calc(var(--importantNumber) * 1rem);\n}\nMessing with colors\nColor format like RGB and HSL have numbers you can mess with using\ncalc()\n. For example, setting some base HSL values and then altering them forming a system of your own creation (\nexample\n):\nhtml {\n  --H: 100;\n  --S: 100%;\n  --L: 50%;\n}\n\n.el {\n  background: hsl(\n    calc(var(--H) + 20),\n    calc(var(--S) - 10%),\n    calc(var(--L) + 30%)\n  )\n}\nYou can\u2019t combine calc() and attr()\nThe\nattr()\nfunction in CSS\nlooks\nappealing, like you can pull attribute values out of HTML and use them. But\u2026\n<div data-color=\"red\">...</div>\ndiv {\n  /* Nope */\n  color: attr(data-color);\n}\nUnfortunately, there are no \u201ctypes\u201d in play here, so the only thing\nattr()\nis for are strings in conjunction with the\ncontent\nproperty. That means this works:\ndiv::before {\n  content: attr(data-color);\n}\nI mention this because it might be tempting to try to pull a number in that way to use in a calculation, like:\n<div class=\"grid\" data-columns=\"7\" data-gap=\"2\">...</div>\n.grid {\n  display: grid;\n\n  /* Neither of these work */\n  grid-template-columns: repeat(attr(data-columns), 1fr);\n  grid-gap: calc(1rem * attr(data-gap));\n}\nFortunately, it doesn\u2019t matter much because custom properties in the HTML are\njust as useful or more\n!\n<div class=\"grid\" style=\"--columns: 7; --gap: 2rem;\">...</div>\n.grid {\n  display: grid;\n\n  /* Yep! */\n  grid-template-columns: repeat(var(--columns), 1fr);\n  grid-gap: calc(var(--gap));\n}\nBrowser tooling\nBrowser DevTools will tend you show you the\ncalc()\nas you authored it in the stylesheet.\nFirefox DevTools \u2013 Rules\nIf you need to figure out the computed value, there is a Computed tab (in all browser DevTools, at least the ones I know about) that will show it to you.\nChrome DevTools \u2013 Computed\nBrowser support\nThis browser support data is from\nCaniuse\n, which has more detail. A number indicates that browser supports the feature at that version and up.\nDesktop\nChrome\nFirefox\nIE\nEdge\nSafari\n19*\n4*\n11\n12\n6*\nMobile / Tablet\nAndroid Chrome\nAndroid Firefox\nAndroid\niOS Safari\n144\n147\n144\n6.0-6.1*\nIf you really needed to support super far back (e.g. IE 8 or Firefox 3.6), the usual trick is to add another property or value before the one that uses\ncalc()\n:\n.el {\n  width: 92%; /* Fallback */\n  width: calc(100% - 2rem);\n}\nThere are quite a few known issues for\ncalc()\nas well, but they are all for old browsers.\nCan I use\u2026 lists 13 of them\n. Here\u2019s a handful:\nFirefox <59 does not support\ncalc()\non color functions. Example:\ncolor: hsl(calc(60 * 2), 100%, 50%)\n.\nIE 9-11 will not render the\nbox-shadow\nproperty when\ncalc()\nis used for any of the values.\nNeither IE 9-11 nor Edge support\nwidth: calc()\non table cells.\nUse-case party\nI asked some CSS developers when they last used\ncalc()\nso we could have a nice taste here for how others use it in their day-to-day work.\nI used it to create a full-bleed utility class:\n.full-bleed { width: 100vw; margin-left: calc(50% - 50vw); }\nI\u2019d say\ncalc()\nis in my top 3 CSS things.\nI used it to make space for a sticky footer.\nI used it to set some\nfluid type\n/\ndynamic typography\n\u2026 a calculated\nfont-size\nbased on minimums, maxiums, and a rate of change from viewport units. Not just the\nfont-size\n, but\nline-height\ntoo.\nIf you\u2019re using\ncalc()\nas part of a fluid type situation that involves viewport units and such, make sure that you include a unit that uses\nrem\nor\nem\nso that the user still has some control over bumping that font up or down by zooming in or out as they need to.\nOne I really like is having a \u201ccontent width\u201d custom property and then using that to create the spacing that I need, like margins:\n.margin { width: calc( (100vw - var(--content-width)) / 2); }\nI used it to create a cross-browser drop-cap component. Here\u2019s a part of it:\n.drop-cap { --drop-cap-lines: 3; font-size: calc(1em * var(--drop-cap-lines) * var(--body-line-height)); }\nI used it to make some images overflow their container on an article page.\nI used it to place a visualization correctly on the page by combining it with padding and\nvw\n/\nvh\nunits.\nI use it to overcome limitations in\nbackground-position\n, but expecially limitations in positioning color stops in gradients. Like \u201cstop\n0.75em\nshort of the bottom\u201d.\nOther trickery\nA two-up grid that breaks into a single column\nwith no media query\nAn\naspect-ratio-ish hero component\nEnforcing\nhigh-contrast colors\nHelp with the coordinates\nof a percentage-based\nclip-path",
  "content_markdown": "CSS has a special `calc()` function for doing basic math. In this guide, let\u2019s cover just about everything there is to know about this very useful function.\n\nHere\u2019s an [example](https://codepen.io/team/css-tricks/pen/MwPmVG):\n\n```\n.main-content {\n  /* Subtract 80px from 100vh */\n  height: calc(100vh - 80px);\n}\n```\n\nIn this guide, let\u2019s cover just about everything there is to know about this very useful function.\n\n### `calc()` is for values\n\nThe only place you can use the `calc()` function is in *values*. See these examples where we\u2019re setting the value for a number of different properties.\n\n```\n.el {\n  font-size: calc(3vw + 2px);\n  width:     calc(100% - 20px);\n  height:    calc(100vh - 20px);\n  padding:   calc(1vw + 5px);\n}\n```\n\nIt could be used for only *part* of a property too, for example:\n\n```\n.el {\n  margin: 10px calc(2vw + 5px);\n  border-radius: 15px calc(15px / 3) 4px 2px;\n  transition: transform calc(1s - 120ms);\n}\n```\n\nIt can even be a part of *another* function that forms a part of a property! For example, here\u2019s `calc()` used within the color stops of a gradient\n\n```\n.el {\n  background: #1E88E5 linear-gradient(\n    to bottom,\n    #1E88E5,\n    #1E88E5 calc(50% - 10px),\n    #3949AB calc(50% + 10px),\n    #3949AB\n  );\n}\n```\n\n### `calc()` is for lengths and other *numeric* things\n\nNotice all the examples above are essentially numbers-based. We\u2019ll get to some of the caveats of how the numbers can be used (because sometimes you don\u2019t need a unit), but this is for number math, not strings or anything like that.\n\n```\n.el {\n  /* Nope! */\n  counter-reset: calc(\"My \" + \"counter\");\n}\n.el::before {\n  /* Nope! */\n  content: calc(\"Candyman \" * 3);\n}\n```\n\nThere are many [lengths of CSS though](https://css-tricks.com/the-lengths-of-css/), and they can all be used with `calc()`:\n\n- px\n- %\n- em\n- rem\n- in\n- mm\n- cm\n- pt\n- pc\n- ex\n- ch\n- vh\n- vw\n- vmin\n- vmax\n\nUnit-less numbers are acceptable, too. For example `line-height: calc(1.2 * 1.2);` as well as angles like `transform: rotate(calc(10deg * 5));`.\n\nYou can also *not* perform any calculation and it is still valid:\n\n```\n.el {\n  /* Little weird but OK */\n  width: calc(20px);\n}\n```\n\n### Nope on media queries\n\nWhen `calc()` is used correctly (length units used as a value to a property), sadly, `calc()` won\u2019t work when applied to media queries.\n\n```\n@media (max-width: 40rem) {\n  /* Narrower or exactly 40rem */\n}\n\n/* Nope! */\n@media (min-width: calc(40rem + 1px)) {\n  /* Wider than 40rem */\n}\n```\n\nIt would be cool someday because you could do [mutually exclusive media queries](https://css-tricks.com/logic-in-media-queries/#article-header-id-4) in a fairly logical way (like above).\n\n### Mixing units \ud83c\udf89\n\nThis is perhaps the most valuable feature of `calc()`! Almost every example above has already done this, but just to put a point on it, here it is mixing different units:\n\n```\n/* Percentage units being mixed with pixel units */\nwidth: calc(100% - 20px);\n```\n\nThat\u2019s saying: *As wide as the element is, minus 20 pixels.*\n\nThere is *literally no way* to pre-calculate that value in pixels alone in a fluid width situation. In other words, you can\u2019t preprocess `calc()` with something like Sass as an attempt to complete a polyfill. Not that you need to, as the [browser support](#browser-support) is fine. But the point is that it has to be done in the browser (at \u201cruntime\u201d) when you mix units in this way, which is most of the value of `calc()`.\n\nHere\u2019s some other examples of mixing units:\n\n```\ntransform: rotate(calc(1turn + 45deg));\n\nanimation-delay: calc(1s + 15ms);\n```\n\nThose probably could be preprocessed as they mix units that aren\u2019t relative to anything that is determined at runtime.\n\n### Comparison to preprocessor math\n\nWe just covered that you can\u2019t preprocess the most useful things that `calc()` can do. But there is a smidge of overlap. For example, Sass has math built into it, so you can do things like:\n\n```\n$padding: 1rem;\n\n.el[data-padding=\"extra\"] {\n  padding: $padding + 2rem; // processes to 3rem;\n  margin-bottom: $padding * 2; // processes to 2rem; \n}\n```\n\nEven math with units is working there, adding same-unit values together or multiplying by unit-less numbers. But you can\u2019t mix units and it has similar limitations to `calc()` (e.g. like multiplying and dividing must be with unit-less numbers).\n\n### Show the math\n\nEven you aren\u2019t using a feature that is uniquely possible only with `calc()`, it can be used to [\u201cshow your work\u201d inside CSS](https://css-tricks.com/keep-math-in-the-css/). For example, say you need to calculate exactly 1\u20447th the width of an element\u2026\n\n```\n.el {\n  /* This is easier to understand */\n  width: calc(100% / 7);\n\n  /* Than this is */\n  width: 14.2857142857%;\n}\n```\n\nThat might pan out in some kind of self-created CSS API like:\n\n```\n[data-columns=\"7\"] .col { width: calc(100% / 7); }\n[data-columns=\"6\"] .col { width: calc(100% / 6); }\n[data-columns=\"5\"] .col { width: calc(100% / 5); }\n[data-columns=\"4\"] .col { width: calc(100% / 4); }\n[data-columns=\"3\"] .col { width: calc(100% / 3); }\n[data-columns=\"2\"] .col { width: calc(100% / 2); }\n```\n\n### The Math operators of `calc()`\n\nYou\u2019ve got `+`, `-`, `*`, and `/`. But they differ in how you are required to use them.\n\n#### Addition (`+`) and subtraction (`-`) require both numbers to be lengths\n\n```\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(10px + 10px);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(10px + 5);\n}\n```\n\nInvalid values invalidate the whole individual declaration.\n\n#### Division (`/`) requires the second number to be unitless\n\n```\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(30px / 3);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(30px / 10px);\n\n  /* Invalid \ud83d\udc4e (can't divide by 0) */\n  margin: calc(30px / 0);\n}\n```\n\n#### Multiplication (\\*) requires one of the numbers to be unitless\n\n```\n.el {\n  /* Valid \ud83d\udc4d */\n  margin: calc(10px * 3);\n\n  /* Valid \ud83d\udc4d */\n  margin: calc(3 * 10px);\n\n  /* Invalid \ud83d\udc4e */\n  margin: calc(30px * 3px);\n}\n```\n\n#### Whitespace matters\n\nWell, it does for **addition** and **subtraction**.\n\n```\n.el {\n  /* Valid \ud83d\udc4d */\n  font-size: calc(3vw + 2px);\n\n  /* Invalid \ud83d\udc4e */\n  font-size: calc(3vw+2px);\n\n  /* Valid \ud83d\udc4d */\n  font-size: calc(3vw - 2px);\n\n  /* Invalid \ud83d\udc4e */\n  font-size: calc(3vw-2px);\n}\n```\n\nNegative numbers are OK (e.g. `calc(5vw - -5px)`), but that\u2019s an example of where the whitespace is not only required, but helpful too.\n\nTab Atkins tells me that the reason for the required spacing around `+` and `-` is actually because of parsing concerns. I can\u2019t say I fully understand it, but for example, `2px-3px` is parsed as the number \u201c2\u201d and the unit \u201cpx-3px\u201d which isn\u2019t doing anybody any good, and the `+` has other issues like getting \u201cconsumed by the number syntax.\u201d I would have guessed the whitespace would have had to do with the `--` syntax of custom properties, but nope!\n\nMultiplication and division do not need the whitespace around the operators. But I\u2019d think good general advice is to include the space for readability and muscle memory for the other operators.\n\nWhitespace around the outsides doesn\u2019t matter. You can even do line breaks if you\u2019d like:\n\n```\n.el {\n  /* Valid \ud83d\udc4d */\n  width: calc(\n    100%     /   3\n  );\n}\n```\n\nCareful about this, though: no spaces between `calc()` and the opening paren.\n\n```\n.el {\n  /* Invalid \ud83d\udc4e */\n  width: calc (100% / 3);\n}\n```\n\n### Nesting `calc(calc());`\n\nYou can but it\u2019s never necessary. It\u2019s the same as using an extra set of parentheses without the `calc()` part. For example:\n\n```\n.el {\n  width: calc(\n    calc(100% / 3)\n    -\n    calc(1rem * 2)\n  );\n}\n```\n\nYou don\u2019t need those inside `calc()` because the parens work alone:\n\n```\n.el {\n  width: calc(\n   (100% / 3)\n    -\n   (1rem * 2)\n  );\n}\n```\n\nAnd in this case, the \u201corder of operations\u201d helps us even without the parentheses. That is, division and multiplication happen *first* (before addition and subtraction), so the parentheses aren\u2019t needed at all. It could be written like this:\n\n```\n.el {\n  width: calc(100% / 3 - 1rem * 2);\n}\n```\n\nBut feel free to use the parens if you feel like it adds clarity. If the order of operations doesn\u2019t work in your favor (e.g. you really need to do the addition or subtraction first), you\u2019ll need parens.\n\n```\n.el {\n  /* This */\n  width: calc(100% + 2rem / 2);\n\n  /* Is very different from this */\n  width: calc((100% + 2rem) / 2);\n}\n```\n\n### CSS custom properties and `calc()` \ud83c\udf89\n\nOther than the amazing ability of `calc()` to mix units, the next most awesome thing about `calc()` is using it with custom properties. Custom properties can have values that you then use in a calculation:\n\n```\nhtml {\n  --spacing: 10px;\n}\n\n.module {\n  padding: calc(var(--spacing) * 2);\n}\n```\n\nI\u2019m sure you can imagine a CSS setup where a ton of configuration happens at the top by setting a bunch of CSS custom properties and then letting the rest of the CSS use them as needed.\n\nCustom properties can also reference each other. Here\u2019s an example where some math is used (note the *lack* of a `calc()` function at first) and then later applied. (It ultimately has to be inside of a `calc()`.)\n\n```\nhtml {\n  --spacing: 10px;\n  --spacing-L: var(--spacing) * 2;\n  --spacing-XL: var(--spacing) * 3;\n}\n\n.module[data-spacing=\"XL\"] {\n  padding: calc(var(--spacing-XL));\n}\n```\n\nYou may not like that, as you need to remember the `calc()` where you use the property then, but it\u2019s possible and potentially interesting from a readability perspective.\n\nCustom properties can come from the HTML, which is a pretty darn cool and useful thing sometimes. (See how [Splitting.js](https://splitting.js.org/guide.html#basic-usage) adds indexes to words/characters as an example.)\n\n```\n<div style=\"--index: 1;\"> ... </div>\n<div style=\"--index: 2;\"> ... </div>\n<div style=\"--index: 3;\"> ... </div>\n```\n\n```\ndiv {\n  /* Index value comes from the HTML (with a fallback) */\n  animation-delay: calc(var(--index, 1) * 0.2s);\n}\n```\n\n#### Adding units later\n\nIn case you\u2019re in a situation where it\u2019s easier to store numbers without units, or do math with unit-less numbers ahead of time, you can always wait until you apply the number to add the unit by multiplying by 1 *and the unit*.\n\n```\nhtml {\n  --importantNumber: 2;\n}\n\n.el {\n  /* Number stays 2, but it has a unit now */\n  padding: calc(var(--importantNumber) * 1rem);\n}\n```\n\n#### Messing with colors\n\nColor format like RGB and HSL have numbers you can mess with using `calc()`. For example, setting some base HSL values and then altering them forming a system of your own creation ([example](https://codepen.io/chriscoyier/pen/dyoVXEj)):\n\n```\nhtml {\n  --H: 100;\n  --S: 100%;\n  --L: 50%;\n}\n\n.el {\n  background: hsl(\n    calc(var(--H) + 20),\n    calc(var(--S) - 10%),\n    calc(var(--L) + 30%)\n  )\n}\n```\n\n#### You can\u2019t combine calc() and attr()\n\nThe `attr()` function in CSS *looks* appealing, like you can pull attribute values out of HTML and use them. But\u2026\n\n```\n<div data-color=\"red\">...</div>\n```\n\n```\ndiv {\n  /* Nope */\n  color: attr(data-color);\n}\n```\n\nUnfortunately, there are no \u201ctypes\u201d in play here, so the only thing `attr()` is for are strings in conjunction with the `content` property. That means this works:\n\n```\ndiv::before {\n  content: attr(data-color);\n}\n```\n\nI mention this because it might be tempting to try to pull a number in that way to use in a calculation, like:\n\n```\n<div class=\"grid\" data-columns=\"7\" data-gap=\"2\">...</div>\n```\n\n```\n.grid {\n  display: grid;\n\n  /* Neither of these work */\n  grid-template-columns: repeat(attr(data-columns), 1fr);\n  grid-gap: calc(1rem * attr(data-gap));\n}\n```\n\nFortunately, it doesn\u2019t matter much because custom properties in the HTML are [just as useful or more](https://css-tricks.com/css-attr-function-got-nothin-custom-properties/)!\n\n```\n<div class=\"grid\" style=\"--columns: 7; --gap: 2rem;\">...</div>\n```\n\n```\n.grid {\n  display: grid;\n\n  /* Yep! */\n  grid-template-columns: repeat(var(--columns), 1fr);\n  grid-gap: calc(var(--gap));\n}\n```\n\n### Browser tooling\n\nBrowser DevTools will tend you show you the `calc()` as you authored it in the stylesheet.\n\n![](https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/03/DevTools-rules.png?resize=461%2C248&ssl=1)\n\nFirefox DevTools \u2013 Rules\n\nIf you need to figure out the computed value, there is a Computed tab (in all browser DevTools, at least the ones I know about) that will show it to you.\n\n![](https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/03/ChromeDevTools-computed.png?resize=410%2C383&ssl=1)\n\nChrome DevTools \u2013 Computed\n\n### Browser support\n\nThis browser support data is from [Caniuse](http://caniuse.com/#feat=calc), which has more detail. A number indicates that browser supports the feature at that version and up.\n\n#### Desktop\n\n| Chrome | Firefox | IE | Edge | Safari |\n| --- | --- | --- | --- | --- |\n| 19\\* | 4\\* | 11 | 12 | 6\\* |\n\n#### Mobile / Tablet\n\n| Android Chrome | Android Firefox | Android | iOS Safari |\n| --- | --- | --- | --- |\n| 144 | 147 | 144 | 6.0-6.1\\* |\n\nIf you really needed to support super far back (e.g. IE 8 or Firefox 3.6), the usual trick is to add another property or value before the one that uses `calc()`:\n\n```\n.el {\n  width: 92%; /* Fallback */\n  width: calc(100% - 2rem);\n}\n```\n\nThere are quite a few known issues for `calc()` as well, but they are all for old browsers. [Can I use\u2026 lists 13 of them](https://caniuse.com/#feat=calc). Here\u2019s a handful:\n\n- Firefox <59 does not support\u00a0`calc()`\u00a0on color functions. Example:\u00a0`color: hsl(calc(60 * 2), 100%, 50%)`.\n- IE 9-11 will not render the\u00a0`box-shadow`\u00a0property when\u00a0`calc()`\u00a0is used for any of the values.\n- Neither IE 9-11 nor Edge support\u00a0`width: calc()`\u00a0on table cells.\n\n### Use-case party\n\nI asked some CSS developers when they last used `calc()` so we could have a nice taste here for how others use it in their day-to-day work.\n\n> I used it to create a full-bleed utility class: `.full-bleed { width: 100vw; margin-left: calc(50% - 50vw); }` I\u2019d say `calc()` is in my top 3 CSS things.\n\n> I used it to make space for a sticky footer.\n\n> I used it to set some [fluid type](https://css-tricks.com/snippets/css/fluid-typography/) / [dynamic typography](https://rwt.io/typography-tips/digging-dynamic-typography)\u2026 a calculated `font-size` based on minimums, maxiums, and a rate of change from viewport units. Not just the `font-size`, but `line-height` too.\n\nIf you\u2019re using `calc()` as part of a fluid type situation that involves viewport units and such, make sure that you include a unit that uses `rem` or `em` so that the user still has some control over bumping that font up or down by zooming in or out as they need to.\n\n> One I really like is having a \u201ccontent width\u201d custom property and then using that to create the spacing that I need, like margins: `.margin { width: calc( (100vw - var(--content-width)) / 2); }`\n\n> I used it to create a cross-browser drop-cap component. Here\u2019s a part of it:  \n>   \n> `.drop-cap { --drop-cap-lines: 3; font-size: calc(1em * var(--drop-cap-lines) * var(--body-line-height)); }`\n\n> I used it to make some images overflow their container on an article page.\n\n> I used it to place a visualization correctly on the page by combining it with padding and `vw`/`vh` units.\n\n> I use it to overcome limitations in `background-position`, but expecially limitations in positioning color stops in gradients. Like \u201cstop `0.75em` short of the bottom\u201d.\n\n### Other trickery\n\n- [A two-up grid that breaks into a single column](https://css-tricks.com/using-calc-to-fake-a-media-query/) with no media query\n- An [aspect-ratio-ish hero component](https://css-tricks.com/fun-tip-use-calc-to-change-the-height-of-a-hero-component/)\n- Enforcing [high-contrast colors](https://css-tricks.com/css-variables-calc-rgb-enforcing-high-contrast-colors/)\n- [Help with the coordinates](https://css-tricks.com/notched-boxes/) of a percentage-based `clip-path`",
  "tags": [
    "css-tricks",
    "guides",
    "css",
    "snippets"
  ],
  "extracted_at": "2026-02-03T12:46:43.839811+00:00",
  "content_length": 13873,
  "content_hash": "feb71173e4855055"
}