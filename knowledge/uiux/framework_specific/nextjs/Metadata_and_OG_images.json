{
  "id": "nextjs__docs_app_building-your-application_optimizing_met",
  "source_id": "nextjs",
  "source_name": "Next.js Documentation",
  "category": "framework_specific",
  "url": "https://nextjs.org/docs/app/building-your-application/optimizing/metadata",
  "title": "Metadata and OG images",
  "content": "Menu\nUsing App Router\nFeatures available in /app\nLatest Version\n16.1.6\nApp Router\nGetting Started\nMetadata and OG images\nCopy page\nMetadata and OG images\nLast updated\nNovember 17, 2025\nThe Metadata APIs can be used to define your application metadata for improved SEO and web shareability and include:\nThe static\nmetadata\nobject\nThe dynamic\ngenerateMetadata\nfunction\nSpecial\nfile conventions\nthat can be used to add static or dynamically generated\nfavicons\nand\nOG images\n.\nWith all the options above, Next.js will automatically generate the relevant\n<head>\ntags for your page, which can be inspected in the browser's developer tools.\nThe\nmetadata\nobject and\ngenerateMetadata\nfunction exports are only supported in Server Components.\nDefault fields\nThere are two default\nmeta\ntags that are always added even if a route doesn't define metadata:\nThe\nmeta charset tag\nsets the character encoding for the website.\nThe\nmeta viewport tag\nsets the viewport width and scale for the website to adjust for different devices.\n<\nmeta\ncharset\n=\n\"utf-8\"\n/>\n<\nmeta\nname\n=\n\"viewport\"\ncontent\n=\n\"width=device-width, initial-scale=1\"\n/>\nThe other metadata fields can be defined with the\nMetadata\nobject (for\nstatic metadata\n) or the\ngenerateMetadata\nfunction (for\ngenerated metadata\n).\nStatic metadata\nTo define static metadata, export a\nMetadata\nobject\nfrom a static\nlayout.js\nor\npage.js\nfile. For example, to add a title and description to the blog route:\napp/blog/layout.tsx\nTypeScript\nJavaScript\nTypeScript\nimport\ntype\n{ Metadata }\nfrom\n'next'\nexport\nconst\nmetadata\n:\nMetadata\n=\n{\ntitle\n:\n'My Blog'\n,\ndescription\n:\n'...'\n,\n}\nexport\ndefault\nfunction\nLayout\n() {}\nYou can view a full list of available options, in the\ngenerateMetadata\ndocumentation\n.\nGenerated metadata\nYou can use\ngenerateMetadata\nfunction to\nfetch\nmetadata that depends on data. For example, to fetch the title and description for a specific blog post:\napp/blog/[slug]/page.tsx\nTypeScript\nJavaScript\nTypeScript\nimport\ntype\n{ Metadata\n,\nResolvingMetadata }\nfrom\n'next'\ntype\nProps\n=\n{\nparams\n:\nPromise\n<{ slug\n:\nstring\n}>\nsearchParams\n:\nPromise\n<{ [key\n:\nstring\n]\n:\nstring\n|\nstring\n[]\n|\nundefined\n}>\n}\nexport\nasync\nfunction\ngenerateMetadata\n(\n{ params\n,\nsearchParams }\n:\nProps\n,\nparent\n:\nResolvingMetadata\n)\n:\nPromise\n<\nMetadata\n> {\nconst\nslug\n=\n(\nawait\nparams).slug\n// fetch post information\nconst\npost\n=\nawait\nfetch\n(\n`https://api.vercel.app/\nblog\n/\n${\nslug\n}\n`\n)\n.then\n((res)\n=>\nres\n.json\n()\n)\nreturn\n{\ntitle\n:\npost\n.title\n,\ndescription\n:\npost\n.description\n,\n}\n}\nexport\ndefault\nfunction\nPage\n({ params\n,\nsearchParams }\n:\nProps\n) {}\nStreaming metadata\nFor dynamically rendered pages, Next.js streams metadata separately, injecting it into the HTML once\ngenerateMetadata\nresolves, without blocking UI rendering.\nStreaming metadata improves perceived performance by allowing visual content to stream first.\nStreaming metadata is\ndisabled for bots and crawlers\nthat expect metadata to be in the\n<head>\ntag (e.g.\nTwitterbot\n,\nSlackbot\n,\nBingbot\n). These are detected by using the User Agent header from the incoming request.\nYou can customize or\ndisable\nstreaming metadata completely, with the\nhtmlLimitedBots\noption in your Next.js config file.\nStatically rendered pages don\u2019t use streaming since metadata is resolved at build time.\nLearn more about\nstreaming metadata\n.\nMemoizing data requests\nThere may be cases where you need to fetch the\nsame\ndata for metadata and the page itself. To avoid duplicate requests, you can use React's\ncache\nfunction\nto memoize the return value and only fetch the data once. For example, to fetch the blog post information for both the metadata and the page:\napp/lib/data.ts\nTypeScript\nJavaScript\nTypeScript\nimport\n{ cache }\nfrom\n'react'\nimport\n{ db }\nfrom\n'@/app/\nlib\n/db'\n// getPost will be used twice, but execute only once\nexport\nconst\ngetPost\n=\ncache\n(\nasync\n(slug\n:\nstring\n)\n=>\n{\nconst\nres\n=\nawait\ndb\n.\nquery\n.\nposts\n.findFirst\n({ where\n:\neq\n(\nposts\n.slug\n,\nslug) })\nreturn\nres\n})\napp/blog/[slug]/page.tsx\nTypeScript\nJavaScript\nTypeScript\nimport\n{ getPost }\nfrom\n'@/app/lib/data'\nexport\nasync\nfunction\ngenerateMetadata\n({\nparams\n,\n}\n:\n{\nparams\n:\n{ slug\n:\nstring\n}\n}) {\nconst\npost\n=\nawait\ngetPost\n(\nparams\n.slug)\nreturn\n{\ntitle\n:\npost\n.title\n,\ndescription\n:\npost\n.description\n,\n}\n}\nexport\ndefault\nasync\nfunction\nPage\n({ params }\n:\n{ params\n:\n{ slug\n:\nstring\n} }) {\nconst\npost\n=\nawait\ngetPost\n(\nparams\n.slug)\nreturn\n<\ndiv\n>{\npost\n.title}</\ndiv\n>\n}\nFile-based metadata\nThe following special files are available for metadata:\nfavicon.ico, apple-icon.jpg, and icon.jpg\nopengraph-image.jpg and twitter-image.jpg\nrobots.txt\nsitemap.xml\nYou can use these for static metadata, or you can programmatically generate these files with code.\nFavicons\nFavicons are small icons that represent your site in bookmarks and search results. To add a favicon to your application, create a\nfavicon.ico\nand add to the root of the app folder.\nYou can also programmatically generate favicons using code. See the\nfavicon docs\nfor more information.\nStatic Open Graph images\nOpen Graph (OG) images are images that represent your site in social media. To add a static OG image to your application, create a\nopengraph-image.jpg\nfile in the root of the app folder.\nYou can also add OG images for specific routes by creating a\nopengraph-image.jpg\ndeeper down the folder structure. For example, to create an OG image specific to the\n/blog\nroute, add a\nopengraph-image.jpg\nfile inside the\nblog\nfolder.\nThe more specific image will take precedence over any OG images above it in the folder structure.\nOther image formats such as\njpeg\n,\npng\n, and\ngif\nare also supported. See the\nOpen Graph Image docs\nfor more information.\nGenerated Open Graph images\nThe\nImageResponse\nconstructor\nallows you to generate dynamic images using JSX and CSS. This is useful for OG images that depend on data.\nFor example, to generate a unique OG image for each blog post, add a\nopengraph-image.tsx\nfile inside the\nblog\nfolder, and import the\nImageResponse\nconstructor from\nnext/og\n:\napp/blog/[slug]/opengraph-image.tsx\nTypeScript\nJavaScript\nTypeScript\nimport\n{ ImageResponse }\nfrom\n'next/og'\nimport\n{ getPost }\nfrom\n'@/app/lib/data'\n// Image metadata\nexport\nconst\nsize\n=\n{\nwidth\n:\n1200\n,\nheight\n:\n630\n,\n}\nexport\nconst\ncontentType\n=\n'image/png'\n// Image generation\nexport\ndefault\nasync\nfunction\nImage\n({ params }\n:\n{ params\n:\n{ slug\n:\nstring\n} }) {\nconst\npost\n=\nawait\ngetPost\n(\nparams\n.slug)\nreturn\nnew\nImageResponse\n(\n(\n// ImageResponse JSX element\n<\ndiv\nstyle\n=\n{{\nfontSize\n:\n128\n,\nbackground\n:\n'white'\n,\nwidth\n:\n'100%'\n,\nheight\n:\n'100%'\n,\ndisplay\n:\n'flex'\n,\nalignItems\n:\n'center'\n,\njustifyContent\n:\n'center'\n,\n}}\n>\n{\npost\n.title}\n</\ndiv\n>\n)\n)\n}\nImageResponse\nsupports common CSS properties including flexbox and absolute positioning, custom fonts, text wrapping, centering, and nested images.\nSee the full list of supported CSS properties\n.\nGood to know\n:\nExamples are available in the\nVercel OG Playground\n.\nImageResponse\nuses\n@vercel/og\n,\nsatori\n, and\nresvg\nto convert HTML and CSS into PNG.\nOnly flexbox and a subset of CSS properties are supported. Advanced layouts (e.g.\ndisplay: grid\n) will not work.\nAPI Reference\nLearn more about the Metadata APIs mentioned in this page.\ngenerateMetadata\nLearn how to add Metadata to your Next.js application for improved search engine optimization (SEO) and web shareability.\ngenerateViewport\nAPI Reference for the generateViewport function.\nImageResponse\nAPI Reference for the ImageResponse constructor.\nMetadata Files\nAPI documentation for the metadata file conventions.\nfavicon, icon, and apple-icon\nAPI Reference for the Favicon, Icon and Apple Icon file conventions.\nopengraph-image and twitter-image\nAPI Reference for the Open Graph Image and Twitter Image file conventions.\nrobots.txt\nAPI Reference for robots.txt file.\nsitemap.xml\nAPI Reference for the sitemap.xml file.\nhtmlLimitedBots\nSpecify a list of user agents that should receive blocking metadata.\nWas this helpful?\nsupported.\nSend",
  "content_markdown": "Menu\n\nUsing App Router\n\nFeatures available in /app\n\nLatest Version\n\n16.1.6\n\n[App Router](/docs/app)[Getting Started](/docs/app/getting-started)Metadata and OG images\n\nCopy page\n\n# Metadata and OG images\n\nLast updated November 17, 2025\n\nThe Metadata APIs can be used to define your application metadata for improved SEO and web shareability and include:\n\n1. [The static `metadata` object](#static-metadata)\n2. [The dynamic `generateMetadata` function](#generated-metadata)\n3. Special [file conventions](/docs/app/api-reference/file-conventions/metadata) that can be used to add static or dynamically generated [favicons](#favicons) and [OG images](#static-open-graph-images).\n\nWith all the options above, Next.js will automatically generate the relevant `<head>` tags for your page, which can be inspected in the browser's developer tools.\n\nThe `metadata` object and `generateMetadata` function exports are only supported in Server Components.\n\n## Default fields\n\nThere are two default `meta` tags that are always added even if a route doesn't define metadata:\n\n- The [meta charset tag](https://developer.mozilla.org/docs/Web/HTML/Element/meta#attr-charset) sets the character encoding for the website.\n- The [meta viewport tag](https://developer.mozilla.org/docs/Web/HTML/Viewport_meta_tag) sets the viewport width and scale for the website to adjust for different devices.\n\n```\n<meta charset=\"utf-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n```\n\nThe other metadata fields can be defined with the `Metadata` object (for [static metadata](#static-metadata)) or the `generateMetadata` function (for [generated metadata](#generated-metadata)).\n\n## Static metadata\n\nTo define static metadata, export a [`Metadata` object](/docs/app/api-reference/functions/generate-metadata#metadata-object) from a static [`layout.js`](/docs/app/api-reference/file-conventions/layout) or [`page.js`](/docs/app/api-reference/file-conventions/page) file. For example, to add a title and description to the blog route:\n\napp/blog/layout.tsx\n\nTypeScript\n\nJavaScriptTypeScript\n\n```\nimport type { Metadata } from 'next'\n \nexport const metadata: Metadata = {\n  title: 'My Blog',\n  description: '...',\n}\n \nexport default function Layout() {}\n```\n\nYou can view a full list of available options, in the [`generateMetadata` documentation](/docs/app/api-reference/functions/generate-metadata#metadata-fields).\n\n## Generated metadata\n\nYou can use [`generateMetadata`](/docs/app/api-reference/functions/generate-metadata) function to `fetch` metadata that depends on data. For example, to fetch the title and description for a specific blog post:\n\napp/blog/[slug]/page.tsx\n\nTypeScript\n\nJavaScriptTypeScript\n\n```\nimport type { Metadata, ResolvingMetadata } from 'next'\n \ntype Props = {\n  params: Promise<{ slug: string }>\n  searchParams: Promise<{ [key: string]: string | string[] | undefined }>\n}\n \nexport async function generateMetadata(\n  { params, searchParams }: Props,\n  parent: ResolvingMetadata\n): Promise<Metadata> {\n  const slug = (await params).slug\n \n  // fetch post information\n  const post = await fetch(`https://api.vercel.app/blog/${slug}`).then((res) =>\n    res.json()\n  )\n \n  return {\n    title: post.title,\n    description: post.description,\n  }\n}\n \nexport default function Page({ params, searchParams }: Props) {}\n```\n\n### Streaming metadata\n\nFor dynamically rendered pages, Next.js streams metadata separately, injecting it into the HTML once `generateMetadata` resolves, without blocking UI rendering.\n\nStreaming metadata improves perceived performance by allowing visual content to stream first.\n\nStreaming metadata is **disabled for bots and crawlers** that expect metadata to be in the `<head>` tag (e.g. `Twitterbot`, `Slackbot`, `Bingbot`). These are detected by using the User Agent header from the incoming request.\n\nYou can customize or **disable** streaming metadata completely, with the [`htmlLimitedBots`](/docs/app/api-reference/config/next-config-js/htmlLimitedBots#disabling) option in your Next.js config file.\n\nStatically rendered pages don\u2019t use streaming since metadata is resolved at build time.\n\nLearn more about [streaming metadata](/docs/app/api-reference/functions/generate-metadata#streaming-metadata).\n\n### Memoizing data requests\n\nThere may be cases where you need to fetch the **same** data for metadata and the page itself. To avoid duplicate requests, you can use React's [`cache` function](https://react.dev/reference/react/cache) to memoize the return value and only fetch the data once. For example, to fetch the blog post information for both the metadata and the page:\n\napp/lib/data.ts\n\nTypeScript\n\nJavaScriptTypeScript\n\n```\nimport { cache } from 'react'\nimport { db } from '@/app/lib/db'\n \n// getPost will be used twice, but execute only once\nexport const getPost = cache(async (slug: string) => {\n  const res = await db.query.posts.findFirst({ where: eq(posts.slug, slug) })\n  return res\n})\n```\n\napp/blog/[slug]/page.tsx\n\nTypeScript\n\nJavaScriptTypeScript\n\n```\nimport { getPost } from '@/app/lib/data'\n \nexport async function generateMetadata({\n  params,\n}: {\n  params: { slug: string }\n}) {\n  const post = await getPost(params.slug)\n  return {\n    title: post.title,\n    description: post.description,\n  }\n}\n \nexport default async function Page({ params }: { params: { slug: string } }) {\n  const post = await getPost(params.slug)\n  return <div>{post.title}</div>\n}\n```\n\n## File-based metadata\n\nThe following special files are available for metadata:\n\n- [favicon.ico, apple-icon.jpg, and icon.jpg](/docs/app/api-reference/file-conventions/metadata/app-icons)\n- [opengraph-image.jpg and twitter-image.jpg](/docs/app/api-reference/file-conventions/metadata/opengraph-image)\n- [robots.txt](/docs/app/api-reference/file-conventions/metadata/robots)\n- [sitemap.xml](/docs/app/api-reference/file-conventions/metadata/sitemap)\n\nYou can use these for static metadata, or you can programmatically generate these files with code.\n\n## Favicons\n\nFavicons are small icons that represent your site in bookmarks and search results. To add a favicon to your application, create a `favicon.ico` and add to the root of the app folder.\n\n![Favicon Special File inside the App Folder with sibling layout and page files](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Flight%2Ffavicon-ico.png&w=3840&q=75)![Favicon Special File inside the App Folder with sibling layout and page files](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Fdark%2Ffavicon-ico.png&w=3840&q=75)\n> You can also programmatically generate favicons using code. See the [favicon docs](/docs/app/api-reference/file-conventions/metadata/app-icons) for more information.\n\n## Static Open Graph images\n\nOpen Graph (OG) images are images that represent your site in social media. To add a static OG image to your application, create a `opengraph-image.jpg` file in the root of the app folder.\n\n![OG image special file inside the App folder with sibling layout and page files](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Flight%2Fopengraph-image.png&w=3840&q=75)![OG image special file inside the App folder with sibling layout and page files](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Fdark%2Fopengraph-image.png&w=3840&q=75)\n\nYou can also add OG images for specific routes by creating a `opengraph-image.jpg` deeper down the folder structure. For example, to create an OG image specific to the `/blog` route, add a `opengraph-image.jpg` file inside the `blog` folder.\n\n![OG image special file inside the blog folder](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Flight%2Fopengraph-image-blog.png&w=3840&q=75)![OG image special file inside the blog folder](/_next/image?url=https%3A%2F%2Fh8DxKfmAPhn8O0p3.public.blob.vercel-storage.com%2Fdocs%2Fdark%2Fopengraph-image-blog.png&w=3840&q=75)\n\nThe more specific image will take precedence over any OG images above it in the folder structure.\n\n> Other image formats such as `jpeg`, `png`, and `gif` are also supported. See the [Open Graph Image docs](/docs/app/api-reference/file-conventions/metadata/opengraph-image) for more information.\n\n## Generated Open Graph images\n\nThe [`ImageResponse` constructor](/docs/app/api-reference/functions/image-response) allows you to generate dynamic images using JSX and CSS. This is useful for OG images that depend on data.\n\nFor example, to generate a unique OG image for each blog post, add a `opengraph-image.tsx` file inside the `blog` folder, and import the `ImageResponse` constructor from `next/og`:\n\napp/blog/[slug]/opengraph-image.tsx\n\nTypeScript\n\nJavaScriptTypeScript\n\n```\nimport { ImageResponse } from 'next/og'\nimport { getPost } from '@/app/lib/data'\n \n// Image metadata\nexport const size = {\n  width: 1200,\n  height: 630,\n}\n \nexport const contentType = 'image/png'\n \n// Image generation\nexport default async function Image({ params }: { params: { slug: string } }) {\n  const post = await getPost(params.slug)\n \n  return new ImageResponse(\n    (\n      // ImageResponse JSX element\n      <div\n        style={{\n          fontSize: 128,\n          background: 'white',\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        {post.title}\n      </div>\n    )\n  )\n}\n```\n\n`ImageResponse` supports common CSS properties including flexbox and absolute positioning, custom fonts, text wrapping, centering, and nested images. [See the full list of supported CSS properties](/docs/app/api-reference/functions/image-response).\n\n> **Good to know**:\n>\n> - Examples are available in the [Vercel OG Playground](https://og-playground.vercel.app/).\n> - `ImageResponse` uses [`@vercel/og`](https://vercel.com/docs/og-image-generation), [`satori`](https://github.com/vercel/satori), and `resvg` to convert HTML and CSS into PNG.\n> - Only flexbox and a subset of CSS properties are supported. Advanced layouts (e.g. `display: grid`) will not work.\n\n## API Reference\n\nLearn more about the Metadata APIs mentioned in this page.\n\n[### generateMetadata\n\nLearn how to add Metadata to your Next.js application for improved search engine optimization (SEO) and web shareability.](/docs/app/api-reference/functions/generate-metadata)[### generateViewport\n\nAPI Reference for the generateViewport function.](/docs/app/api-reference/functions/generate-viewport)[### ImageResponse\n\nAPI Reference for the ImageResponse constructor.](/docs/app/api-reference/functions/image-response)[### Metadata Files\n\nAPI documentation for the metadata file conventions.](/docs/app/api-reference/file-conventions/metadata)[### favicon, icon, and apple-icon\n\nAPI Reference for the Favicon, Icon and Apple Icon file conventions.](/docs/app/api-reference/file-conventions/metadata/app-icons)[### opengraph-image and twitter-image\n\nAPI Reference for the Open Graph Image and Twitter Image file conventions.](/docs/app/api-reference/file-conventions/metadata/opengraph-image)[### robots.txt\n\nAPI Reference for robots.txt file.](/docs/app/api-reference/file-conventions/metadata/robots)[### sitemap.xml\n\nAPI Reference for the sitemap.xml file.](/docs/app/api-reference/file-conventions/metadata/sitemap)[### htmlLimitedBots\n\nSpecify a list of user agents that should receive blocking metadata.](/docs/app/api-reference/config/next-config-js/htmlLimitedBots)\n\nWas this helpful?\n\nsupported.\n\nSend",
  "tags": [
    "nextjs",
    "react",
    "ssr",
    "framework"
  ],
  "extracted_at": "2026-02-03T12:55:03.727704+00:00",
  "content_length": 7972,
  "content_hash": "fe87dbf13e43a4d2"
}