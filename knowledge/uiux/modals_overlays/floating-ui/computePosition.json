{
  "id": "floating-ui__docs_computePosition",
  "source_id": "floating-ui",
  "source_name": "Floating UI",
  "category": "modals_overlays",
  "url": "https://floating-ui.com/docs/computePosition",
  "title": "computePosition",
  "content": "compute\nPosition\nComputes coordinates to position a floating element next to\nanother element.\nimport\n{\ncomputePosition\n}\nfrom\n'\n@floating-ui/dom\n'\n;\nUsage\nAt its most basic, the function accepts two elements:\nReference element\n\u2014 also known as the anchor element, this\nis the element that is being\nreferred\nto for positioning.\nOften this is a button that triggers a floating popover like a\ntooltip or menu.\nFloating element\n\u2014 this is the element that floats next to\nthe reference element, remaining anchored to it. This is the\npopover or tooltip itself.\n<\nbutton\nid\n=\n\"\nbutton\n\"\n>\nMy reference element\n</\nbutton\n>\n<\ndiv\nid\n=\n\"\ntooltip\n\"\n>\nMy floating element\n</\ndiv\n>\nFirst, give the floating element initial CSS styles so that it\nbecomes an absolutely-positioned element that floats on top of\nthe UI with layout ready for being measured:\n#\ntooltip\n{\n/* Float on top of the UI */\nposition\n:\nabsolute\n;\n/* Avoid layout interference */\nwidth\n:\nmax-content\n;\ntop\n:\n0\n;\nleft\n:\n0\n;\n}\nThen, ensuring that these two elements are rendered onto the\ndocument and\ncan be measured\n, call\ncomputePosition\n()\nwith them as arguments.\nThe first argument is the\nreference\nelement\nto anchor to, and the second argument is\nthe\nfloating element\nto be\npositioned.\nimport\n{\ncomputePosition\n}\nfrom\n'\n@floating-ui/dom\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n)\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\ncomputePosition\n()\nreturns a\nPromise\nthat\nresolves with the coordinates that can be used to apply styles to\nthe floating element.\nBy default, the floating element will be placed at the bottom\ncenter of the reference element.\nMeasurable elements\nIn order for the floating element to be measured and thus\ncorrectly positioned, it must be rendered onto the DOM and not\nhidden when\ncomputePosition\n()\nis called. Ensure CSS like\ndisplay\n:\nnone\nis removed prior to calling the function.\nInitial layout\nTo ensure positioning works smoothly, the dimensions of the\nfloating element should not change before and after being\npositioned.\nCertain CSS styles must be applied\nbefore\ncomputePosition\n()\nis called:\n#\nfloating\n{\nposition\n:\nabsolute\n;\nwidth\n:\nmax-content\n;\ntop\n:\n0\n;\nleft\n:\n0\n;\n}\nposition\n:\nabsolute\nThis makes the element float on top of the UI with intrinsic\ndimensions based on the content, instead of acting as a block.\nThe\ntop\nand\nleft\ncoordinates can then take\neffect.\nwidth\n:\nmax-content\n(or a fixed value)\ntop\n:\n0\nleft\n:\n0\nThese properties prevent the floating element from resizing when\nit overflows a container, removing layout interference that can\ncause incorrect measurements.\nThis lets you place the floating element anywhere in the DOM tree\nand have it be positioned correctly, regardless of the CSS styles\nof any ancestor containers.\nAnchoring\nSince\ncomputePosition\n()\nis only a single function call, it\nonly positions the floating element once.\nTo ensure it remains anchored to the reference element in a\nvariety of scenarios, such as when resizing or scrolling, wrap\nthe calculation in\nautoUpdate\n:\nimport\n{\ncomputePosition\n,\nautoUpdate\n}\nfrom\n'\n@floating-ui/dom\n'\n;\n// When the floating element is mounted to the DOM:\nconst\ncleanup\n=\nautoUpdate\n(\nreferenceEl\n,\nfloatingEl\n,\n()\n=>\n{\ncomputePosition\n(\nreferenceEl\n,\nfloatingEl\n)\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\n// ...\n})\n;\n})\n;\n// ...later, when it's removed from the DOM:\ncleanup\n()\n;\nOptions\nPassed as a third argument, this is the object to configure the\nbehavior.\ncomputePosition\n(\nreferenceEl\n,\nfloatingEl\n,\n{\n// options\n})\n;\nplacement\nWhere to place the floating element relative to its reference\nelement. By default, this is\n'\nbottom\n'\n.\n12 strings are available:\ntype\nPlacement\n=\n|\n'\ntop\n'\n|\n'\ntop-start\n'\n|\n'\ntop-end\n'\n|\n'\nright\n'\n|\n'\nright-start\n'\n|\n'\nright-end\n'\n|\n'\nbottom\n'\n|\n'\nbottom-start\n'\n|\n'\nbottom-end\n'\n|\n'\nleft\n'\n|\n'\nleft-start\n'\n|\n'\nleft-end\n'\n;\ncomputePosition\n(\nreferenceEl\n,\nfloatingEl\n,\n{\nplacement\n:\n'\nbottom-start\n'\n,\n// 'bottom' by default\n})\n;\nThe\n-start\nand\n-end\nalignments are\nlogical\nand will adapt to the writing direction (e.g. RTL) as expected.\nstrategy\nThis is the type of CSS position property to use. Two strings are\navailable:\ntype\nStrategy\n=\n'\nabsolute\n'\n|\n'\nfixed\n'\n;\ncomputePosition\n(\nreferenceEl\n,\nfloatingEl\n,\n{\nstrategy\n:\n'\nfixed\n'\n,\n// 'absolute' by default\n})\n;\nEnsure your initial layout matches the strategy:\n#\ntooltip\n{\nposition\n:\nfixed\n;\n}\nThese strategies are differentiated as follows:\n'\nabsolute\n'\n\u2014 the floating element is positioned relative\nto its nearest positioned ancestor. With most layouts, this\nusually requires the browser to do the least work when updating\nthe position.\n'\nfixed\n'\n\u2014 the floating element is positioned relative to\nits nearest containing block (usually the viewport). This is\nuseful when the reference element is also fixed to reduce\njumpiness with positioning while scrolling. It will in many\ncases also\n\u201cbreak\u201d the floating element out of a clipping ancestor\n.\nmiddleware\nWhen you want granular control over how the floating element is\npositioned, middleware are used. They read the current\ncoordinates, optionally alter them, and/or provide data for\nrendering. They compose and work together to produce the final\ncoordinates which you receive as\nx\nand\ny\nparameters.\nThe following are included in the package:\nPlacement modifiers\nThese middleware alter the base placement coordinates.\noffset\nmodifies the placement to add distance\nor margin between the reference and floating elements.\ninline\npositions the floating element\nrelative to individual client rects rather than the bounding\nbox for better precision.\nVisibility optimizers\nThese middleware alter the coordinates to ensure the floating\nelement stays on screen optimally.\nshift\nprevents the floating element from\noverflowing a clipping container by shifting it to stay in\nview.\nflip\nprevents the floating element from\noverflowing a clipping container by flipping it to the opposite\nplacement to stay in view.\nautoPlacement\nautomatically chooses a\nplacement for you using a \u201cmost space\u201d strategy.\nsize\nresizes the floating element, for example\nso it will not overflow a clipping container, or to match the\nwidth of the reference element.\nData providers\nThese middleware only provide data and do not alter the\ncoordinates.\narrow\nprovides data to position an inner\nelement of the floating element such that it is centered to its\nreference element.\nhide\nprovides data to hide the floating element\nin applicable situations when it no longer appears attached to\nits reference element due to different clipping contexts.\nCustom\nYou can also craft your own custom middleware to extend the\nbehavior of the library. Read\nMiddleware\nto\nlearn how to create your own.\nConditional\nMiddleware can be called conditionally inside the array inline\nfor ergonomics:\n// The array can accept `false`, `null`, or `undefined`\n// inside of it. They get filtered out.\ntype\nMiddlewareOption\n=\nArray\n<\nMiddleware\n|\nfalse\n|\nnull\n|\nundefined\n>;\nOften this is useful for higher-level wrapper functions to avoid\nneeding the consumer to import middleware themselves:\nfunction\nwrapper\n(\nreferenceEl\n,\nfloatingEl\n,\noptions\n)\n{\nreturn\ncomputePosition\n(\nreferenceEl\n,\nfloatingEl\n,\n{\n...\noptions\n,\nmiddleware\n:\n[\noptions\n.\nenableFlip\n&&\nflip\n()\n,\noptions\n.\narrowEl\n&&\narrow\n({\nelement\n:\noptions\n.\narrowEl\n})\n,\n],\n})\n;\n}\nReturn value\ncomputePosition\n()\nreturns the following type:\ninterface\nComputePositionReturn\n{\nx\n:\nnumber\n;\ny\n:\nnumber\n;\nplacement\n:\nPlacement\n;\nstrategy\n:\nStrategy\n;\nmiddlewareData\n:\nMiddlewareData\n;\n}\nx\nThe x-coordinate of the floating element.\ny\nThe y-coordinate of the floating element.\nplacement\nThe final placement of the floating element, which may be\ndifferent from the initial or preferred one passed in due to\nmiddleware modifications. This allows you to know which side the\nfloating element is placed at.\nstrategy\nThe CSS position property to use.\nmiddlewareData\nThe data returned by any middleware used.",
  "content_markdown": "# computePosition\n\nComputes coordinates to position a floating element next to\nanother element.\n\n```\nimport {computePosition} from '@floating-ui/dom';\n```\n\n## [Usage](#usage)\n\nAt its most basic, the function accepts two elements:\n\n- **Reference element** \u2014 also known as the anchor element, this\n  is the element that is being *referred* to for positioning.\n  Often this is a button that triggers a floating popover like a\n  tooltip or menu.\n- **Floating element** \u2014 this is the element that floats next to\n  the reference element, remaining anchored to it. This is the\n  popover or tooltip itself.\n\n```\n<button id=\"button\">My reference element</button>\n<div id=\"tooltip\">My floating element</div>\n```\n\nFirst, give the floating element initial CSS styles so that it\nbecomes an absolutely-positioned element that floats on top of\nthe UI with layout ready for being measured:\n\n```\n#tooltip {\n  /* Float on top of the UI */\n  position: absolute;\n \n  /* Avoid layout interference */\n  width: max-content;\n  top: 0;\n  left: 0;\n}\n```\n\nThen, ensuring that these two elements are rendered onto the\ndocument and **can be measured**, call `computePosition()`\nwith them as arguments.\n\nThe first argument is the reference\nelement to anchor to, and the second argument is\nthe floating element to be\npositioned.\n\n```\nimport {computePosition} from '@floating-ui/dom';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\n`computePosition()` returns a `Promise` that\nresolves with the coordinates that can be used to apply styles to\nthe floating element.\n\nBy default, the floating element will be placed at the bottom\ncenter of the reference element.\n\n### [Measurable elements](#measurable-elements)\n\nIn order for the floating element to be measured and thus\ncorrectly positioned, it must be rendered onto the DOM and not\nhidden when `computePosition()` is called. Ensure CSS like\n`display: none` is removed prior to calling the function.\n\n### [Initial layout](#initial-layout)\n\nTo ensure positioning works smoothly, the dimensions of the\nfloating element should not change before and after being\npositioned.\n\nCertain CSS styles must be applied **before**\n`computePosition()` is called:\n\n```\n#floating {\n  position: absolute;\n  width: max-content;\n  top: 0;\n  left: 0;\n}\n```\n\n- `position: absolute`\n\nThis makes the element float on top of the UI with intrinsic\ndimensions based on the content, instead of acting as a block.\nThe `top` and `left` coordinates can then take\neffect.\n\n- `width: max-content` (or a fixed value)\n- `top: 0`\n- `left: 0`\n\nThese properties prevent the floating element from resizing when\nit overflows a container, removing layout interference that can\ncause incorrect measurements.\n\nThis lets you place the floating element anywhere in the DOM tree\nand have it be positioned correctly, regardless of the CSS styles\nof any ancestor containers.\n\n## [Anchoring](#anchoring)\n\nSince `computePosition()` is only a single function call, it\nonly positions the floating element once.\n\nTo ensure it remains anchored to the reference element in a\nvariety of scenarios, such as when resizing or scrolling, wrap\nthe calculation in [`autoUpdate`](/docs/autoUpdate):\n\n```\nimport {computePosition, autoUpdate} from '@floating-ui/dom';\n \n// When the floating element is mounted to the DOM:\nconst cleanup = autoUpdate(referenceEl, floatingEl, () => {\n  computePosition(referenceEl, floatingEl).then(({x, y}) => {\n    // ...\n  });\n});\n \n// ...later, when it's removed from the DOM:\ncleanup();\n```\n\n## [Options](#options)\n\nPassed as a third argument, this is the object to configure the\nbehavior.\n\n```\ncomputePosition(referenceEl, floatingEl, {\n  // options\n});\n```\n\n### [`placement`](#placement)\n\nWhere to place the floating element relative to its reference\nelement. By default, this is `'bottom'`.\n\n12 strings are available:\n\n```\ntype Placement =\n  | 'top'\n  | 'top-start'\n  | 'top-end'\n  | 'right'\n  | 'right-start'\n  | 'right-end'\n  | 'bottom'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'left'\n  | 'left-start'\n  | 'left-end';\n```\n\n```\ncomputePosition(referenceEl, floatingEl, {\n  placement: 'bottom-start', // 'bottom' by default\n});\n```\n\nThe `-start` and `-end` alignments are\n[logical](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties)\nand will adapt to the writing direction (e.g. RTL) as expected.\n\n### [`strategy`](#strategy)\n\nThis is the type of CSS position property to use. Two strings are\navailable:\n\n```\ntype Strategy = 'absolute' | 'fixed';\n```\n\n```\ncomputePosition(referenceEl, floatingEl, {\n  strategy: 'fixed', // 'absolute' by default\n});\n```\n\nEnsure your initial layout matches the strategy:\n\n```\n#tooltip {\n  position: fixed;\n}\n```\n\nThese strategies are differentiated as follows:\n\n- `'absolute'` \u2014 the floating element is positioned relative\n  to its nearest positioned ancestor. With most layouts, this\n  usually requires the browser to do the least work when updating\n  the position.\n- `'fixed'` \u2014 the floating element is positioned relative to\n  its nearest containing block (usually the viewport). This is\n  useful when the reference element is also fixed to reduce\n  jumpiness with positioning while scrolling. It will in many\n  cases also\n  [\u201cbreak\u201d the floating element out of a clipping ancestor](/docs/misc#clipping).\n\n### [`middleware`](#middleware)\n\nWhen you want granular control over how the floating element is\npositioned, middleware are used. They read the current\ncoordinates, optionally alter them, and/or provide data for\nrendering. They compose and work together to produce the final\ncoordinates which you receive as `x` and `y`\nparameters.\n\nThe following are included in the package:\n\n#### [Placement modifiers](#placement-modifiers)\n\nThese middleware alter the base placement coordinates.\n\n- [`offset`](/docs/offset) modifies the placement to add distance\n  or margin between the reference and floating elements.\n- [`inline`](/docs/inline) positions the floating element\n  relative to individual client rects rather than the bounding\n  box for better precision.\n\n#### [Visibility optimizers](#visibility-optimizers)\n\nThese middleware alter the coordinates to ensure the floating\nelement stays on screen optimally.\n\n- [`shift`](/docs/shift) prevents the floating element from\n  overflowing a clipping container by shifting it to stay in\n  view.\n- [`flip`](/docs/flip) prevents the floating element from\n  overflowing a clipping container by flipping it to the opposite\n  placement to stay in view.\n- [`autoPlacement`](/docs/autoPlacement) automatically chooses a\n  placement for you using a \u201cmost space\u201d strategy.\n- [`size`](/docs/size) resizes the floating element, for example\n  so it will not overflow a clipping container, or to match the\n  width of the reference element.\n\n#### [Data providers](#data-providers)\n\nThese middleware only provide data and do not alter the\ncoordinates.\n\n- [`arrow`](/docs/arrow) provides data to position an inner\n  element of the floating element such that it is centered to its\n  reference element.\n- [`hide`](/docs/hide) provides data to hide the floating element\n  in applicable situations when it no longer appears attached to\n  its reference element due to different clipping contexts.\n\n#### [Custom](#custom)\n\nYou can also craft your own custom middleware to extend the\nbehavior of the library. Read [Middleware](/docs/middleware) to\nlearn how to create your own.\n\n#### [Conditional](#conditional)\n\nMiddleware can be called conditionally inside the array inline\nfor ergonomics:\n\n```\n// The array can accept `false`, `null`, or `undefined`\n// inside of it. They get filtered out.\ntype MiddlewareOption = Array<\n  Middleware | false | null | undefined\n>;\n```\n\nOften this is useful for higher-level wrapper functions to avoid\nneeding the consumer to import middleware themselves:\n\n```\nfunction wrapper(referenceEl, floatingEl, options) {\n  return computePosition(referenceEl, floatingEl, {\n    ...options,\n    middleware: [\n      options.enableFlip && flip(),\n      options.arrowEl && arrow({element: options.arrowEl}),\n    ],\n  });\n}\n```\n\n## [Return value](#return-value)\n\n`computePosition()` returns the following type:\n\n```\ninterface ComputePositionReturn {\n  x: number;\n  y: number;\n  placement: Placement;\n  strategy: Strategy;\n  middlewareData: MiddlewareData;\n}\n```\n\n### [`x`](#x)\n\nThe x-coordinate of the floating element.\n\n### [`y`](#y)\n\nThe y-coordinate of the floating element.\n\n### [`placement`](#placement-1)\n\nThe final placement of the floating element, which may be\ndifferent from the initial or preferred one passed in due to\nmiddleware modifications. This allows you to know which side the\nfloating element is placed at.\n\n### [`strategy`](#strategy-1)\n\nThe CSS position property to use.\n\n### [`middlewareData`](#middlewaredata)\n\nThe data returned by any middleware used.",
  "tags": [
    "floating-ui",
    "positioning",
    "popovers",
    "tooltips"
  ],
  "extracted_at": "2026-02-03T12:53:21.554689+00:00",
  "content_length": 8067,
  "content_hash": "25946eac814d5f29"
}