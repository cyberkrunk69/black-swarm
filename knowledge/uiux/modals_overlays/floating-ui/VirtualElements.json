{
  "id": "floating-ui__docs_virtual-elements",
  "source_id": "floating-ui",
  "source_name": "Floating UI",
  "category": "modals_overlays",
  "url": "https://floating-ui.com/docs/virtual-elements",
  "title": "VirtualElements",
  "content": "Virtual\nElements\nPosition a floating element relative to a custom reference area,\nuseful for context menus, range selections, following the cursor,\nand more.\nUsage\nThe most basic virtual element is a plain object that has a\ngetBoundingClientRect\nmethod, which mimics a real\nelement\u2019s one:\n// A virtual element that is 20 x 20 px starting from (0, 0)\nconst\nvirtualEl\n=\n{\ngetBoundingClientRect\n()\n{\nreturn\n{\nx\n:\n0\n,\ny\n:\n0\n,\ntop\n:\n0\n,\nleft\n:\n0\n,\nbottom\n:\n20\n,\nright\n:\n20\n,\nwidth\n:\n20\n,\nheight\n:\n20\n,\n}\n;\n}\n,\n}\n;\ncomputePosition\n(\nvirtualEl\n,\nfloatingEl\n)\n;\nA point reference, such as a mouse event, is one such use case:\nfunction\nonClick\n(\n{\nclientX\n,\nclientY\n}\n)\n{\nconst\nvirtualEl\n=\n{\ngetBoundingClientRect\n()\n{\nreturn\n{\nwidth\n:\n0\n,\nheight\n:\n0\n,\nx\n:\nclientX\n,\ny\n:\nclientY\n,\ntop\n:\nclientY\n,\nleft\n:\nclientX\n,\nright\n:\nclientX\n,\nbottom\n:\nclientY\n,\n}\n;\n}\n,\n}\n;\ncomputePosition\n(\nvirtualEl\n,\nfloatingEl\n)\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\n// Position the floating element relative to the click\n})\n;\n}\ndocument\n.\naddEventListener\n(\n'\nclick\n'\n,\nonClick\n)\n;\ncontextElement\nThis property is useful if your\ngetBoundingClientRect\nmethod is derived from a real\nelement, to ensure clipping and position update detection works\nas expected.\nconst\nvirtualEl\n=\n{\ngetBoundingClientRect\n()\n{\nreturn\n{\n// ...\n}\n;\n}\n,\ncontextElement\n:\ndocument\n.\nquerySelector\n(\n'\n#context\n'\n)\n,\n}\n;\ngetClientRects\nThis property is useful when using range selections and the\ninline\nmiddleware.\nconst\nvirtualEl\n=\n{\ngetBoundingClientRect\n:\n()\n=>\nrange\n.\ngetBoundingClientRect\n()\n,\ngetClientRects\n:\n()\n=>\nrange\n.\ngetClientRects\n()\n,\n}\n;",
  "content_markdown": "# Virtual Elements\n\nPosition a floating element relative to a custom reference area,\nuseful for context menus, range selections, following the cursor,\nand more.\n\n## [Usage](#usage)\n\nThe most basic virtual element is a plain object that has a\n`getBoundingClientRect` method, which mimics a real\nelement\u2019s one:\n\n```\n// A virtual element that is 20 x 20 px starting from (0, 0)\nconst virtualEl = {\n  getBoundingClientRect() {\n    return {\n      x: 0,\n      y: 0,\n      top: 0,\n      left: 0,\n      bottom: 20,\n      right: 20,\n      width: 20,\n      height: 20,\n    };\n  },\n};\n```\n\n```\ncomputePosition(virtualEl, floatingEl);\n```\n\nA point reference, such as a mouse event, is one such use case:\n\n```\nfunction onClick({clientX, clientY}) {\n  const virtualEl = {\n    getBoundingClientRect() {\n      return {\n        width: 0,\n        height: 0,\n        x: clientX,\n        y: clientY,\n        top: clientY,\n        left: clientX,\n        right: clientX,\n        bottom: clientY,\n      };\n    },\n  };\n \n  computePosition(virtualEl, floatingEl).then(({x, y}) => {\n    // Position the floating element relative to the click\n  });\n}\n \ndocument.addEventListener('click', onClick);\n```\n\n## [`contextElement`](#contextelement)\n\nThis property is useful if your\n`getBoundingClientRect` method is derived from a real\nelement, to ensure clipping and position update detection works\nas expected.\n\n```\nconst virtualEl = {\n  getBoundingClientRect() {\n    return {\n      // ...\n    };\n  },\n  contextElement: document.querySelector('#context'),\n};\n```\n\n## [`getClientRects`](#getclientrects)\n\nThis property is useful when using range selections and the\n[`inline`](/docs/inline) middleware.\n\n```\nconst virtualEl = {\n  getBoundingClientRect: () => range.getBoundingClientRect(),\n  getClientRects: () => range.getClientRects(),\n};\n```",
  "tags": [
    "floating-ui",
    "positioning",
    "popovers",
    "tooltips"
  ],
  "extracted_at": "2026-02-03T12:53:42.150538+00:00",
  "content_length": 1585,
  "content_hash": "7112b58b1e207b2e"
}