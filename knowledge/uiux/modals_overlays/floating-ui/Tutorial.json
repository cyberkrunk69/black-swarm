{
  "id": "floating-ui__docs_tutorial",
  "source_id": "floating-ui",
  "source_name": "Floating UI",
  "category": "modals_overlays",
  "url": "https://floating-ui.com/docs/tutorial",
  "title": "Tutorial",
  "content": "Tutorial\nBuild a tooltip from scratch and learn how to use Floating UI\u2019s\npositioning toolkit.\nThis page teaches you the fundamentals of Floating UI\u2019s\npositioning by building a tooltip from scratch. If you just want\nto start learning about the API, skip to the\nnext section\n.\nBefore proceeding\nThe vanilla package of this library is a JavaScript-based layout\nengine for \u201canchor positioning\u201d. It acts as a polyfill for CSS to\ncorrectly position absolutely-positioned anchored elements on the\ndocument.\nIf you\u2019re looking for pre-built components or something simple\nout of the box, you may find other libraries are better suited\nfor your use case.\nSetting up\nCreate a new HTML document with two elements, a\n<\nbutton\n>\nand a tooltip\n<\ndiv\n>\n:\n<!\ndoctype\nhtml\n>\n<\nhtml\n>\n<\nhead\n>\n<\ntitle\n>\nFloating UI Tutorial\n</\ntitle\n>\n</\nhead\n>\n<\nbody\n>\n<\nbutton\nid\n=\n\"\nbutton\n\"\naria-describedby\n=\n\"\ntooltip\n\"\n>\nMy button\n</\nbutton\n>\n<\ndiv\nid\n=\n\"\ntooltip\n\"\nrole\n=\n\"\ntooltip\n\"\n>\nMy tooltip\n</\ndiv\n>\n<\nscript\ntype\n=\n\"\nmodule\n\"\n>\n// Your code will go here.\n</\nscript\n>\n</\nbody\n>\n</\nhtml\n>\nRight now you should see the following (except with the browser\u2019s\ndefault styling):\nMy button\nMy tooltip\nStyling\nLet\u2019s give our tooltip some styling:\n<!\ndoctype\nhtml\n>\n<\nhtml\n>\n<\nhead\n>\n<\ntitle\n>\nFloating UI Tutorial\n</\ntitle\n>\n<\nstyle\n>\n#\ntooltip\n{\nbackground\n: #222;\ncolor\n:\nwhite\n;\nfont-weight\n:\nbold\n;\npadding\n:\n5\npx\n;\nborder-radius\n:\n4\npx\n;\nfont-size\n:\n90\n%\n;\n}\n</\nstyle\n>\n</\nhead\n>\n<\nbody\n>\n<!-- ... -->\n</\nbody\n>\n</\nhtml\n>\nHere\u2019s the result so far:\nMy button\nMy tooltip\nMaking the tooltip \u201cfloat\u201d\nYour tooltip\n<\ndiv\n>\nis a regular block on the document,\nlike any other element, which is why it spans the whole width of\nthe page.\nWe want it to\nfloat\non top of the UI though, so it doesn\u2019t\ndisrupt the flow of the document, and should only take up as much\nsize as its contents.\n#\ntooltip\n{\nwidth\n:\nmax-content\n;\nposition\n:\nabsolute\n;\ntop\n:\n0\n;\nleft\n:\n0\n;\nbackground\n: #222;\ncolor\n:\nwhite\n;\nfont-weight\n:\nbold\n;\npadding\n:\n5\npx\n;\nborder-radius\n:\n4\npx\n;\nfont-size\n:\n90\n%\n;\n}\nVisit\nInitial layout\nto\nlearn more.\nMy button\nMy tooltip\nYour tooltip is now a \u201cfloating\u201d element \u2014 it only takes up as\nmuch size as it needs to and is overlaid on top of the UI.\nPositioning\nInside your module\n<\nscript\n>\ntag, add the following code:\nPlay on CodeSandbox\nimport\n{\ncomputePosition\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n)\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nAbove, we call\ncomputePosition\n()\nwith the button and\ntooltip elements as arguments.\nIt returns a\nPromise\n, so we use the\n.\nthen\n()\nmethod which passes in the calculated\nx\nand\ny\ncoordinates for us, which we use to assign\nleft\nand\ntop\nstyles to the tooltip.\nOur tooltip is now centered underneath the button:\nMy button\nMy tooltip\nPlacements\nThe default placement is\n'\nbottom\n'\n, but you probably want\nto place the tooltip anywhere relative to the button. For this,\nFloating UI has the\nplacement\noption, passed into the\noptions object as a third argument:\nimport\n{\ncomputePosition\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\nright\n'\n,\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nMy button\nMy tooltip\nThe available base placements are\n'\ntop\n'\n,\n'\nright\n'\n,\n'\nbottom\n'\n,\n'\nleft\n'\n.\nEach of these base placements has an alignment in the form\n-start\nand\n-end\n. For example,\n'\nright-start\n'\n, or\n'\nbottom-end\n'\n. These allow you to align the tooltip to the\nedges of the button, rather than centering it.\nOur first problem\nThese placements are a useful feature themselves, but they don\u2019t\noffer much that couldn\u2019t be achieved with raw CSS tricks. Which\nbrings us to our first problem: what happens if we use a\n'\ntop\n'\nplacement?\nMy button\nMy tooltip\nWe can\u2019t read the tooltip text because the button happens to be\nclose to the document boundary. In this case, you could use the\n'\nbottom\n'\nplacement, instead of\n'\ntop\n'\n. Again, you\ncould\njust use CSS for this, although it may become unwieldy\nand require extra parent wrapper tags.\nNeeding to\nmanually\nhandle this for every single tooltip you\nadd in an application can be cumbersome. This is especially true\nwhen you want to apply a tooltip or popover to an element\nanywhere on the page at a whim, and have its position \u201cjust work\u201d\nfor any screen size or location, without needing to adjust\nanything.\nThis is why you can let Floating UI handle it for you\nautomatically with the adoption of \u201cmiddleware\u201d.\nMiddleware\nMiddleware are how every single feature beyond the basic\nplacement positioning is implemented.\nA middleware is a piece of code which runs between the call of\ncomputePosition\n()\nand its eventual return, to modify or\nprovide data to the consumer.\nflip\n()\nmodifies the coordinates for us such that it uses\nthe\n'\nbottom\n'\nplacement automatically without us needing to\nexplicitly specify it.\nimport\n{\ncomputePosition\n,\nflip\n,\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\nflip\n()\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nNow, even though we\u2019ve set\nplacement\nto\n'\ntop\n'\n,\nthe tooltip flips to the bottom automatically for us if it can\u2019t\nfit on the top. No need to adjust anything manually.\nMy button\nMy tooltip\nImportantly, it will continue to use the\n'\ntop\n'\nplacement\nat all times if it can, and only fallback to\n'\nbottom\n'\nif\nit has to.\nShift middleware\nNow, what if we wanted to have more content inside the tooltip?\n<\ndiv\nid\n=\n\"\ntooltip\n\"\nrole\n=\n\"\ntooltip\n\"\n>\nMy tooltip with more content\n</\ndiv\n>\nMy button\nMy tooltip with more content\nOh no, we now have the same problem as before, but on the\nopposite axis (\nx\ninstead of\ny\n). Because it\u2019s\ncentered\nbeneath the button, and the tooltip happens to be wider than the\nbutton, it ends up overflowing the viewport edge.\nTo solve this problem, we have the\nshift\n()\nmiddleware:\nimport\n{\ncomputePosition\n,\nflip\n,\nshift\n,\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\nflip\n()\n,\nshift\n()\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nMy button\nMy tooltip with more content\nNow, we can read all the text because the\nshift\n()\nmiddleware shifted the tooltip from its bottom centered placement\nuntil it was fully in view.\nAs you can see, the tooltip lies fully flush with the edge of the\ndocument boundary. To add some whitespace, or padding, the\nshift\n()\nmiddleware accepts an options object:\nimport\n{\ncomputePosition\n,\nflip\n,\nshift\n,\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\nflip\n()\n,\nshift\n({\npadding\n:\n5\n})\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nMy button\nMy tooltip with more content\nNow there\u2019s 5px of breathing room between the tooltip and the\nedge of the boundary.\nOffset middleware\nWe probably also don\u2019t want the tooltip to lie flush with the\nbutton element. For this, we have the\noffset\n()\nmiddleware:\nimport\n{\ncomputePosition\n,\nflip\n,\nshift\n,\noffset\n,\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\noffset\n(\n6\n)\n,\nflip\n()\n,\nshift\n({\npadding\n:\n5\n})\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nThis will displace the tooltip 6px from the reference element:\nMy button\nMy tooltip with more content\nArrow middleware\nMost tooltips have an arrow (or triangle / caret) which points\ntoward the button. For this, we have the\narrow\n()\nmiddleware, but we first need to add a new element inside of our\ntooltip:\n<\ndiv\nid\n=\n\"\ntooltip\n\"\nrole\n=\n\"\ntooltip\n\"\n>\nMy tooltip with more content\n<\ndiv\nid\n=\n\"\narrow\n\"\n></\ndiv\n>\n</\ndiv\n>\nThen style it:\n#\narrow\n{\nposition\n:\nabsolute\n;\nbackground\n: #222;\nwidth\n:\n8\npx\n;\nheight\n:\n8\npx\n;\ntransform\n:\nrotate\n(\n45\ndeg\n)\n;\n}\nThen pass the arrow element into the\narrow\n()\nmiddleware:\nimport\n{\ncomputePosition\n,\nflip\n,\nshift\n,\noffset\n,\narrow\n,\n}\nfrom\n'\nhttps://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm\n'\n;\nconst\nbutton\n=\ndocument\n.\nquerySelector\n(\n'\n#button\n'\n)\n;\nconst\ntooltip\n=\ndocument\n.\nquerySelector\n(\n'\n#tooltip\n'\n)\n;\nconst\narrowElement\n=\ndocument\n.\nquerySelector\n(\n'\n#arrow\n'\n)\n;\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\noffset\n(\n6\n)\n,\nflip\n()\n,\nshift\n({\npadding\n:\n5\n})\n,\narrow\n({\nelement\n:\narrowElement\n})\n,\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n})\n;\nNow we need to add dynamic styles to the arrow element. Unlike\nother middleware, the\narrow\n()\nmiddleware doesn\u2019t modify\nthe main\nx\nand\ny\ncoordinates. Instead, it\nprovides\ndata\nfor us to use. We can access this piece of\ninformation provided via\nmiddlewareData\n.\nThis contains an\narrow\nobject, referring to the name of the\narrow\n()\nmiddleware we used:\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\noffset\n(\n6\n)\n,\nflip\n()\n,\nshift\n({\npadding\n:\n5\n})\n,\narrow\n({\nelement\n:\narrowElement\n})\n,\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n,\nplacement\n,\nmiddlewareData\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n// Accessing the data\nconst\n{\nx\n:\narrowX\n,\ny\n:\narrowY\n}\n=\nmiddlewareData\n.\narrow\n;\n})\n;\nWe now want to use this data to apply the styles.\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\nplacement\n:\n'\ntop\n'\n,\nmiddleware\n:\n[\noffset\n(\n6\n)\n,\nflip\n()\n,\nshift\n({\npadding\n:\n5\n})\n,\narrow\n({\nelement\n:\narrowElement\n})\n,\n],\n})\n.\nthen\n((\n{\nx\n,\ny\n,\nplacement\n,\nmiddlewareData\n}\n)\n=>\n{\nObject\n.\nassign\n(\ntooltip\n.\nstyle\n,\n{\nleft\n:\n`${\nx\n}\npx\n`\n,\ntop\n:\n`${\ny\n}\npx\n`\n,\n})\n;\n// Accessing the data\nconst\n{\nx\n:\narrowX\n,\ny\n:\narrowY\n}\n=\nmiddlewareData\n.\narrow\n;\nconst\nstaticSide\n=\n{\ntop\n:\n'\nbottom\n'\n,\nright\n:\n'\nleft\n'\n,\nbottom\n:\n'\ntop\n'\n,\nleft\n:\n'\nright\n'\n,\n}\n[\nplacement\n.\nsplit\n(\n'\n-\n'\n)\n[\n0\n]];\nObject\n.\nassign\n(\narrowElement\n.\nstyle\n,\n{\nleft\n:\narrowX\n!=\nnull\n?\n`${\narrowX\n}\npx\n`\n:\n''\n,\ntop\n:\narrowY\n!=\nnull\n?\n`${\narrowY\n}\npx\n`\n:\n''\n,\nright\n:\n''\n,\nbottom\n:\n''\n,\n[\nstaticSide\n]:\n'\n-4px\n'\n,\n})\n;\n})\n;\nThe styles above will handle the arrow\u2019s position for all\nplacements.\nx\nis the x-axis offset, only existing if the placement is\nvertical (\n'\ntop\n'\nor\n'\nbottom\n'\n).\ny\nis the y-axis offset, only existing if the placement is\nhorizontal (\n'\nright\n'\nor\n'\nleft\n'\n).\nstaticSide\ndepends on the\nplacement\nthat gets\nchosen. For instance, if the placement is\n'\nbottom\n'\n, then\nwe want the arrow to be positioned 4px outside of the\ntop\nof\nthe tooltip (so we use a negative number).\nThe reason we use\n.\nsplit\n(\n'\n-\n'\n)\n[\n0\n]\nis to also handle aligned\nplacements, like\n'\ntop-start\n'\nrather than only\n'\ntop\n'\n.\nMy button\nMy tooltip with more content\nFunctionality\nNow that the tooltip has everything positioned, we can add\nuser\ninteractions\nthat will show the tooltip when hovering or\nfocusing the button.\n#\ntooltip\n{\ndisplay\n:\nnone\n;\nwidth\n:\nmax-content\n;\nposition\n:\nabsolute\n;\ntop\n:\n0\n;\nleft\n:\n0\n;\nbackground\n: #222;\ncolor\n:\nwhite\n;\nfont-weight\n:\nbold\n;\npadding\n:\n5\npx\n;\nborder-radius\n:\n4\npx\n;\nfont-size\n:\n90\n%\n;\n}\nfunction\nupdate\n()\n{\ncomputePosition\n(\nbutton\n,\ntooltip\n,\n{\n// ... options ...\n})\n.\nthen\n((\n{\nx\n,\ny\n,\nplacement\n,\nmiddlewareData\n}\n)\n=>\n{\n// ... positioning logic ...\n})\n;\n}\nfunction\nshowTooltip\n()\n{\ntooltip\n.\nstyle\n.\ndisplay\n=\n'\nblock\n'\n;\nupdate\n()\n;\n}\nfunction\nhideTooltip\n()\n{\ntooltip\n.\nstyle\n.\ndisplay\n=\n''\n;\n}\n[\n[\n'\nmouseenter\n'\n,\nshowTooltip\n],\n[\n'\nmouseleave\n'\n,\nhideTooltip\n],\n[\n'\nfocus\n'\n,\nshowTooltip\n],\n[\n'\nblur\n'\n,\nhideTooltip\n],\n].\nforEach\n((\n[\nevent\n,\nlistener\n]\n)\n=>\n{\nbutton\n.\naddEventListener\n(\nevent\n,\nlistener\n)\n;\n})\n;\nTry hovering or focusing the button:\nMy button\nMisc\nTo keep the tooltip anchored to the button while scrolling or\nresizing, you\u2019ll want to use the\nautoUpdate\nutility.\nAs for animations, this is up to you to explore when crafting\nyour floating elements!\nComplete\nYou\u2019ve now created a basic accessible tooltip using Floating UI.",
  "content_markdown": "# Tutorial\n\nBuild a tooltip from scratch and learn how to use Floating UI\u2019s\npositioning toolkit.\n\nThis page teaches you the fundamentals of Floating UI\u2019s\npositioning by building a tooltip from scratch. If you just want\nto start learning about the API, skip to the\n[next section](/docs/computePosition).\n\n## [Before proceeding](#before-proceeding)\n\nThe vanilla package of this library is a JavaScript-based layout\nengine for \u201canchor positioning\u201d. It acts as a polyfill for CSS to\ncorrectly position absolutely-positioned anchored elements on the\ndocument.\n\nIf you\u2019re looking for pre-built components or something simple\nout of the box, you may find other libraries are better suited\nfor your use case.\n\n## [Setting up](#setting-up)\n\nCreate a new HTML document with two elements, a `<button>`\nand a tooltip `<div>`:\n\n```\n<!doctype html>\n<html>\n  <head>\n    <title>Floating UI Tutorial</title>\n  </head>\n  <body>\n    <button id=\"button\" aria-describedby=\"tooltip\">\n      My button\n    </button>\n    <div id=\"tooltip\" role=\"tooltip\">My tooltip</div>\n \n    <script type=\"module\">\n      // Your code will go here.\n    </script>\n  </body>\n</html>\n```\n\nRight now you should see the following (except with the browser\u2019s\ndefault styling):\n\nMy button\n\nMy tooltip\n\n## [Styling](#styling)\n\nLet\u2019s give our tooltip some styling:\n\n```\n<!doctype html>\n<html>\n  <head>\n    <title>Floating UI Tutorial</title>\n    <style>\n      #tooltip {\n        background: #222;\n        color: white;\n        font-weight: bold;\n        padding: 5px;\n        border-radius: 4px;\n        font-size: 90%;\n      }\n    </style>\n  </head>\n  <body>\n    <!-- ... -->\n  </body>\n</html>\n```\n\nHere\u2019s the result so far:\n\nMy button\n\nMy tooltip\n\n## [Making the tooltip \u201cfloat\u201d](#making-the-tooltip-float)\n\nYour tooltip `<div>` is a regular block on the document,\nlike any other element, which is why it spans the whole width of\nthe page.\n\nWe want it to **float** on top of the UI though, so it doesn\u2019t\ndisrupt the flow of the document, and should only take up as much\nsize as its contents.\n\n```\n#tooltip {\n  width: max-content;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: #222;\n  color: white;\n  font-weight: bold;\n  padding: 5px;\n  border-radius: 4px;\n  font-size: 90%;\n}\n```\n\nVisit [Initial layout](/docs/computePosition#initial-layout) to\nlearn more.\n\nMy button\n\nMy tooltip\n\nYour tooltip is now a \u201cfloating\u201d element \u2014 it only takes up as\nmuch size as it needs to and is overlaid on top of the UI.\n\n## [Positioning](#positioning)\n\nInside your module `<script>` tag, add the following code:\n\n[Play on CodeSandbox](https://codesandbox.io/s/floating-ui-dom-template-nzvvx?file=/src/index.js)\n\n```\nimport {computePosition} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nAbove, we call `computePosition()` with the button and\ntooltip elements as arguments.\n\nIt returns a `Promise`, so we use the `.then()`\nmethod which passes in the calculated `x` and\n`y` coordinates for us, which we use to assign\n`left` and `top` styles to the tooltip.\n\nOur tooltip is now centered underneath the button:\n\nMy button\n\nMy tooltip\n\n## [Placements](#placements)\n\nThe default placement is `'bottom'`, but you probably want\nto place the tooltip anywhere relative to the button. For this,\nFloating UI has the `placement` option, passed into the\noptions object as a third argument:\n\n```\nimport {computePosition} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip, {\n  placement: 'right',\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nMy button\n\nMy tooltip\n\nThe available base placements are `'top'`, `'right'`,\n`'bottom'`, `'left'`.\n\nEach of these base placements has an alignment in the form\n`-start` and `-end`. For example, `'right-start'`, or\n`'bottom-end'`. These allow you to align the tooltip to the\nedges of the button, rather than centering it.\n\n## [Our first problem](#our-first-problem)\n\nThese placements are a useful feature themselves, but they don\u2019t\noffer much that couldn\u2019t be achieved with raw CSS tricks. Which\nbrings us to our first problem: what happens if we use a\n`'top'` placement?\n\nMy button\n\nMy tooltip\n\nWe can\u2019t read the tooltip text because the button happens to be\nclose to the document boundary. In this case, you could use the\n`'bottom'` placement, instead of `'top'`. Again, you\n*could* just use CSS for this, although it may become unwieldy\nand require extra parent wrapper tags.\n\nNeeding to **manually** handle this for every single tooltip you\nadd in an application can be cumbersome. This is especially true\nwhen you want to apply a tooltip or popover to an element\nanywhere on the page at a whim, and have its position \u201cjust work\u201d\nfor any screen size or location, without needing to adjust\nanything.\n\nThis is why you can let Floating UI handle it for you\nautomatically with the adoption of \u201cmiddleware\u201d.\n\n## [Middleware](#middleware)\n\nMiddleware are how every single feature beyond the basic\nplacement positioning is implemented.\n\nA middleware is a piece of code which runs between the call of\n`computePosition()` and its eventual return, to modify or\nprovide data to the consumer.\n\n`flip()` modifies the coordinates for us such that it uses\nthe `'bottom'` placement automatically without us needing to\nexplicitly specify it.\n\n```\nimport {\n  computePosition,\n  flip,\n} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [flip()],\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nNow, even though we\u2019ve set `placement` to `'top'`,\nthe tooltip flips to the bottom automatically for us if it can\u2019t\nfit on the top. No need to adjust anything manually.\n\nMy button\n\nMy tooltip\n\nImportantly, it will continue to use the `'top'` placement\nat all times if it can, and only fallback to `'bottom'` if\nit has to.\n\n### [Shift middleware](#shift-middleware)\n\nNow, what if we wanted to have more content inside the tooltip?\n\n```\n<div id=\"tooltip\" role=\"tooltip\">\n  My tooltip with more content\n</div>\n```\n\nMy button\n\nMy tooltip with more content\n\nOh no, we now have the same problem as before, but on the\nopposite axis (`x` instead of `y`). Because it\u2019s **centered**\nbeneath the button, and the tooltip happens to be wider than the\nbutton, it ends up overflowing the viewport edge.\n\nTo solve this problem, we have the `shift()` middleware:\n\n```\nimport {\n  computePosition,\n  flip,\n  shift,\n} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [flip(), shift()],\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nMy button\n\nMy tooltip with more content\n\nNow, we can read all the text because the `shift()`\nmiddleware shifted the tooltip from its bottom centered placement\nuntil it was fully in view.\n\nAs you can see, the tooltip lies fully flush with the edge of the\ndocument boundary. To add some whitespace, or padding, the\n`shift()` middleware accepts an options object:\n\n```\nimport {\n  computePosition,\n  flip,\n  shift,\n} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [flip(), shift({padding: 5})],\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nMy button\n\nMy tooltip with more content\n\nNow there\u2019s 5px of breathing room between the tooltip and the\nedge of the boundary.\n\n### [Offset middleware](#offset-middleware)\n\nWe probably also don\u2019t want the tooltip to lie flush with the\nbutton element. For this, we have the `offset()` middleware:\n\n```\nimport {\n  computePosition,\n  flip,\n  shift,\n  offset,\n} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\n \ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [offset(6), flip(), shift({padding: 5})],\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nThis will displace the tooltip 6px from the reference element:\n\nMy button\n\nMy tooltip with more content\n\n### [Arrow middleware](#arrow-middleware)\n\nMost tooltips have an arrow (or triangle / caret) which points\ntoward the button. For this, we have the `arrow()`\nmiddleware, but we first need to add a new element inside of our\ntooltip:\n\n```\n<div id=\"tooltip\" role=\"tooltip\">\n  My tooltip with more content\n  <div id=\"arrow\"></div>\n</div>\n```\n\nThen style it:\n\n```\n#arrow {\n  position: absolute;\n  background: #222;\n  width: 8px;\n  height: 8px;\n  transform: rotate(45deg);\n}\n```\n\nThen pass the arrow element into the `arrow()` middleware:\n\n```\nimport {\n  computePosition,\n  flip,\n  shift,\n  offset,\n  arrow,\n} from 'https://cdn.jsdelivr.net/npm/@floating-ui/dom@1.7.4/+esm';\n \nconst button = document.querySelector('#button');\nconst tooltip = document.querySelector('#tooltip');\nconst arrowElement = document.querySelector('#arrow');\n \ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [\n    offset(6),\n    flip(),\n    shift({padding: 5}),\n    arrow({element: arrowElement}),\n  ],\n}).then(({x, y}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n});\n```\n\nNow we need to add dynamic styles to the arrow element. Unlike\nother middleware, the `arrow()` middleware doesn\u2019t modify\nthe main `x` and `y` coordinates. Instead, it\nprovides **data** for us to use. We can access this piece of\ninformation provided via `middlewareData`.\n\nThis contains an `arrow` object, referring to the name of the\n`arrow()` middleware we used:\n\n```\ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [\n    offset(6),\n    flip(),\n    shift({padding: 5}),\n    arrow({element: arrowElement}),\n  ],\n}).then(({x, y, placement, middlewareData}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n \n  // Accessing the data\n  const {x: arrowX, y: arrowY} = middlewareData.arrow;\n});\n```\n\nWe now want to use this data to apply the styles.\n\n```\ncomputePosition(button, tooltip, {\n  placement: 'top',\n  middleware: [\n    offset(6),\n    flip(),\n    shift({padding: 5}),\n    arrow({element: arrowElement}),\n  ],\n}).then(({x, y, placement, middlewareData}) => {\n  Object.assign(tooltip.style, {\n    left: `${x}px`,\n    top: `${y}px`,\n  });\n \n  // Accessing the data\n  const {x: arrowX, y: arrowY} = middlewareData.arrow;\n \n  const staticSide = {\n    top: 'bottom',\n    right: 'left',\n    bottom: 'top',\n    left: 'right',\n  }[placement.split('-')[0]];\n \n  Object.assign(arrowElement.style, {\n    left: arrowX != null ? `${arrowX}px` : '',\n    top: arrowY != null ? `${arrowY}px` : '',\n    right: '',\n    bottom: '',\n    [staticSide]: '-4px',\n  });\n});\n```\n\nThe styles above will handle the arrow\u2019s position for all\nplacements.\n\n- `x` is the x-axis offset, only existing if the placement is\n  vertical (`'top'` or `'bottom'`).\n- `y` is the y-axis offset, only existing if the placement is\n  horizontal (`'right'` or `'left'`).\n\n`staticSide` depends on the `placement` that gets\nchosen. For instance, if the placement is `'bottom'`, then\nwe want the arrow to be positioned 4px outside of the **top** of\nthe tooltip (so we use a negative number).\n\nThe reason we use `.split('-')[0]` is to also handle aligned\nplacements, like `'top-start'` rather than only\n`'top'`.\n\nMy button\n\nMy tooltip with more content\n\n## [Functionality](#functionality)\n\nNow that the tooltip has everything positioned, we can add **user\ninteractions** that will show the tooltip when hovering or\nfocusing the button.\n\n```\n#tooltip {\n  display: none;\n  width: max-content;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: #222;\n  color: white;\n  font-weight: bold;\n  padding: 5px;\n  border-radius: 4px;\n  font-size: 90%;\n}\n```\n\n```\nfunction update() {\n  computePosition(button, tooltip, {\n    // ... options ...\n  }).then(({x, y, placement, middlewareData}) => {\n    // ... positioning logic ...\n  });\n}\n \nfunction showTooltip() {\n  tooltip.style.display = 'block';\n  update();\n}\n \nfunction hideTooltip() {\n  tooltip.style.display = '';\n}\n \n[\n  ['mouseenter', showTooltip],\n  ['mouseleave', hideTooltip],\n  ['focus', showTooltip],\n  ['blur', hideTooltip],\n].forEach(([event, listener]) => {\n  button.addEventListener(event, listener);\n});\n```\n\nTry hovering or focusing the button:\n\nMy button\n\n## [Misc](#misc)\n\nTo keep the tooltip anchored to the button while scrolling or\nresizing, you\u2019ll want to use the [`autoUpdate`](/docs/autoUpdate)\nutility.\n\nAs for animations, this is up to you to explore when crafting\nyour floating elements!\n\n## [Complete](#complete)\n\nYou\u2019ve now created a basic accessible tooltip using Floating UI.",
  "tags": [
    "floating-ui",
    "positioning",
    "popovers",
    "tooltips"
  ],
  "extracted_at": "2026-02-03T12:53:23.736982+00:00",
  "content_length": 13163,
  "content_hash": "428f018e10f6a36d"
}