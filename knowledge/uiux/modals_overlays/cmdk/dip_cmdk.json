{
  "id": "cmdk__",
  "source_id": "cmdk",
  "source_name": "cmdk (Command Palette)",
  "category": "modals_overlays",
  "url": "https://cmdk.paco.me/",
  "title": "dip/cmdk",
  "content": "dip\n/\ncmdk\nPublic\nNotifications\nYou must be signed in to change notification settings\nFork\n358\nStar\n12.2k\nFast, unstyled command menu React component.\nLicense\nMIT license\n12.2k\nstars\n358\nforks\nBranches\nTags\nActivity\nStar\nNotifications\nYou must be signed in to change notification settings\ndip/cmdk\nmain\nBranches\nTags\nGo to file\nCode\nOpen more actions menu\nFolders and files\nName\nName\nLast commit message\nLast commit date\nLatest commit\nHistory\n156 Commits\n156 Commits\n.github\n.github\n.husky\n.husky\ncmdk\ncmdk\ntest\ntest\nwebsite\nwebsite\n.gitignore\n.gitignore\n.prettierignore\n.prettierignore\n.prettierrc.js\n.prettierrc.js\nARCHITECTURE.md\nARCHITECTURE.md\nLICENSE.md\nLICENSE.md\nREADME.md\nREADME.md\npackage.json\npackage.json\nplaywright.config.ts\nplaywright.config.ts\npnpm-lock.yaml\npnpm-lock.yaml\npnpm-workspace.yaml\npnpm-workspace.yaml\ntsconfig.json\ntsconfig.json\nView all files\nRepository files navigation\n\u2318K\n\u2318K is a command menu React component that can also be used as an accessible combobox. You render items, it filters and sorts them automatically. \u2318K supports a fully composable API\nHow?\n, so you can wrap items in other components or even as static JSX.\nInstall\npnpm install cmdk\nUse\nimport\n{\nCommand\n}\nfrom\n'cmdk'\nconst\nCommandMenu\n=\n(\n)\n=>\n{\nreturn\n(\n<\nCommand\nlabel\n=\n\"Command Menu\"\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n<\nCommand\n.\nEmpty\n>\nNo results found.\n</\nCommand\n.\nEmpty\n>\n<\nCommand\n.\nGroup\nheading\n=\n\"Letters\"\n>\n<\nCommand\n.\nItem\n>\na\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\n>\nb\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nSeparator\n/>\n<\nCommand\n.\nItem\n>\nc\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nGroup\n>\n<\nCommand\n.\nItem\n>\nApple\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n)\n}\nOr in a dialog:\nimport\n{\nCommand\n}\nfrom\n'cmdk'\nconst\nCommandMenu\n=\n(\n)\n=>\n{\nconst\n[\nopen\n,\nsetOpen\n]\n=\nReact\n.\nuseState\n(\nfalse\n)\n// Toggle the menu when \u2318K is pressed\nReact\n.\nuseEffect\n(\n(\n)\n=>\n{\nconst\ndown\n=\n(\ne\n)\n=>\n{\nif\n(\ne\n.\nkey\n===\n'k'\n&&\n(\ne\n.\nmetaKey\n||\ne\n.\nctrlKey\n)\n)\n{\ne\n.\npreventDefault\n(\n)\nsetOpen\n(\n(\nopen\n)\n=>\n!\nopen\n)\n}\n}\ndocument\n.\naddEventListener\n(\n'keydown'\n,\ndown\n)\nreturn\n(\n)\n=>\ndocument\n.\nremoveEventListener\n(\n'keydown'\n,\ndown\n)\n}\n,\n[\n]\n)\nreturn\n(\n<\nCommand\n.\nDialog\nopen\n=\n{\nopen\n}\nonOpenChange\n=\n{\nsetOpen\n}\nlabel\n=\n\"Global Command Menu\"\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n<\nCommand\n.\nEmpty\n>\nNo results found.\n</\nCommand\n.\nEmpty\n>\n<\nCommand\n.\nGroup\nheading\n=\n\"Letters\"\n>\n<\nCommand\n.\nItem\n>\na\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\n>\nb\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nSeparator\n/>\n<\nCommand\n.\nItem\n>\nc\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nGroup\n>\n<\nCommand\n.\nItem\n>\nApple\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nList\n>\n</\nCommand\n.\nDialog\n>\n)\n}\nParts and styling\nAll parts forward props, including\nref\n, to an appropriate element. Each part has a specific data-attribute (starting with\ncmdk-\n) that can be used for styling.\nCommand\n[cmdk-root]\nRender this to show the command menu inline, or use\nDialog\nto render in a elevated context. Can be controlled with the\nvalue\nand\nonValueChange\nprops.\nNote\nValues are always trimmed with the\ntrim()\nmethod.\nconst\n[\nvalue\n,\nsetValue\n]\n=\nReact\n.\nuseState\n(\n'apple'\n)\nreturn\n(\n<\nCommand\nvalue\n=\n{\nvalue\n}\nonValueChange\n=\n{\nsetValue\n}\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n<\nCommand\n.\nItem\n>\nOrange\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\n>\nApple\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n)\nYou can provide a custom\nfilter\nfunction that is called to rank each item. Note that the value will be trimmed.\n<\nCommand\nfilter\n=\n{\n(\nvalue\n,\nsearch\n)\n=>\n{\nif\n(\nvalue\n.\nincludes\n(\nsearch\n)\n)\nreturn\n1\nreturn\n0\n}\n}\n/>\nA third argument,\nkeywords\n, can also be provided to the filter function. Keywords act as aliases for the item value, and can also affect the rank of the item. Keywords are trimmed.\n<\nCommand\nfilter\n=\n{\n(\nvalue\n,\nsearch\n,\nkeywords\n)\n=>\n{\nconst\nextendValue\n=\nvalue\n+\n' '\n+\nkeywords\n.\njoin\n(\n' '\n)\nif\n(\nextendValue\n.\nincludes\n(\nsearch\n)\n)\nreturn\n1\nreturn\n0\n}\n}\n/>\nOr disable filtering and sorting entirely:\n<\nCommand\nshouldFilter\n=\n{\nfalse\n}\n>\n<\nCommand\n.\nList\n>\n{\nfilteredItems\n.\nmap\n(\n(\nitem\n)\n=>\n{\nreturn\n(\n<\nCommand\n.\nItem\nkey\n=\n{\nitem\n}\nvalue\n=\n{\nitem\n}\n>\n{\nitem\n}\n</\nCommand\n.\nItem\n>\n)\n}\n)\n}\n</\nCommand\n.\nList\n>\n</\nCommand\n>\nYou can make the arrow keys wrap around the list (when you reach the end, it goes back to the first item) by setting the\nloop\nprop:\n<\nCommand\nloop\n/>\nDialog\n[cmdk-dialog]\n[cmdk-overlay]\nProps are forwarded to\nCommand\n. Composes Radix UI's Dialog component. The overlay is always rendered. See the\nRadix Documentation\nfor more information. Can be controlled with the\nopen\nand\nonOpenChange\nprops.\nconst\n[\nopen\n,\nsetOpen\n]\n=\nReact\n.\nuseState\n(\nfalse\n)\nreturn\n(\n<\nCommand\n.\nDialog\nopen\n=\n{\nopen\n}\nonOpenChange\n=\n{\nsetOpen\n}\n>\n...\n</\nCommand\n.\nDialog\n>\n)\nYou can provide a\ncontainer\nprop that accepts an HTML element that is forwarded to Radix UI's Dialog Portal component to specify which element the Dialog should portal into (defaults to\nbody\n). See the\nRadix Documentation\nfor more information.\nconst\ncontainerElement\n=\nReact\n.\nuseRef\n(\nnull\n)\nreturn\n(\n<\n>\n<\nCommand\n.\nDialog\ncontainer\n=\n{\ncontainerElement\n.\ncurrent\n}\n/>\n<\ndiv\nref\n=\n{\ncontainerElement\n}\n/>\n</\n>\n)\nInput\n[cmdk-input]\nAll props are forwarded to the underlying\ninput\nelement. Can be controlled with the\nvalue\nand\nonValueChange\nprops.\nconst\n[\nsearch\n,\nsetSearch\n]\n=\nReact\n.\nuseState\n(\n''\n)\nreturn\n<\nCommand\n.\nInput\nvalue\n=\n{\nsearch\n}\nonValueChange\n=\n{\nsetSearch\n}\n/>\nList\n[cmdk-list]\nContains items and groups. Animate height using the\n--cmdk-list-height\nCSS variable.\n[\ncmdk-list\n] {\nmin-height\n:\n300\npx\n;\nheight\n:\nvar\n(\n--cmdk-list-height\n);\nmax-height\n:\n500\npx\n;\ntransition\n:\nheight\n100\nms\nease;\n}\nTo scroll item into view earlier near the edges of the viewport, use scroll-padding:\n[\ncmdk-list\n] {\nscroll-padding-block-start\n:\n8\npx\n;\nscroll-padding-block-end\n:\n8\npx\n;\n}\nItem\n[cmdk-item]\n[data-disabled?]\n[data-selected?]\nItem that becomes active on pointer enter. You should provide a unique\nvalue\nfor each item, but it will be automatically inferred from the\n.textContent\n.\n<\nCommand\n.\nItem\nonSelect\n=\n{\n(\nvalue\n)\n=>\nconsole\n.\nlog\n(\n'Selected'\n,\nvalue\n)\n}\n// Value is implicity \"apple\" because of the provided text content\n>\nApple\n</\nCommand\n.\nItem\n>\nYou can also provide a\nkeywords\nprop to help with filtering. Keywords are trimmed.\n<\nCommand\n.\nItem\nkeywords\n=\n{\n[\n'fruit'\n,\n'apple'\n]\n}\n>\nApple\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\nonSelect\n=\n{\n(\nvalue\n)\n=>\nconsole\n.\nlog\n(\n'Selected'\n,\nvalue\n)\n}\n// Value is implicity \"apple\" because of the provided text content\n>\nApple\n</\nCommand\n.\nItem\n>\nYou can force an item to always render, regardless of filtering, by passing the\nforceMount\nprop.\nGroup\n[cmdk-group]\n[hidden?]\nGroups items together with the given\nheading\n(\n[cmdk-group-heading]\n).\n<\nCommand\n.\nGroup\nheading\n=\n\"Fruit\"\n>\n<\nCommand\n.\nItem\n>\nApple\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nGroup\n>\nGroups will not unmount from the DOM, rather the\nhidden\nattribute is applied to hide it from view. This may be relevant in your styling.\nYou can force a group to always render, regardless of filtering, by passing the\nforceMount\nprop.\nSeparator\n[cmdk-separator]\nVisible when the search query is empty or\nalwaysRender\nis true, hidden otherwise.\nEmpty\n[cmdk-empty]\nAutomatically renders when there are no results for the search query.\nLoading\n[cmdk-loading]\nYou should conditionally render this with\nprogress\nwhile loading asynchronous items.\nconst\n[\nloading\n,\nsetLoading\n]\n=\nReact\n.\nuseState\n(\nfalse\n)\nreturn\n<\nCommand\n.\nList\n>\n{\nloading\n&&\n<\nCommand\n.\nLoading\n>\nHang on\u2026\n</\nCommand\n.\nLoading\n>\n}\n</\nCommand\n.\nList\n>\nuseCommandState(state => state.selectedField)\nHook that composes\nuseSyncExternalStore\n. Pass a function that returns a slice of the command menu state to re-render when that slice changes. This hook is provided for advanced use cases and should not be commonly used.\nA good use case would be to render a more detailed empty state, like so:\nconst\nsearch\n=\nuseCommandState\n(\n(\nstate\n)\n=>\nstate\n.\nsearch\n)\nreturn\n<\nCommand\n.\nEmpty\n>\nNo results found for \"\n{\nsearch\n}\n\".\n</\nCommand\n.\nEmpty\n>\nExamples\nCode snippets for common use cases.\nNested items\nOften selecting one item should navigate deeper, with a more refined set of items. For example selecting \"Change theme\u2026\" should show new items \"Dark theme\" and \"Light theme\". We call these sets of items \"pages\", and they can be implemented with simple state:\nconst\nref\n=\nReact\n.\nuseRef\n(\nnull\n)\nconst\n[\nopen\n,\nsetOpen\n]\n=\nReact\n.\nuseState\n(\nfalse\n)\nconst\n[\nsearch\n,\nsetSearch\n]\n=\nReact\n.\nuseState\n(\n''\n)\nconst\n[\npages\n,\nsetPages\n]\n=\nReact\n.\nuseState\n(\n[\n]\n)\nconst\npage\n=\npages\n[\npages\n.\nlength\n-\n1\n]\nreturn\n(\n<\nCommand\nonKeyDown\n=\n{\n(\ne\n)\n=>\n{\n// Escape goes to previous page\n// Backspace goes to previous page when search is empty\nif\n(\ne\n.\nkey\n===\n'Escape'\n||\n(\ne\n.\nkey\n===\n'Backspace'\n&&\n!\nsearch\n)\n)\n{\ne\n.\npreventDefault\n(\n)\nsetPages\n(\n(\npages\n)\n=>\npages\n.\nslice\n(\n0\n,\n-\n1\n)\n)\n}\n}\n}\n>\n<\nCommand\n.\nInput\nvalue\n=\n{\nsearch\n}\nonValueChange\n=\n{\nsetSearch\n}\n/>\n<\nCommand\n.\nList\n>\n{\n!\npage\n&&\n(\n<\n>\n<\nCommand\n.\nItem\nonSelect\n=\n{\n(\n)\n=>\nsetPages\n(\n[\n...\npages\n,\n'projects'\n]\n)\n}\n>\nSearch projects\u2026\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\nonSelect\n=\n{\n(\n)\n=>\nsetPages\n(\n[\n...\npages\n,\n'teams'\n]\n)\n}\n>\nJoin a team\u2026\n</\nCommand\n.\nItem\n>\n</\n>\n)\n}\n{\npage\n===\n'projects'\n&&\n(\n<\n>\n<\nCommand\n.\nItem\n>\nProject A\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\n>\nProject B\n</\nCommand\n.\nItem\n>\n</\n>\n)\n}\n{\npage\n===\n'teams'\n&&\n(\n<\n>\n<\nCommand\n.\nItem\n>\nTeam 1\n</\nCommand\n.\nItem\n>\n<\nCommand\n.\nItem\n>\nTeam 2\n</\nCommand\n.\nItem\n>\n</\n>\n)\n}\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n)\nShow sub-items when searching\nIf your items have nested sub-items that you only want to reveal when searching, render based on the search state:\nconst\nSubItem\n=\n(\nprops\n)\n=>\n{\nconst\nsearch\n=\nuseCommandState\n(\n(\nstate\n)\n=>\nstate\n.\nsearch\n)\nif\n(\n!\nsearch\n)\nreturn\nnull\nreturn\n<\nCommand\n.\nItem\n{\n...\nprops\n}\n/>\n}\nreturn\n(\n<\nCommand\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n<\nCommand\n.\nItem\n>\nChange theme\u2026\n</\nCommand\n.\nItem\n>\n<\nSubItem\n>\nChange theme to dark\n</\nSubItem\n>\n<\nSubItem\n>\nChange theme to light\n</\nSubItem\n>\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n)\nAsynchronous results\nRender the items as they become available. Filtering and sorting will happen automatically.\nconst\n[\nloading\n,\nsetLoading\n]\n=\nReact\n.\nuseState\n(\nfalse\n)\nconst\n[\nitems\n,\nsetItems\n]\n=\nReact\n.\nuseState\n(\n[\n]\n)\nReact\n.\nuseEffect\n(\n(\n)\n=>\n{\nasync\nfunction\ngetItems\n(\n)\n{\nsetLoading\n(\ntrue\n)\nconst\nres\n=\nawait\napi\n.\nget\n(\n'/dictionary'\n)\nsetItems\n(\nres\n)\nsetLoading\n(\nfalse\n)\n}\ngetItems\n(\n)\n}\n,\n[\n]\n)\nreturn\n(\n<\nCommand\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n{\nloading\n&&\n<\nCommand\n.\nLoading\n>\nFetching words\u2026\n</\nCommand\n.\nLoading\n>\n}\n{\nitems\n.\nmap\n(\n(\nitem\n)\n=>\n{\nreturn\n(\n<\nCommand\n.\nItem\nkey\n=\n{\n`word-\n${\nitem\n}\n`\n}\nvalue\n=\n{\nitem\n}\n>\n{\nitem\n}\n</\nCommand\n.\nItem\n>\n)\n}\n)\n}\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n)\nUse inside Popover\nWe recommend using the\nRadix UI popover\ncomponent. \u2318K relies on the Radix UI Dialog component, so this will reduce your bundle size a bit due to shared dependencies.\n$ pnpm install @radix-ui/react-popover\nRender\nCommand\ninside of the popover content:\nimport\n*\nas\nPopover\nfrom\n'@radix-ui/react-popover'\nreturn\n(\n<\nPopover\n.\nRoot\n>\n<\nPopover\n.\nTrigger\n>\nToggle popover\n</\nPopover\n.\nTrigger\n>\n<\nPopover\n.\nContent\n>\n<\nCommand\n>\n<\nCommand\n.\nInput\n/>\n<\nCommand\n.\nList\n>\n<\nCommand\n.\nItem\n>\nApple\n</\nCommand\n.\nItem\n>\n</\nCommand\n.\nList\n>\n</\nCommand\n>\n</\nPopover\n.\nContent\n>\n</\nPopover\n.\nRoot\n>\n)\nDrop in stylesheets\nYou can find global stylesheets to drop in as a starting point for styling. See\nwebsite/styles/cmdk\nfor examples.\nFAQ\nAccessible?\nYes. Labeling, aria attributes, and DOM ordering tested with Voice Over and Chrome DevTools.\nDialog\ncomposes an accessible Dialog implementation.\nVirtualization?\nNo. Good performance up to 2,000-3,000 items, though. Read below to bring your own.\nFilter/sort items manually?\nYes. Pass\nshouldFilter={false}\nto\nCommand\n. Better memory usage and performance. Bring your own virtualization this way.\nReact 18 safe?\nYes, required. Uses React 18 hooks like\nuseId\nand\nuseSyncExternalStore\n.\nUnstyled?\nYes, use the listed CSS selectors.\nHydration mismatch?\nNo, likely a bug in your code. Ensure the\nopen\nprop to\nCommand.Dialog\nis\nfalse\non the server.\nReact strict mode safe?\nYes. Open an issue if you notice an issue.\nWeird/wrong behavior?\nMake sure your\nCommand.Item\nhas a\nkey\nand unique\nvalue\n.\nConcurrent mode safe?\nMaybe, but concurrent mode is not yet real. Uses risky approaches like manual DOM ordering.\nReact server component?\nNo, it's a client component.\nListen for \u2318K automatically?\nNo, do it yourself to have full control over keybind context.\nReact Native?\nNo, and no plans to support it. If you build a React Native version, let us know and we'll link your repository here.\nHistory\nWritten in 2019 by Paco (\n@pacocoursey\n) to see if a composable combobox API was possible. Used for the Vercel command menu and autocomplete by Rauno (\n@raunofreiberg\n) in 2020. Re-written independently in 2022 with a simpler and more performant approach. Ideas and help from Shu (\n@shuding_\n).\nuse-descendants\nwas extracted from the 2019 version.\nTesting\nFirst, install dependencies and Playwright browsers:\npnpm install\npnpm playwright install\nThen ensure you've built the library:\npnpm build\nThen run the tests using your local build against real browser engines:\npnpm\ntest\nAbout\nFast, unstyled command menu React component.\nTopics\nreact\ncommand-palette\ncombobox\nradix-ui\ncommand-menu\nResources\nReadme\nLicense\nMIT license\nUh oh!\nThere was an error while loading.\nPlease reload this page\n.\nActivity\nCustom properties\nStars\n12.2k\nstars\nWatchers\n26\nwatching\nForks\n358\nforks\nReport repository\nReleases\n12\nv1.1.1\nLatest\nMar 14, 2025\n+ 11 releases\nUsed by\n401k\n+ 401,473\nContributors\n51\n+ 37 contributors\nLanguages\nTypeScript\n78.6%\nSCSS\n21.2%\nOther\n0.2%",
  "content_markdown": "[dip](/dip) \n/\n**[cmdk](/dip/cmdk)**\nPublic\n\n- [Notifications](/login?return_to=%2Fdip%2Fcmdk) You must be signed in to change notification settings\n- [Fork\n  358](/login?return_to=%2Fdip%2Fcmdk)\n- [Star\n   12.2k](/login?return_to=%2Fdip%2Fcmdk)\n\nFast, unstyled command menu React component.\n\n### License\n\n[MIT license](/dip/cmdk/blob/main/LICENSE.md)\n\n[12.2k\nstars](/dip/cmdk/stargazers) [358\nforks](/dip/cmdk/forks) [Branches](/dip/cmdk/branches) [Tags](/dip/cmdk/tags) [Activity](/dip/cmdk/activity)\n\n[Star](/login?return_to=%2Fdip%2Fcmdk)\n\n[Notifications](/login?return_to=%2Fdip%2Fcmdk) You must be signed in to change notification settings\n\n# dip/cmdk\n\nmain\n\n[Branches](/dip/cmdk/branches)[Tags](/dip/cmdk/tags)\n\nGo to file\n\nCode\n\nOpen more actions menu\n\n## Folders and files\n\n| Name | | Name | Last commit message | Last commit date |\n| --- | --- | --- | --- | --- |\n| Latest commit   History[156 Commits](/dip/cmdk/commits/main/)   156 Commits | | |\n| [.github](/dip/cmdk/tree/main/.github \".github\") | | [.github](/dip/cmdk/tree/main/.github \".github\") |  |  |\n| [.husky](/dip/cmdk/tree/main/.husky \".husky\") | | [.husky](/dip/cmdk/tree/main/.husky \".husky\") |  |  |\n| [cmdk](/dip/cmdk/tree/main/cmdk \"cmdk\") | | [cmdk](/dip/cmdk/tree/main/cmdk \"cmdk\") |  |  |\n| [test](/dip/cmdk/tree/main/test \"test\") | | [test](/dip/cmdk/tree/main/test \"test\") |  |  |\n| [website](/dip/cmdk/tree/main/website \"website\") | | [website](/dip/cmdk/tree/main/website \"website\") |  |  |\n| [.gitignore](/dip/cmdk/blob/main/.gitignore \".gitignore\") | | [.gitignore](/dip/cmdk/blob/main/.gitignore \".gitignore\") |  |  |\n| [.prettierignore](/dip/cmdk/blob/main/.prettierignore \".prettierignore\") | | [.prettierignore](/dip/cmdk/blob/main/.prettierignore \".prettierignore\") |  |  |\n| [.prettierrc.js](/dip/cmdk/blob/main/.prettierrc.js \".prettierrc.js\") | | [.prettierrc.js](/dip/cmdk/blob/main/.prettierrc.js \".prettierrc.js\") |  |  |\n| [ARCHITECTURE.md](/dip/cmdk/blob/main/ARCHITECTURE.md \"ARCHITECTURE.md\") | | [ARCHITECTURE.md](/dip/cmdk/blob/main/ARCHITECTURE.md \"ARCHITECTURE.md\") |  |  |\n| [LICENSE.md](/dip/cmdk/blob/main/LICENSE.md \"LICENSE.md\") | | [LICENSE.md](/dip/cmdk/blob/main/LICENSE.md \"LICENSE.md\") |  |  |\n| [README.md](/dip/cmdk/blob/main/README.md \"README.md\") | | [README.md](/dip/cmdk/blob/main/README.md \"README.md\") |  |  |\n| [package.json](/dip/cmdk/blob/main/package.json \"package.json\") | | [package.json](/dip/cmdk/blob/main/package.json \"package.json\") |  |  |\n| [playwright.config.ts](/dip/cmdk/blob/main/playwright.config.ts \"playwright.config.ts\") | | [playwright.config.ts](/dip/cmdk/blob/main/playwright.config.ts \"playwright.config.ts\") |  |  |\n| [pnpm-lock.yaml](/dip/cmdk/blob/main/pnpm-lock.yaml \"pnpm-lock.yaml\") | | [pnpm-lock.yaml](/dip/cmdk/blob/main/pnpm-lock.yaml \"pnpm-lock.yaml\") |  |  |\n| [pnpm-workspace.yaml](/dip/cmdk/blob/main/pnpm-workspace.yaml \"pnpm-workspace.yaml\") | | [pnpm-workspace.yaml](/dip/cmdk/blob/main/pnpm-workspace.yaml \"pnpm-workspace.yaml\") |  |  |\n| [tsconfig.json](/dip/cmdk/blob/main/tsconfig.json \"tsconfig.json\") | | [tsconfig.json](/dip/cmdk/blob/main/tsconfig.json \"tsconfig.json\") |  |  |\n| View all files | | |\n\n## Repository files navigation\n\n[![](/dip/cmdk/raw/main/website/public/og.png)](/dip/cmdk/blob/main/website/public/og.png)\n\n# \u2318K [cmdk minzip package size](https://www.npmjs.com/package/cmdk?activeTab=code) [cmdk package version](https://www.npmjs.com/package/cmdk)\n\n\u2318K is a command menu React component that can also be used as an accessible combobox. You render items, it filters and sorts them automatically. \u2318K supports a fully composable API [How?](/dip/cmdk/blob/main/ARCHITECTURE.md), so you can wrap items in other components or even as static JSX.\n\n## Install\n\n```\npnpm install cmdk\n```\n\n## Use\n\n```\nimport { Command } from 'cmdk'\n\nconst CommandMenu = () => {\n  return (\n    <Command label=\"Command Menu\">\n      <Command.Input />\n      <Command.List>\n        <Command.Empty>No results found.</Command.Empty>\n\n        <Command.Group heading=\"Letters\">\n          <Command.Item>a</Command.Item>\n          <Command.Item>b</Command.Item>\n          <Command.Separator />\n          <Command.Item>c</Command.Item>\n        </Command.Group>\n\n        <Command.Item>Apple</Command.Item>\n      </Command.List>\n    </Command>\n  )\n}\n```\n\nOr in a dialog:\n\n```\nimport { Command } from 'cmdk'\n\nconst CommandMenu = () => {\n  const [open, setOpen] = React.useState(false)\n\n  // Toggle the menu when \u2318K is pressed\n  React.useEffect(() => {\n    const down = (e) => {\n      if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n        setOpen((open) => !open)\n      }\n    }\n\n    document.addEventListener('keydown', down)\n    return () => document.removeEventListener('keydown', down)\n  }, [])\n\n  return (\n    <Command.Dialog open={open} onOpenChange={setOpen} label=\"Global Command Menu\">\n      <Command.Input />\n      <Command.List>\n        <Command.Empty>No results found.</Command.Empty>\n\n        <Command.Group heading=\"Letters\">\n          <Command.Item>a</Command.Item>\n          <Command.Item>b</Command.Item>\n          <Command.Separator />\n          <Command.Item>c</Command.Item>\n        </Command.Group>\n\n        <Command.Item>Apple</Command.Item>\n      </Command.List>\n    </Command.Dialog>\n  )\n}\n```\n\n## Parts and styling\n\nAll parts forward props, including `ref`, to an appropriate element. Each part has a specific data-attribute (starting with `cmdk-`) that can be used for styling.\n\n### Command `[cmdk-root]`\n\nRender this to show the command menu inline, or use [Dialog](#dialog-cmdk-dialog-cmdk-overlay) to render in a elevated context. Can be controlled with the `value` and `onValueChange` props.\n\n> **Note**\n>\n> Values are always trimmed with the [trim()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim) method.\n\n```\nconst [value, setValue] = React.useState('apple')\n\nreturn (\n  <Command value={value} onValueChange={setValue}>\n    <Command.Input />\n    <Command.List>\n      <Command.Item>Orange</Command.Item>\n      <Command.Item>Apple</Command.Item>\n    </Command.List>\n  </Command>\n)\n```\n\nYou can provide a custom `filter` function that is called to rank each item. Note that the value will be trimmed.\n\n```\n<Command\n  filter={(value, search) => {\n    if (value.includes(search)) return 1\n    return 0\n  }}\n/>\n```\n\nA third argument, `keywords`, can also be provided to the filter function. Keywords act as aliases for the item value, and can also affect the rank of the item. Keywords are trimmed.\n\n```\n<Command\n  filter={(value, search, keywords) => {\n    const extendValue = value + ' ' + keywords.join(' ')\n    if (extendValue.includes(search)) return 1\n    return 0\n  }}\n/>\n```\n\nOr disable filtering and sorting entirely:\n\n```\n<Command shouldFilter={false}>\n  <Command.List>\n    {filteredItems.map((item) => {\n      return (\n        <Command.Item key={item} value={item}>\n          {item}\n        </Command.Item>\n      )\n    })}\n  </Command.List>\n</Command>\n```\n\nYou can make the arrow keys wrap around the list (when you reach the end, it goes back to the first item) by setting the `loop` prop:\n\n```\n<Command loop />\n```\n\n### Dialog `[cmdk-dialog]` `[cmdk-overlay]`\n\nProps are forwarded to [Command](#command-cmdk-root). Composes Radix UI's Dialog component. The overlay is always rendered. See the [Radix Documentation](https://www.radix-ui.com/docs/primitives/components/dialog) for more information. Can be controlled with the `open` and `onOpenChange` props.\n\n```\nconst [open, setOpen] = React.useState(false)\n\nreturn (\n  <Command.Dialog open={open} onOpenChange={setOpen}>\n    ...\n  </Command.Dialog>\n)\n```\n\nYou can provide a `container` prop that accepts an HTML element that is forwarded to Radix UI's Dialog Portal component to specify which element the Dialog should portal into (defaults to `body`). See the [Radix Documentation](https://www.radix-ui.com/docs/primitives/components/dialog#portal) for more information.\n\n```\nconst containerElement = React.useRef(null)\n\nreturn (\n  <>\n    <Command.Dialog container={containerElement.current} />\n    <div ref={containerElement} />\n  </>\n)\n```\n\n### Input `[cmdk-input]`\n\nAll props are forwarded to the underlying `input` element. Can be controlled with the `value` and `onValueChange` props.\n\n```\nconst [search, setSearch] = React.useState('')\n\nreturn <Command.Input value={search} onValueChange={setSearch} />\n```\n\n### List `[cmdk-list]`\n\nContains items and groups. Animate height using the `--cmdk-list-height` CSS variable.\n\n```\n[cmdk-list] {\n  min-height: 300px;\n  height: var(--cmdk-list-height);\n  max-height: 500px;\n  transition: height 100ms ease;\n}\n```\n\nTo scroll item into view earlier near the edges of the viewport, use scroll-padding:\n\n```\n[cmdk-list] {\n  scroll-padding-block-start: 8px;\n  scroll-padding-block-end: 8px;\n}\n```\n\n### Item `[cmdk-item]` `[data-disabled?]` `[data-selected?]`\n\nItem that becomes active on pointer enter. You should provide a unique `value` for each item, but it will be automatically inferred from the `.textContent`.\n\n```\n<Command.Item\n  onSelect={(value) => console.log('Selected', value)}\n  // Value is implicity \"apple\" because of the provided text content\n>\n  Apple\n</Command.Item>\n```\n\nYou can also provide a `keywords` prop to help with filtering. Keywords are trimmed.\n\n```\n<Command.Item keywords={['fruit', 'apple']}>Apple</Command.Item>\n```\n\n```\n<Command.Item\n  onSelect={(value) => console.log('Selected', value)}\n  // Value is implicity \"apple\" because of the provided text content\n>\n  Apple\n</Command.Item>\n```\n\nYou can force an item to always render, regardless of filtering, by passing the `forceMount` prop.\n\n### Group `[cmdk-group]` `[hidden?]`\n\nGroups items together with the given `heading` (`[cmdk-group-heading]`).\n\n```\n<Command.Group heading=\"Fruit\">\n  <Command.Item>Apple</Command.Item>\n</Command.Group>\n```\n\nGroups will not unmount from the DOM, rather the `hidden` attribute is applied to hide it from view. This may be relevant in your styling.\n\nYou can force a group to always render, regardless of filtering, by passing the `forceMount` prop.\n\n### Separator `[cmdk-separator]`\n\nVisible when the search query is empty or `alwaysRender` is true, hidden otherwise.\n\n### Empty `[cmdk-empty]`\n\nAutomatically renders when there are no results for the search query.\n\n### Loading `[cmdk-loading]`\n\nYou should conditionally render this with `progress` while loading asynchronous items.\n\n```\nconst [loading, setLoading] = React.useState(false)\n\nreturn <Command.List>{loading && <Command.Loading>Hang on\u2026</Command.Loading>}</Command.List>\n```\n\n### `useCommandState(state => state.selectedField)`\n\nHook that composes [`useSyncExternalStore`](https://reactjs.org/docs/hooks-reference.html#usesyncexternalstore). Pass a function that returns a slice of the command menu state to re-render when that slice changes. This hook is provided for advanced use cases and should not be commonly used.\n\nA good use case would be to render a more detailed empty state, like so:\n\n```\nconst search = useCommandState((state) => state.search)\nreturn <Command.Empty>No results found for \"{search}\".</Command.Empty>\n```\n\n## Examples\n\nCode snippets for common use cases.\n\n### Nested items\n\nOften selecting one item should navigate deeper, with a more refined set of items. For example selecting \"Change theme\u2026\" should show new items \"Dark theme\" and \"Light theme\". We call these sets of items \"pages\", and they can be implemented with simple state:\n\n```\nconst ref = React.useRef(null)\nconst [open, setOpen] = React.useState(false)\nconst [search, setSearch] = React.useState('')\nconst [pages, setPages] = React.useState([])\nconst page = pages[pages.length - 1]\n\nreturn (\n  <Command\n    onKeyDown={(e) => {\n      // Escape goes to previous page\n      // Backspace goes to previous page when search is empty\n      if (e.key === 'Escape' || (e.key === 'Backspace' && !search)) {\n        e.preventDefault()\n        setPages((pages) => pages.slice(0, -1))\n      }\n    }}\n  >\n    <Command.Input value={search} onValueChange={setSearch} />\n    <Command.List>\n      {!page && (\n        <>\n          <Command.Item onSelect={() => setPages([...pages, 'projects'])}>Search projects\u2026</Command.Item>\n          <Command.Item onSelect={() => setPages([...pages, 'teams'])}>Join a team\u2026</Command.Item>\n        </>\n      )}\n\n      {page === 'projects' && (\n        <>\n          <Command.Item>Project A</Command.Item>\n          <Command.Item>Project B</Command.Item>\n        </>\n      )}\n\n      {page === 'teams' && (\n        <>\n          <Command.Item>Team 1</Command.Item>\n          <Command.Item>Team 2</Command.Item>\n        </>\n      )}\n    </Command.List>\n  </Command>\n)\n```\n\n### Show sub-items when searching\n\nIf your items have nested sub-items that you only want to reveal when searching, render based on the search state:\n\n```\nconst SubItem = (props) => {\n  const search = useCommandState((state) => state.search)\n  if (!search) return null\n  return <Command.Item {...props} />\n}\n\nreturn (\n  <Command>\n    <Command.Input />\n    <Command.List>\n      <Command.Item>Change theme\u2026</Command.Item>\n      <SubItem>Change theme to dark</SubItem>\n      <SubItem>Change theme to light</SubItem>\n    </Command.List>\n  </Command>\n)\n```\n\n### Asynchronous results\n\nRender the items as they become available. Filtering and sorting will happen automatically.\n\n```\nconst [loading, setLoading] = React.useState(false)\nconst [items, setItems] = React.useState([])\n\nReact.useEffect(() => {\n  async function getItems() {\n    setLoading(true)\n    const res = await api.get('/dictionary')\n    setItems(res)\n    setLoading(false)\n  }\n\n  getItems()\n}, [])\n\nreturn (\n  <Command>\n    <Command.Input />\n    <Command.List>\n      {loading && <Command.Loading>Fetching words\u2026</Command.Loading>}\n      {items.map((item) => {\n        return (\n          <Command.Item key={`word-${item}`} value={item}>\n            {item}\n          </Command.Item>\n        )\n      })}\n    </Command.List>\n  </Command>\n)\n```\n\n### Use inside Popover\n\nWe recommend using the [Radix UI popover](https://www.radix-ui.com/docs/primitives/components/popover) component. \u2318K relies on the Radix UI Dialog component, so this will reduce your bundle size a bit due to shared dependencies.\n\n```\n$ pnpm install @radix-ui/react-popover\n```\n\nRender `Command` inside of the popover content:\n\n```\nimport * as Popover from '@radix-ui/react-popover'\n\nreturn (\n  <Popover.Root>\n    <Popover.Trigger>Toggle popover</Popover.Trigger>\n\n    <Popover.Content>\n      <Command>\n        <Command.Input />\n        <Command.List>\n          <Command.Item>Apple</Command.Item>\n        </Command.List>\n      </Command>\n    </Popover.Content>\n  </Popover.Root>\n)\n```\n\n### Drop in stylesheets\n\nYou can find global stylesheets to drop in as a starting point for styling. See [website/styles/cmdk](/dip/cmdk/blob/main/website/styles/cmdk) for examples.\n\n## FAQ\n\n**Accessible?** Yes. Labeling, aria attributes, and DOM ordering tested with Voice Over and Chrome DevTools. [Dialog](#dialog-cmdk-dialog-cmdk-overlay) composes an accessible Dialog implementation.\n\n**Virtualization?** No. Good performance up to 2,000-3,000 items, though. Read below to bring your own.\n\n**Filter/sort items manually?** Yes. Pass `shouldFilter={false}` to [Command](#command-cmdk-root). Better memory usage and performance. Bring your own virtualization this way.\n\n**React 18 safe?** Yes, required. Uses React 18 hooks like `useId` and `useSyncExternalStore`.\n\n**Unstyled?** Yes, use the listed CSS selectors.\n\n**Hydration mismatch?** No, likely a bug in your code. Ensure the `open` prop to `Command.Dialog` is `false` on the server.\n\n**React strict mode safe?** Yes. Open an issue if you notice an issue.\n\n**Weird/wrong behavior?** Make sure your `Command.Item` has a `key` and unique `value`.\n\n**Concurrent mode safe?** Maybe, but concurrent mode is not yet real. Uses risky approaches like manual DOM ordering.\n\n**React server component?** No, it's a client component.\n\n**Listen for \u2318K automatically?** No, do it yourself to have full control over keybind context.\n\n**React Native?** No, and no plans to support it. If you build a React Native version, let us know and we'll link your repository here.\n\n## History\n\nWritten in 2019 by Paco ([@pacocoursey](https://twitter.com/pacocoursey)) to see if a composable combobox API was possible. Used for the Vercel command menu and autocomplete by Rauno ([@raunofreiberg](https://twitter.com/raunofreiberg)) in 2020. Re-written independently in 2022 with a simpler and more performant approach. Ideas and help from Shu ([@shuding\\_](https://twitter.com/shuding_)).\n\n[use-descendants](https://github.com/pacocoursey/use-descendants) was extracted from the 2019 version.\n\n## Testing\n\nFirst, install dependencies and Playwright browsers:\n\n```\npnpm install\npnpm playwright install\n```\n\nThen ensure you've built the library:\n\n```\npnpm build\n```\n\nThen run the tests using your local build against real browser engines:\n\n```\npnpm test\n```\n\n## About\n\nFast, unstyled command menu React component.\n\n### Topics\n\n[react](/topics/react \"Topic: react\")\n[command-palette](/topics/command-palette \"Topic: command-palette\")\n[combobox](/topics/combobox \"Topic: combobox\")\n[radix-ui](/topics/radix-ui \"Topic: radix-ui\")\n[command-menu](/topics/command-menu \"Topic: command-menu\")\n\n### Resources\n\n[Readme](#readme-ov-file)\n\n### License\n\n[MIT license](#MIT-1-ov-file)\n\n### Uh oh!\n\nThere was an error while loading. Please reload this page.\n\n[Activity](/dip/cmdk/activity)\n\n[Custom properties](/dip/cmdk/custom-properties)\n\n### Stars\n\n[**12.2k**\nstars](/dip/cmdk/stargazers)\n\n### Watchers\n\n[**26**\nwatching](/dip/cmdk/watchers)\n\n### Forks\n\n[**358**\nforks](/dip/cmdk/forks)\n\n[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fdip%2Fcmdk&report=dip+%28user%29)\n\n## [Releases 12](/dip/cmdk/releases)\n\n[v1.1.1\n\nLatest\n\nMar 14, 2025](/dip/cmdk/releases/tag/v1.1.1)\n\n[+ 11 releases](/dip/cmdk/releases)\n\n## [Used by 401k](/dip/cmdk/network/dependents)\n\n[- ![@Glyphor-Fuse](https://avatars.githubusercontent.com/u/254348344?s=64&v=4)\n- ![@learnhouse](https://avatars.githubusercontent.com/u/101737021?s=64&v=4)\n- ![@BankkRoll](https://avatars.githubusercontent.com/u/106103625?s=64&v=4)\n- ![@Pantkartik](https://avatars.githubusercontent.com/u/181591353?s=64&v=4)\n- ![@liamwilliams-67](https://avatars.githubusercontent.com/u/235625728?s=64&v=4)\n- ![@Glyphor-Fuse](https://avatars.githubusercontent.com/u/254348344?s=64&v=4)\n- ![@letta-ai](https://avatars.githubusercontent.com/u/177780362?s=64&v=4)\n- ![@nk2028](https://avatars.githubusercontent.com/u/63484757?s=64&v=4)\n\n+ 401,473](/dip/cmdk/network/dependents)\n\n## [Contributors 51](/dip/cmdk/graphs/contributors)\n\n- [![@pacocoursey](https://avatars.githubusercontent.com/u/34928425?s=64&v=4)](https://github.com/pacocoursey)\n- [![@raunofreiberg](https://avatars.githubusercontent.com/u/23662329?s=64&v=4)](https://github.com/raunofreiberg)\n- [![@joaom00](https://avatars.githubusercontent.com/u/48808846?s=64&v=4)](https://github.com/joaom00)\n- [![@Kilian](https://avatars.githubusercontent.com/u/41970?s=64&v=4)](https://github.com/Kilian)\n- [![@flaviouk](https://avatars.githubusercontent.com/u/8357327?s=64&v=4)](https://github.com/flaviouk)\n- [![@0xcadams](https://avatars.githubusercontent.com/u/32714304?s=64&v=4)](https://github.com/0xcadams)\n- [![@prestonbourne](https://avatars.githubusercontent.com/u/90055250?s=64&v=4)](https://github.com/prestonbourne)\n- [![@tmcw](https://avatars.githubusercontent.com/u/32314?s=64&v=4)](https://github.com/tmcw)\n- [![@Pagebakers](https://avatars.githubusercontent.com/u/32583?s=64&v=4)](https://github.com/Pagebakers)\n- [![@bkrausz](https://avatars.githubusercontent.com/u/364070?s=64&v=4)](https://github.com/bkrausz)\n- [![@pengx17](https://avatars.githubusercontent.com/u/584378?s=64&v=4)](https://github.com/pengx17)\n- [![@kachkaev](https://avatars.githubusercontent.com/u/608862?s=64&v=4)](https://github.com/kachkaev)\n- [![@Simek](https://avatars.githubusercontent.com/u/719641?s=64&v=4)](https://github.com/Simek)\n- [![@alexcarpenter](https://avatars.githubusercontent.com/u/825855?s=64&v=4)](https://github.com/alexcarpenter)\n\n[+ 37 contributors](/dip/cmdk/graphs/contributors)\n\n## Languages\n\n- [TypeScript\n  78.6%](/dip/cmdk/search?l=typescript)\n- [SCSS\n  21.2%](/dip/cmdk/search?l=scss)\n- Other\n  0.2%",
  "tags": [
    "cmdk",
    "command-palette",
    "search",
    "keyboard"
  ],
  "extracted_at": "2026-02-03T12:54:09.658534+00:00",
  "content_length": 13816,
  "content_hash": "f7d5d651ee6ee4ef"
}