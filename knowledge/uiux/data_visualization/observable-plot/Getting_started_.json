{
  "id": "observable-plot__plot_getting-started",
  "source_id": "observable-plot",
  "source_name": "Observable Plot",
  "category": "data_visualization",
  "url": "https://observablehq.com/plot/getting-started",
  "title": "Getting started\u200b",
  "content": "Getting started\n\u200b\nObservable Plot supports a variety of environments.\nTry Plot online\n\u200b\nThe fastest way to get started (and get help) with Observable Plot is on\nObservable\n! Plot is available by default in notebooks as part of Observable\u2019s standard library. To use Plot, simply return the generated plot from a cell like so:\nFork\njs\nPlot.\nrectY\n({length:\n10000\n}, Plot.\nbinX\n({y:\n\"count\"\n}, {x: d3.\nrandomNormal\n()})).\nplot\n()\nObservable includes a variety of Plot snippets when you click\n+\nto add a cell, as well as convenient\nsample datasets\nto try out Plot features. Or upload a CSV or JSON file to start playing with your data. You can even use\nObservable\u2019s chart cell\n, which uses Plot\u2019s\nauto mark\nunder the hood, to create quick charts without writing code! You can then eject to JavaScript by clicking\n+\nto see the equivalent Plot code.\nObservable\u2019s chart cell lets you quickly create charts and then eject to Plot code.\nObservable is free for public use. Sign up for a\nPro account\nto connect to private databases, collaborate on private notebooks, and more.\nPlot in vanilla HTML\n\u200b\nIn vanilla HTML, you can load Plot from a CDN such as jsDelivr or you can download it locally. We recommend using the CDN-hosted ES module bundle as it automatically loads Plot\u2019s dependency on\nD3\n. But for those who need it, we also provide a UMD bundle that exports the\nPlot\nglobal when loaded as a plain script.\nESM + CDN\nUMD + CDN\nUMD + local\nhtml\n<!\nDOCTYPE\nhtml\n>\n<\ndiv\nid\n=\n\"myplot\"\n></\ndiv\n>\n<\nscript\ntype\n=\n\"module\"\n>\nimport\n*\nas\nPlot\nfrom\n\"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm\"\n;\nconst\nplot\n=\nPlot.\nrectY\n({length:\n10000\n}, Plot.\nbinX\n({y:\n\"count\"\n}, {x: Math.random})).\nplot\n();\nconst\ndiv\n=\ndocument.\nquerySelector\n(\n\"#myplot\"\n);\ndiv.\nappend\n(plot);\n</\nscript\n>\nhtml\n<!\nDOCTYPE\nhtml\n>\n<\ndiv\nid\n=\n\"myplot\"\n></\ndiv\n>\n<\nscript\nsrc\n=\n\"https://cdn.jsdelivr.net/npm/d3@7\"\n></\nscript\n>\n<\nscript\nsrc\n=\n\"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6\"\n></\nscript\n>\n<\nscript\ntype\n=\n\"module\"\n>\nconst\nplot\n=\nPlot.\nrectY\n({length:\n10000\n}, Plot.\nbinX\n({y:\n\"count\"\n}, {x: Math.random})).\nplot\n();\nconst\ndiv\n=\ndocument.\nquerySelector\n(\n\"#myplot\"\n);\ndiv.\nappend\n(plot);\n</\nscript\n>\nhtml\n<!\nDOCTYPE\nhtml\n>\n<\ndiv\nid\n=\n\"myplot\"\n></\ndiv\n>\n<\nscript\nsrc\n=\n\"d3.js\"\n></\nscript\n>\n<\nscript\nsrc\n=\n\"plot.js\"\n></\nscript\n>\n<\nscript\ntype\n=\n\"module\"\n>\nconst\nplot\n=\nPlot.\nrectY\n({length:\n10000\n}, Plot.\nbinX\n({y:\n\"count\"\n}, {x: Math.random})).\nplot\n();\nconst\ndiv\n=\ndocument.\nquerySelector\n(\n\"#myplot\"\n);\ndiv.\nappend\n(plot);\n</\nscript\n>\nPlot returns a detached DOM element \u2014\u00a0either an\nSVG\nor\nHTML figure\nelement. In vanilla web development, this means you need to insert the generated plot into the page to see it. Typically this is done by selecting a DOM element (such as a DIV with a unique identifier, like\nmyplot\nabove), and then calling\nelement\n.append\n.\nIf you\u2019d prefer to run Plot locally (or entirely offline), you can download the UMD bundle of Plot along with its dependency, D3, here:\nd3.js\nplot.js\nThen, create an\nindex.html\nfile as shown above in the\nUMD + local\ntab. If you prefer smaller minified files, you can download\nd3.min.js\nand\nplot.min.js\n, and then update the\nsrc\nattributes above accordingly.\nInstalling from npm\n\u200b\nIf you\u2019re developing a web application using Node, you can install Plot via yarn, npm, pnpm, or your preferred package manager.\nyarn\nnpm\npnpm\nbash\nyarn\nadd\n@observablehq/plot\nbash\nnpm\ninstall\n@observablehq/plot\nbash\npnpm\nadd\n@observablehq/plot\nYou can then load Plot into your app as:\njs\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nYou can instead import specific symbols if you prefer:\njs\nimport\n{barY, groupX}\nfrom\n\"@observablehq/plot\"\n;\nPlot includes TypeScript declarations with extensive documentation. We highly recommend using an editor with enhanced code completion such as Visual Studio Code or Observable.\nModern editors surface documentation and type hints as you write Plot code.\nPlot in React\n\u200b\nWe recommend two approaches for Plot in React depending on your needs.\nThe first is to server-side render (SSR) plots. This minimizes distracting reflow on page load, improving the user experience. For this approach, use the\ndocument\nplot option\nto tell Plot to render with React\u2019s virtual DOM. For example, here is a PlotFigure component:\nPlotFigure.js\njs\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\n{createElement\nas\nh}\nfrom\n\"react\"\n;\nexport\ndefault\nfunction\nPlotFigure\n({\noptions\n}) {\nreturn\nPlot.\nplot\n({\n...\noptions, document:\nnew\nDocument\n()}).\ntoHyperScript\n();\n}\nINFO\nFor brevity, the virtual\nDocument\nimplementation is not shown. You\u2019ll find it linked below.\nThen, to use:\nApp.jsx\njsx\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\nPlotFigure\nfrom\n\"./PlotFigure.js\"\n;\nimport\npenguins\nfrom\n\"./penguins.json\"\n;\nexport\ndefault\nfunction\nApp\n() {\nreturn\n(\n<\ndiv\n>\n<\nh1\n>Penguins</\nh1\n>\n<\nPlotFigure\noptions\n=\n{{\nmarks: [\nPlot.\ndot\n(penguins, {x:\n\"culmen_length_mm\"\n, y:\n\"culmen_depth_mm\"\n})\n]\n}}\n/>\n</\ndiv\n>\n);\n}\nSee our\nPlot + React CodeSandbox\nfor details.\nServer-side rendering is only practical for simple plots of small data; complex plots, such as geographic maps or charts with thousands of elements, are better rendered on the client because the serialized SVG is large. For this second approach, use\nuseRef\nto get a reference to a DOM element, and then\nuseEffect\nto generate and insert your plot.\nApp.jsx\njsx\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\n*\nas\nd3\nfrom\n\"d3\"\n;\nimport\n{useEffect, useRef, useState}\nfrom\n\"react\"\n;\nexport\ndefault\nfunction\nApp\n() {\nconst\ncontainerRef\n=\nuseRef\n();\nconst\n[\ndata\n,\nsetData\n]\n=\nuseState\n();\nuseEffect\n(()\n=>\n{\nd3.\ncsv\n(\n\"/gistemp.csv\"\n, d3.autoType).\nthen\n(setData);\n}, []);\nuseEffect\n(()\n=>\n{\nif\n(data\n===\nundefined\n)\nreturn\n;\nconst\nplot\n=\nPlot.\nplot\n({\ny: {grid:\ntrue\n},\ncolor: {scheme:\n\"burd\"\n},\nmarks: [\nPlot.\nruleY\n([\n0\n]),\nPlot.\ndot\n(data, {x:\n\"Date\"\n, y:\n\"Anomaly\"\n, stroke:\n\"Anomaly\"\n})\n]\n});\ncontainerRef.current.\nappend\n(plot);\nreturn\n()\n=>\nplot.\nremove\n();\n}, [data]);\nreturn\n<\ndiv\nref\n=\n{containerRef} />;\n}\nThis example also demonstrates asynchronously loading CSV data with\nuseState\n. If you want to update your plot, say because your data has changed, simply throw away the old plot using\nelement\n.remove\nand then replace it with a new one. That\u2019s done above in the useEffect\u2019s cleanup function.\nPlot in Vue\n\u200b\nAs with React, you can use either server- or client-side rendering with Plot and Vue.\nFor server-side rendering (SSR), use the\ndocument\nplot option\nto render to Vue\u2019s virtual DOM. For example, here is a PlotFigure component:\nPlotFigure.js\njs\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\n{h}\nfrom\n\"vue\"\n;\nexport\ndefault\n{\nprops: {\noptions: Object\n},\nrender\n() {\nreturn\nPlot.\nplot\n({\n...\nthis\n.options,\ndocument:\nnew\nDocument\n()\n}).\ntoHyperScript\n();\n}\n};\nINFO\nFor brevity, the virtual\nDocument\nimplementation is not shown. You\u2019ll find it linked below.\nThen, to use:\nApp.vue\nvue\n<\nscript\nsetup\n>\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\nPlotFigure\nfrom\n\"./components/PlotFigure.js\"\n;\nimport\npenguins\nfrom\n\"./assets/penguins.json\"\n;\n</\nscript\n>\n<\ntemplate\n>\n<\nh1\n>Plot + Vue</\nh1\n>\n<\nPlotFigure\n:\noptions\n=\n\"\n{\nmarks: [\nPlot.\ndot\n(penguins, {x:\n'culmen_length_mm'\n, y:\n'culmen_depth_mm'\n}),\n],\n}\n\"\n/>\n</\ntemplate\n>\nSee our\nPlot + Vue CodeSandbox\nfor details.\nFor client-side rendering, use a\nrender function\nwith a\nmounted\nlifecycle directive. After the component mounts, render the plot and then insert it into the page.\njs\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\n{h, withDirectives}\nfrom\n\"vue\"\n;\nexport\ndefault\n{\nprops: [\n\"options\"\n],\nrender\n() {\nconst\n{\noptions\n}\n=\nthis\n;\nreturn\nwithDirectives\n(\nh\n(\n\"div\"\n), [\n[\n{\nmounted\n(\nel\n) {\nel.\nappend\n(Plot.\nplot\n(options));\n}\n}\n]\n]);\n}\n};\nAs with React, to update your plot for whatever reason, simply render a new one and replace the old one. You can find more examples on\nour GitHub\nas this documentation site is built with VitePress and uses both client- and server-side rendering for plots!\nPlot in Svelte\n\u200b\nHere\u2019s an example of client-side rendering in Svelte. For server-side rendering, see\n#1759\n.\nApp.svelte\nsvelte\n<\nscript\nlang\n=\n\"ts\"\n>\nimport\n*\nas\nPlot\nfrom\n'@observablehq/plot'\n;\nimport\n*\nas\nd3\nfrom\n'd3'\n;\nlet\ndiv\n:\nHTMLElement\n|\nundefined\n=\n$\nstate\n();\nlet\ndata\n=\n$\nstate\n(d3.\nticks\n(\n-\n2\n,\n2\n,\n200\n).\nmap\n(Math.sin));\nfunction\nonMousemove\n(\nevent\n:\nMouseEvent\n) {\nconst\n[\nx\n,\ny\n]\n=\nd3.\npointer\n(event);\ndata\n=\ndata.\nslice\n(\n-\n200\n).\nconcat\n(Math.\natan2\n(x, y));\n}\n$\neffect\n(()\n=>\n{\ndiv?.firstChild?.\nremove\n();\n// remove old chart, if any\ndiv?.\nappend\n(Plot.\nlineY\n(data).\nplot\n({ grid:\ntrue\n}));\n// add the new chart\n});\n</\nscript\n>\n<\ndiv\nonmousemove\n={onMousemove}\nbind\n:\nthis\n={div}\nrole\n=\n\"img\"\n></\ndiv\n>\nSee our\nPlot + Svelte REPL\nfor details.\nPlot in Node.js\n\u200b\nYou can use Plot to server-side render SVG or PNG in Node.js. Use\nJSDOM\nfor a DOM implementation via the\ndocument\noption, then serialize the generated plot using\nouterHTML\n.\njs\nimport\n{readFile}\nfrom\n\"node:fs/promises\"\n;\nimport\n*\nas\nPlot\nfrom\n\"@observablehq/plot\"\n;\nimport\n*\nas\nd3\nfrom\n\"d3\"\n;\nimport\n{JSDOM}\nfrom\n\"jsdom\"\n;\nconst\npenguins\n=\nd3.\ncsvParse\n(\nawait\nreadFile\n(\n\"./penguins.csv\"\n,\n\"utf-8\"\n), d3.autoType);\nconst\nplot\n=\nPlot.\nplot\n({\ndocument:\nnew\nJSDOM\n(\n\"\"\n).window.document,\nmarks: [\nPlot.\ndot\n(penguins, {x:\n\"culmen_length_mm\"\n, y:\n\"culmen_depth_mm\"\n, stroke:\n\"species\"\n})\n]\n});\nplot.\nsetAttributeNS\n(\n\"http://www.w3.org/2000/xmlns/\"\n,\n\"xmlns\"\n,\n\"http://www.w3.org/2000/svg\"\n);\nplot.\nsetAttributeNS\n(\n\"http://www.w3.org/2000/xmlns/\"\n,\n\"xmlns:xlink\"\n,\n\"http://www.w3.org/1999/xlink\"\n);\nprocess.stdout.\nwrite\n(plot.outerHTML);\nTo rasterize SVG as PNG, you could use\ncanvg\nand\nnode-canvas\n, or\nsharp\n:\njs\nprocess.stdout.\nwrite\n(\nawait\nsharp\n(Buffer.\nfrom\n(plot.outerHTML,\n\"utf-8\"\n)).\npng\n().\ntoBuffer\n());\nFor better font rendering, consider\nPuppeteer\n.",
  "content_markdown": "# Getting started [\u200b](#getting-started)\n\nObservable Plot supports a variety of environments.\n\n## Try Plot online [\u200b](#try-plot-online)\n\nThe fastest way to get started (and get help) with Observable Plot is on [Observable](https://observablehq.com)! Plot is available by default in notebooks as part of Observable\u2019s standard library. To use Plot, simply return the generated plot from a cell like so:\n\n[Fork](https://observablehq.com/@observablehq/plot-normal-histogram \"Open on Observable\")\n\njs\n\n```\nPlot.rectY({length: 10000}, Plot.binX({y: \"count\"}, {x: d3.randomNormal()})).plot()\n```\n\nObservable includes a variety of Plot snippets when you click **+** to add a cell, as well as convenient [sample datasets](https://observablehq.com/@observablehq/sample-datasets) to try out Plot features. Or upload a CSV or JSON file to start playing with your data. You can even use [Observable\u2019s chart cell](https://observablehq.com/@observablehq/chart-cell), which uses Plot\u2019s [auto mark](./marks/auto) under the hood, to create quick charts without writing code! You can then eject to JavaScript by clicking **+** to see the equivalent Plot code.\n\n[](https://videos.ctfassets.net/uklh5xrq1p2j/14CmTWsGQifvA5jZ8s0Usw/6efc7defa063038f8eb65bb269cb3823/Chart_Cell_Demo_Take_2_shorter.mp4)\n\nObservable\u2019s chart cell lets you quickly create charts and then eject to Plot code.\n\nObservable is free for public use. Sign up for a [Pro account](https://observablehq.com/pricing) to connect to private databases, collaborate on private notebooks, and more.\n\n## Plot in vanilla HTML [\u200b](#plot-in-vanilla-html)\n\nIn vanilla HTML, you can load Plot from a CDN such as jsDelivr or you can download it locally. We recommend using the CDN-hosted ES module bundle as it automatically loads Plot\u2019s dependency on [D3](https://d3js.org). But for those who need it, we also provide a UMD bundle that exports the `Plot` global when loaded as a plain script.\n\nESM + CDNUMD + CDNUMD + local\n\nhtml\n\n```\n<!DOCTYPE html>\n<div id=\"myplot\"></div>\n<script type=\"module\">\n\nimport * as Plot from \"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm\";\n\nconst plot = Plot.rectY({length: 10000}, Plot.binX({y: \"count\"}, {x: Math.random})).plot();\nconst div = document.querySelector(\"#myplot\");\ndiv.append(plot);\n\n</script>\n```\n\nhtml\n\n```\n<!DOCTYPE html>\n<div id=\"myplot\"></div>\n<script src=\"https://cdn.jsdelivr.net/npm/d3@7\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6\"></script>\n<script type=\"module\">\n\nconst plot = Plot.rectY({length: 10000}, Plot.binX({y: \"count\"}, {x: Math.random})).plot();\nconst div = document.querySelector(\"#myplot\");\ndiv.append(plot);\n\n</script>\n```\n\nhtml\n\n```\n<!DOCTYPE html>\n<div id=\"myplot\"></div>\n<script src=\"d3.js\"></script>\n<script src=\"plot.js\"></script>\n<script type=\"module\">\n\nconst plot = Plot.rectY({length: 10000}, Plot.binX({y: \"count\"}, {x: Math.random})).plot();\nconst div = document.querySelector(\"#myplot\");\ndiv.append(plot);\n\n</script>\n```\n\nPlot returns a detached DOM element \u2014\u00a0either an [SVG](https://developer.mozilla.org/en-US/docs/Web/SVG) or [HTML figure](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figure) element. In vanilla web development, this means you need to insert the generated plot into the page to see it. Typically this is done by selecting a DOM element (such as a DIV with a unique identifier, like `myplot` above), and then calling [*element*.append](https://developer.mozilla.org/en-US/docs/Web/API/Element/append).\n\nIf you\u2019d prefer to run Plot locally (or entirely offline), you can download the UMD bundle of Plot along with its dependency, D3, here:\n\n- [d3.js](./d3.js)\n- [plot.js](./plot.js)\n\nThen, create an `index.html` file as shown above in the **UMD + local** tab. If you prefer smaller minified files, you can download [d3.min.js](./d3.min.js) and [plot.min.js](./plot.min.js), and then update the `src` attributes above accordingly.\n\n## Installing from npm [\u200b](#installing-from-npm)\n\nIf you\u2019re developing a web application using Node, you can install Plot via yarn, npm, pnpm, or your preferred package manager.\n\nyarnnpmpnpm\n\nbash\n\n```\nyarn add @observablehq/plot\n```\n\nbash\n\n```\nnpm install @observablehq/plot\n```\n\nbash\n\n```\npnpm add @observablehq/plot\n```\n\nYou can then load Plot into your app as:\n\njs\n\n```\nimport * as Plot from \"@observablehq/plot\";\n```\n\nYou can instead import specific symbols if you prefer:\n\njs\n\n```\nimport {barY, groupX} from \"@observablehq/plot\";\n```\n\nPlot includes TypeScript declarations with extensive documentation. We highly recommend using an editor with enhanced code completion such as Visual Studio Code or Observable.\n\n![](/plot/assets/ts-property.Mf1-1QQo.png)\n\nModern editors surface documentation and type hints as you write Plot code.\n\n## Plot in React [\u200b](#plot-in-react)\n\nWe recommend two approaches for Plot in React depending on your needs.\n\nThe first is to server-side render (SSR) plots. This minimizes distracting reflow on page load, improving the user experience. For this approach, use the [**document** plot option](./features/plots) to tell Plot to render with React\u2019s virtual DOM. For example, here is a PlotFigure component:\n\nPlotFigure.js\n\njs\n\n```\nimport * as Plot from \"@observablehq/plot\";\nimport {createElement as h} from \"react\";\n\nexport default function PlotFigure({options}) {\n  return Plot.plot({...options, document: new Document()}).toHyperScript();\n}\n```\n\nINFO\n\nFor brevity, the virtual `Document` implementation is not shown. You\u2019ll find it linked below.\n\nThen, to use:\n\nApp.jsx\n\njsx\n\n```\nimport * as Plot from \"@observablehq/plot\";\nimport PlotFigure from \"./PlotFigure.js\";\nimport penguins from \"./penguins.json\";\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Penguins</h1>\n      <PlotFigure\n        options={{\n          marks: [\n            Plot.dot(penguins, {x: \"culmen_length_mm\", y: \"culmen_depth_mm\"})\n          ]\n        }}\n      />\n    </div>\n  );\n}\n```\n\nSee our [Plot + React CodeSandbox](https://codesandbox.io/s/plot-react-f1jetw?file=/src/App.js) for details.\n\nServer-side rendering is only practical for simple plots of small data; complex plots, such as geographic maps or charts with thousands of elements, are better rendered on the client because the serialized SVG is large. For this second approach, use [useRef](https://react.dev/reference/react/useRef) to get a reference to a DOM element, and then [useEffect](https://react.dev/reference/react/useEffect) to generate and insert your plot.\n\nApp.jsx\n\njsx\n\n```\nimport * as Plot from \"@observablehq/plot\";\nimport * as d3 from \"d3\";\nimport {useEffect, useRef, useState} from \"react\";\n\nexport default function App() {\n  const containerRef = useRef();\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    d3.csv(\"/gistemp.csv\", d3.autoType).then(setData);\n  }, []);\n\n  useEffect(() => {\n    if (data === undefined) return;\n    const plot = Plot.plot({\n      y: {grid: true},\n      color: {scheme: \"burd\"},\n      marks: [\n        Plot.ruleY([0]),\n        Plot.dot(data, {x: \"Date\", y: \"Anomaly\", stroke: \"Anomaly\"})\n      ]\n    });\n    containerRef.current.append(plot);\n    return () => plot.remove();\n  }, [data]);\n\n  return <div ref={containerRef} />;\n}\n```\n\nThis example also demonstrates asynchronously loading CSV data with [useState](https://react.dev/reference/react/useState). If you want to update your plot, say because your data has changed, simply throw away the old plot using [*element*.remove](https://developer.mozilla.org/en-US/docs/Web/API/Element/remove) and then replace it with a new one. That\u2019s done above in the useEffect\u2019s cleanup function.\n\n## Plot in Vue [\u200b](#plot-in-vue)\n\nAs with React, you can use either server- or client-side rendering with Plot and Vue.\n\nFor server-side rendering (SSR), use the [**document** plot option](./features/plots) to render to Vue\u2019s virtual DOM. For example, here is a PlotFigure component:\n\nPlotFigure.js\n\njs\n\n```\nimport * as Plot from \"@observablehq/plot\";\nimport {h} from \"vue\";\n\nexport default {\n  props: {\n    options: Object\n  },\n  render() {\n    return Plot.plot({\n      ...this.options,\n      document: new Document()\n    }).toHyperScript();\n  }\n};\n```\n\nINFO\n\nFor brevity, the virtual `Document` implementation is not shown. You\u2019ll find it linked below.\n\nThen, to use:\n\nApp.vue\n\nvue\n\n```\n<script setup>\nimport * as Plot from \"@observablehq/plot\";\nimport PlotFigure from \"./components/PlotFigure.js\";\nimport penguins from \"./assets/penguins.json\";\n</script>\n\n<template>\n  <h1>Plot + Vue</h1>\n  <PlotFigure\n    :options=\"{\n      marks: [\n        Plot.dot(penguins, {x: 'culmen_length_mm', y: 'culmen_depth_mm'}),\n      ],\n    }\"\n  />\n</template>\n```\n\nSee our [Plot + Vue CodeSandbox](https://codesandbox.io/p/sandbox/plot-vue-jlgg2w?file=/src/App.vue) for details.\n\nFor client-side rendering, use a [render function](https://vuejs.org/guide/extras/render-function.html) with a [mounted](https://vuejs.org/api/options-lifecycle.html#mounted) lifecycle directive. After the component mounts, render the plot and then insert it into the page.\n\njs\n\n```\nimport * as Plot from \"@observablehq/plot\";\nimport {h, withDirectives} from \"vue\";\n\nexport default {\n  props: [\"options\"],\n  render() {\n    const {options} = this;\n    return withDirectives(h(\"div\"), [\n      [\n        {\n          mounted(el) {\n            el.append(Plot.plot(options));\n          }\n        }\n      ]\n    ]);\n  }\n};\n```\n\nAs with React, to update your plot for whatever reason, simply render a new one and replace the old one. You can find more examples on [our GitHub](https://github.com/observablehq/plot/tree/main/docs) as this documentation site is built with VitePress and uses both client- and server-side rendering for plots!\n\n## Plot in Svelte [\u200b](#plot-in-svelte)\n\nHere\u2019s an example of client-side rendering in Svelte. For server-side rendering, see [#1759](https://github.com/observablehq/plot/discussions/1759).\n\nApp.svelte\n\nsvelte\n\n```\n<script lang=\"ts\">\n  import * as Plot from '@observablehq/plot';\n  import * as d3 from 'd3';\n\n  let div: HTMLElement | undefined = $state();\n  let data = $state(d3.ticks(-2, 2, 200).map(Math.sin));\n\n  function onMousemove(event: MouseEvent) {\n    const [x, y] = d3.pointer(event);\n    data = data.slice(-200).concat(Math.atan2(x, y));\n  }\n\n  $effect(() => {\n    div?.firstChild?.remove(); // remove old chart, if any\n    div?.append(Plot.lineY(data).plot({ grid: true })); // add the new chart\n  });\n</script>\n\n<div onmousemove={onMousemove} bind:this={div} role=\"img\"></div>\n```\n\nSee our [Plot + Svelte REPL](https://svelte.dev/playground/e65b5c87ae7e44239cef41ec3df28f52?version=5.2.7) for details.\n\n## Plot in Node.js [\u200b](#plot-in-node-js)\n\nYou can use Plot to server-side render SVG or PNG in Node.js. Use [JSDOM](https://github.com/jsdom/jsdom) for a DOM implementation via the **document** option, then serialize the generated plot using **outerHTML**.\n\njs\n\n```\nimport {readFile} from \"node:fs/promises\";\nimport * as Plot from \"@observablehq/plot\";\nimport * as d3 from \"d3\";\nimport {JSDOM} from \"jsdom\";\n\nconst penguins = d3.csvParse(await readFile(\"./penguins.csv\", \"utf-8\"), d3.autoType);\n\nconst plot = Plot.plot({\n  document: new JSDOM(\"\").window.document,\n  marks: [\n    Plot.dot(penguins, {x: \"culmen_length_mm\", y: \"culmen_depth_mm\", stroke: \"species\"})\n  ]\n});\n\nplot.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns\", \"http://www.w3.org/2000/svg\");\nplot.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n\nprocess.stdout.write(plot.outerHTML);\n```\n\nTo rasterize SVG as PNG, you could use [canvg](https://github.com/canvg/canvg) and [node-canvas](https://github.com/Automattic/node-canvas), or [sharp](https://sharp.pixelplumbing.com/):\n\njs\n\n```\nprocess.stdout.write(await sharp(Buffer.from(plot.outerHTML, \"utf-8\")).png().toBuffer());\n```\n\nFor better font rendering, consider [Puppeteer](https://pptr.dev/).",
  "tags": [
    "observable",
    "plot",
    "visualization",
    "d3"
  ],
  "extracted_at": "2026-02-03T12:50:54.281654+00:00",
  "content_length": 9856,
  "content_hash": "1bf22cafdf8906c7"
}