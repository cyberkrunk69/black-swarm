{
  "id": "react-hook-form__faqs",
  "source_id": "react-hook-form",
  "source_name": "React Hook Form",
  "category": "forms_patterns",
  "url": "https://react-hook-form.com/faqs",
  "title": "FAQs",
  "content": "Performance of React Hook Form\nPerformance is one of the primary reasons why this library was created. React Hook Form relies on an uncontrolled form, which is the reason why the\nregister\nfunction captures\nref\nand the controlled component has its re-rendering scope with\nController\nor\nuseController\n. This approach reduces the amount of re-rendering that occurs due to a user typing in an input or other form values changing at the root of your form or applications. Components mount to the page faster than controlled components because they have less overhead. As a reference, there is a quick comparison test that you can refer to at\nthis repo link\n.\nHow to create an accessible input error and message?\nReact Hook Form is based on Uncontrolled Components, which gives you the ability to easily build an accessible custom form.\n(For more information about Uncontrolled Components, read\nSharing State Between Components\n)\nCopy\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\nexport\ndefault\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n,\nformState\n:\n{\nerrors\n}\n,\n}\n=\nuseForm\n(\n)\nconst\nonSubmit\n=\n(\ndata\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\nreturn\n(\n<\nform onSubmit\n=\n{\nhandleSubmit\n(\nonSubmit\n)\n}\n>\n<\nlabel htmlFor\n=\n\"firstName\"\n>\nFirst\nname\n<\n/\nlabel\n>\n<\ninput\nid\n=\n\"firstName\"\naria\n-\ninvalid\n=\n{\nerrors\n.\nfirstName\n?\n\"true\"\n:\n\"false\"\n}\n{\n...\nregister\n(\n\"firstName\"\n,\n{\nrequired\n:\ntrue\n}\n)\n}\n/\n>\n{\nerrors\n.\nfirstName\n&&\n<\nspan role\n=\n\"alert\"\n>\nThis\nfield is required\n<\n/\nspan\n>\n}\n<\ninput type\n=\n\"submit\"\n/\n>\n<\n/\nform\n>\n)\n}\nDoes it work with Class Components?\nNo, not out of the box. If you want to do this, you can build a wrapper around it and use it in your Class Component.\nYou can\u2019t use Hooks inside of a class component, but you can definitely mix classes and function components with Hooks in a single tree. Whether a component is a class or a function that uses Hooks is simply an implementation detail of that component. In the longer term, we expect Hooks to be the primary way people write React components.\nHow to reset the form?\nThere are two methods to clear the form:\nHTMLFormElement.reset()\nThis method does the same thing as clicking a form's reset button. It only clears\ninput/select/checkbox\nvalues.\nReact Hook Form API:\nreset()\nReact Hook Form's\nreset\nmethod will reset all field values, and will also clear all\nerrors\nwithin the form.\nHow to initialize form values?\nBeing that React Hook Form relies on an uncontrolled form, you can specify a\ndefaultValue\nor\ndefaultChecked\nto an individual field. However, it is more common and recommended to initialize a form by passing\ndefaultValues\nto\nuseForm\n.\nCopy\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n}\n=\nuseForm\n(\n{\ndefaultValues\n:\n{\nfirstName\n:\n\"bill\"\n,\nlastName\n:\n\"luo\"\n,\n}\n,\n}\n)\nreturn\n(\n<\nform onSubmit\n=\n{\nhandleSubmit\n(\n(\ndata\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\n)\n}\n>\n<\ninput\n{\n...\nregister\n(\n\"firstName\"\n)\n}\n/\n>\n<\ninput\n{\n...\nregister\n(\n\"lastName\"\n)\n}\n/\n>\n<\nbutton type\n=\n\"submit\"\n>\nSubmit\n<\n/\nbutton\n>\n<\n/\nform\n>\n)\n}\nFor async default values, you can use the following methods:\nAsync\ndefaultValues\nCopy\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n}\n=\nuseForm\n(\n{\ndefaultValues\n:\nasync\n(\n)\n=>\n{\nconst\nresponse\n=\nawait\nfetch\n(\n\"/api\"\n)\nreturn\nawait\nresponse\n.\njson\n(\n)\n// return { firstName: '', lastName: '' }\n}\n,\n}\n)\n}\nReactive\nvalues\nCopy\nfunction\nApp\n(\n)\n{\nconst\n{\ndata\n}\n=\nuseQuery\n(\n)\n// data returns { firstName: '', lastName: '' }\nconst\n{\nregister\n,\nhandleSubmit\n}\n=\nuseForm\n(\n{\nvalues\n:\ndata\n,\nresetOptions\n:\n{\nkeepDirtyValues\n:\ntrue\n,\n// keep dirty fields unchanged, but update defaultValues\n}\n,\n}\n)\n}\nHow to share ref usage?\nReact Hook Form needs a\nref\nto collect the input value. However, you may want to use\nref\nfor other purposes (e.g. scroll into the view, or focus).\nTS\nJS\nCopy\nimport\n{\nuseRef\n,\nuseImperativeHandle\n}\nfrom\n\"react\"\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\ntype\nInputs\n=\n{\nfirstName\n:\nstring\nlastName\n:\nstring\n}\nexport\ndefault\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n}\n=\nuseForm\n<\nInputs\n>\n(\n)\nconst\nfirstNameRef\n=\nuseRef\n<\nHTMLInputElement\n>\n(\nnull\n)\nconst\nonSubmit\n=\n(\ndata\n:\nInputs\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\nconst\n{\nref\n,\n...\nrest\n}\n=\nregister\n(\n\"firstName\"\n)\nconst\nonClick\n=\n(\n)\n=>\n{\nfirstNameRef\n.\ncurrent\n!\n.\nvalue\n=\n\"\"\n}\nuseImperativeHandle\n(\nref\n,\n(\n)\n=>\nfirstNameRef\n.\ncurrent\n)\nreturn\n(\n<\nform\nonSubmit\n=\n{\nhandleSubmit\n(\nonSubmit\n)\n}\n>\n<\ninput\n{\n...\nrest\n}\nref\n=\n{\nfirstNameRef\n}\n/>\n<\nbutton\ntype\n=\n\"\nbutton\n\"\nonClick\n=\n{\nonClick\n}\n>\nclear\n</\nbutton\n>\n<\nbutton\n>\nSubmit\n</\nbutton\n>\n</\nform\n>\n)\n}\nCopy\nimport\n{\nuseRef\n,\nuseImperativeHandle\n}\nfrom\n\"react\"\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\nexport\ndefault\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n}\n=\nuseForm\n(\n)\nconst\nfirstNameRef\n=\nuseRef\n(\nnull\n)\nconst\nonSubmit\n=\n(\ndata\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\nconst\n{\nref\n,\n...\nrest\n}\n=\nregister\n(\n\"firstName\"\n)\nconst\nonClick\n=\n(\n)\n=>\n{\nfirstNameRef\n.\ncurrent\n.\nvalue\n=\n\"\"\n}\nuseImperativeHandle\n(\nref\n,\n(\n)\n=>\nfirstNameRef\n.\ncurrent\n)\nreturn\n(\n<\nform onSubmit\n=\n{\nhandleSubmit\n(\nonSubmit\n)\n}\n>\n<\ninput\n{\n...\nrest\n}\nref\n=\n{\nfirstNameRef\n}\n/\n>\n<\nbutton type\n=\n\"button\"\nonClick\n=\n{\nonClick\n}\n>\nclear\n<\n/\nbutton\n>\n<\nbutton\n>\nSubmit\n<\n/\nbutton\n>\n<\n/\nform\n>\n)\n}\nWhat if you don't have access to ref?\nYou can actually\nregister\nan input without a\nref\n. In fact, you can manually\nsetValue\n,\nsetError\nand\ntrigger\n.\nNote:\nBecause\nref\nhas not been registered, React Hook Form won't be able to register event listeners to the inputs. This means you will have to manually update value and error.\nCopy\nimport\nReact\n,\n{\nuseEffect\n}\nfrom\n\"react\"\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\nexport\ndefault\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nhandleSubmit\n,\nsetValue\n,\nsetError\n}\n=\nuseForm\n(\n)\nconst\nonSubmit\n=\n(\ndata\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\nuseEffect\n(\n(\n)\n=>\n{\nregister\n(\n\"firstName\"\n,\n{\nrequired\n:\ntrue\n}\n)\nregister\n(\n\"lastName\"\n)\n}\n,\n[\nregister\n]\n)\nreturn\n(\n<\nform onSubmit\n=\n{\nhandleSubmit\n(\nonSubmit\n)\n}\n>\n<\ninput\nname\n=\n\"firstName\"\nonChange\n=\n{\n(\ne\n)\n=>\nsetValue\n(\n\"firstName\"\n,\ne\n.\ntarget\n.\nvalue\n)\n}\n/\n>\n<\ninput\nname\n=\n\"lastName\"\nonChange\n=\n{\n(\ne\n)\n=>\n{\nconst\nvalue\n=\ne\n.\ntarget\n.\nvalue\nif\n(\nvalue\n===\n\"test\"\n)\n{\nsetError\n(\n\"lastName\"\n,\n\"notMatch\"\n)\n}\nelse\n{\nsetValue\n(\n\"lastName\"\n,\ne\n.\ntarget\n.\nvalue\n)\n}\n}\n}\n/\n>\n<\nbutton\n>\nSubmit\n<\n/\nbutton\n>\n<\n/\nform\n>\n)\n}\nWhy is the first keystroke not working?\nMake sure you are not using\nvalue\n. The correct property is\ndefaultValue\n.\nReact Hook Form is focusing on uncontrolled inputs, which means you don't need to change the input\nvalue\nvia\nstate\nvia\nonChange\n. In fact, you don't need\nvalue\nat all. You only need to set\ndefaultValue\nfor the initial input value.\nReact Hook Form, Formik or Redux Form?\nFirst of all, all libs try to solve the same problem: make the form building experience as easy as possible. However, there are some fundamental differences between these three.\nreact-hook-form\nis built with uncontrolled inputs in mind and tries to provide your form with the best performance and least amount of re-renders possible. Additionally,\nreact-hook-form\nis built with React Hooks and used as a hook, which means there is no Component for you to import. Here are some of the detailed differences:\nReact Hook Form\nFormik\nRedux Form\nComponent\nuncontrolled\n&\ncontrolled\ncontrolled\ncontrolled\nRendering\nminimum re-render and optimise computation\nre-render according to local state changes (As you type in the input.)\nre-render according to state management lib (Redux) changes (As you type in the input.)\nAPI\nHooks\nComponent (RenderProps, Form, Field) + Hooks\nComponent (RenderProps, Form, Field)\nPackage size\nSmall\nreact-hook-form@7.27.0\n8.5KB\nMedium\nformik@2.1.4\n15KB\nLarge\nredux-form@8.3.6\n26.4KB\nValidation\nBuilt-in,\nYup\n,\nZod\n,\nJoi\n,\nSuperstruct\nand build your own.\nBuild yourself or\nYup\nBuild yourself or Plugins\nLearning curve\nLow to Medium\nMedium\nMedium\nwatch vs getValues vs state\nwatch:\nsubscribe to either all inputs or a specified input's changes via an event listener and re-render based on which fields are subscribed to. Check out\nthis codesandbox\nfor actual behaviour.\ngetValues\n: get values that are stored inside the custom hook as reference, fast and cheap. This method doesn\u2019t trigger a re-render.\nlocal state\n: React local state represents more than just an input\u2019s state and also decides what to render. This will trigger on each input\u2019s change.\nWhy is default value not changing correctly with ternary operator?\nReact Hook Form doesn't control your entire form and inputs, which is why React wouldn't recognize that the actual input has been exchanged or swapped. As a solution, you can resolve this problem by giving a unique\nkey\nprop to your input. You can also read more about the key props from\nthis article written by Kent C. Dodds\n.\nCopy\nCodeSandbox\nJS\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\nexport\ndefault\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n}\n=\nuseForm\n(\n)\nreturn\n(\n<\ndiv\n>\n{\nwatchChecked\n?\n(\n<\ninput\n{\n...\nregister\n(\n\"input3\"\n)\n}\nkey\n=\n\"key1\"\ndefaultValue\n=\n\"1\"\n/\n>\n)\n:\n(\n<\ninput\n{\n...\nregister\n(\n\"input4\"\n)\n}\nkey\n=\n\"key2\"\ndefaultValue\n=\n\"2\"\n/\n>\n)\n}\n<\n/\ndiv\n>\n)\n}\nHow to work with modal or tab forms?\nIt's important to understand that React Hook Form embraces native form behavior by storing input state inside each input (except custom\nregister\nat\nuseEffect\n). A common misconception is that input state remains with mounted or unmounted inputs. Such as when working with a modal or tab forms. Instead, the correct solution is to build a new form for your form inside each modal or tab and capture your submission data in local or global state and then do something with the combined data.\nModal form and toggle inputs example\nTab form example\nAlternatively you can use the deprecated option\nshouldUnregister: false\nwhen calling\nuseForm\n.\nController\nCustom Register\nCopy\nimport\n{\nuseForm\n,\nController\n}\nfrom\n\"react-hook-form\"\nfunction\nApp\n(\n)\n{\nconst\n{\ncontrol\n}\n=\nuseForm\n(\n)\nreturn\n(\n<\nController\nrender\n=\n{\n(\n{\nfield\n}\n)\n=>\n<\ninput\n{\n...\nfield\n}\n/\n>\n}\nname\n=\n\"firstName\"\ncontrol\n=\n{\ncontrol\n}\ndefaultValue\n=\n\"\"\n/\n>\n)\n}\nCopy\nCodeSandbox\nJS\nimport\nReact\n,\n{\nuseEffect\n}\nfrom\n\"react\"\nimport\n{\nuseForm\n}\nfrom\n\"react-hook-form\"\nfunction\nApp\n(\n)\n{\nconst\n{\nregister\n,\nwatch\n,\nsetValue\n,\nhandleSubmit\n}\n=\nuseForm\n(\n{\ndefaultValues\n:\n{\nfirstName\n:\n\"\"\n,\nlastName\n:\n\"\"\n,\n}\n,\n}\n)\nconst\n{\nfirstName\n,\nlastName\n}\n=\nwatch\n(\n)\nuseEffect\n(\n(\n)\n=>\n{\nregister\n(\n\"firstName\"\n)\nregister\n(\n\"lastName\"\n)\n}\n,\n[\nregister\n]\n)\nconst\nhandleChange\n=\n(\ne\n,\nname\n)\n=>\n{\nsetValue\n(\nname\n,\ne\n.\ntarget\n.\nvalue\n)\n}\nconst\nonSubmit\n=\n(\ndata\n)\n=>\nconsole\n.\nlog\n(\ndata\n)\nreturn\n(\n<\nform onSubmit\n=\n{\nhandleSubmit\n(\nonSubmit\n)\n}\n>\n<\ninput onChange\n=\n{\n(\ne\n)\n=>\nhandleChange\n(\ne\n,\n\"firstName\"\n)\n}\nvalue\n=\n{\nfirstName\n}\n/\n>\n<\ninput onChange\n=\n{\n(\ne\n)\n=>\nhandleChange\n(\ne\n,\n\"lastName\"\n)\n}\nvalue\n=\n{\nlastName\n}\n/\n>\n<\ninput type\n=\n\"submit\"\n/\n>\n<\n/\nform\n>\n)\n}\nThank you for your support\nIf you find React Hook Form to be useful in your project, please consider to star and support it.\nStar us on GitHub",
  "content_markdown": "## Performance of React Hook Form\n\nPerformance is one of the primary reasons why this library was created. React Hook Form relies on an uncontrolled form, which is the reason why the `register` function captures `ref` and the controlled component has its re-rendering scope with `Controller` or `useController`. This approach reduces the amount of re-rendering that occurs due to a user typing in an input or other form values changing at the root of your form or applications. Components mount to the page faster than controlled components because they have less overhead. As a reference, there is a quick comparison test that you can refer to at [this repo link](https://github.com/bluebill1049/react-hook-form-performance-compare).\n\n---\n\n## How to create an accessible input error and message?\n\nReact Hook Form is based on Uncontrolled Components, which gives you the ability to easily build an accessible custom form.\n*(For more information about Uncontrolled Components, read [Sharing State Between Components](https://react.dev/learn/sharing-state-between-components))*\n\nCopy\n\n```\nimport { useForm } from \"react-hook-form\"\n\nexport default function App() {\n\nconst {\n\nregister,\n\nhandleSubmit,\n\nformState: { errors },\n\n} = useForm()\n\nconst onSubmit = (data) => console.log(data)\n\nreturn (\n\n<form onSubmit={handleSubmit(onSubmit)}>\n\n<label htmlFor=\"firstName\">First name</label>\n\n<input\n\nid=\"firstName\"\n\naria-invalid={errors.firstName ? \"true\" : \"false\"}\n\n{...register(\"firstName\", { required: true })}\n\n/>\n\n{errors.firstName && <span role=\"alert\">This field is required</span>}\n\n<input type=\"submit\" />\n\n</form>\n\n)\n\n}\n```\n\n---\n\n## Does it work with Class Components?\n\nNo, not out of the box. If you want to do this, you can build a wrapper around it and use it in your Class Component.\n\n> You can\u2019t use Hooks inside of a class component, but you can definitely mix classes and function components with Hooks in a single tree. Whether a component is a class or a function that uses Hooks is simply an implementation detail of that component. In the longer term, we expect Hooks to be the primary way people write React components.\n\n---\n\n## How to reset the form?\n\nThere are two methods to clear the form:\n\n- **HTMLFormElement.reset()**\n\n  This method does the same thing as clicking a form's reset button. It only clears `input/select/checkbox` values.\n- **React Hook Form API: `reset()`**\n\n  React Hook Form's `reset` method will reset all field values, and will also clear all `errors` within the form.\n\n---\n\n## How to initialize form values?\n\nBeing that React Hook Form relies on an uncontrolled form, you can specify a `defaultValue` or `defaultChecked` to an individual field. However, it is more common and recommended to initialize a form by passing `defaultValues` to `useForm`.\n\nCopy\n\n```\nfunction App() {\n\nconst { register, handleSubmit } = useForm({\n\ndefaultValues: {\n\nfirstName: \"bill\",\n\nlastName: \"luo\",\n\n},\n\n})\n\nreturn (\n\n<form onSubmit={handleSubmit((data) => console.log(data))}>\n\n<input {...register(\"firstName\")} />\n\n<input {...register(\"lastName\")} />\n\n<button type=\"submit\">Submit</button>\n\n</form>\n\n)\n\n}\n```\n\nFor async default values, you can use the following methods:\n\n- Async `defaultValues`\n\n  Copy\n\n  ```\n  function App() {\n\n  const { register, handleSubmit } = useForm({\n\n  defaultValues: async () => {\n\n  const response = await fetch(\"/api\")\n\n  return await response.json() // return { firstName: '', lastName: '' }\n\n  },\n\n  })\n\n  }\n  ```\n- Reactive `values`\n\n  Copy\n\n  ```\n  function App() {\n\n  const { data } = useQuery() // data returns { firstName: '', lastName: '' }\n\n  const { register, handleSubmit } = useForm({\n\n  values: data,\n\n  resetOptions: {\n\n  keepDirtyValues: true, // keep dirty fields unchanged, but update defaultValues\n\n  },\n\n  })\n\n  }\n  ```\n\n---\n\n## How to share ref usage?\n\nReact Hook Form needs a `ref` to collect the input value. However, you may want to use `ref` for other purposes (e.g. scroll into the view, or focus).\n\nTSJS\n\nCopy\n\n```\nimport { useRef, useImperativeHandle } from \"react\"\n\nimport { useForm } from \"react-hook-form\"\n\ntype Inputs = {\n\nfirstName: string\n\nlastName: string\n\n}\n\nexport default function App() {\n\nconst { register, handleSubmit } = useForm<Inputs>()\n\nconst firstNameRef = useRef<HTMLInputElement>(null)\n\nconst onSubmit = (data: Inputs) => console.log(data)\n\nconst { ref, ...rest } = register(\"firstName\")\n\nconst onClick = () => {\n\nfirstNameRef.current!.value = \"\"\n\n}\n\nuseImperativeHandle(ref, () => firstNameRef.current)\n\nreturn (\n\n<form onSubmit={handleSubmit(onSubmit)}>\n\n<input {...rest} ref={firstNameRef} />\n\n<button type=\"button\" onClick={onClick}>\n\nclear\n\n</button>\n\n<button>Submit</button>\n\n</form>\n\n)\n\n}\n```\n\nCopy\n\n```\nimport { useRef, useImperativeHandle } from \"react\"\n\nimport { useForm } from \"react-hook-form\"\n\nexport default function App() {\n\nconst { register, handleSubmit } = useForm()\n\nconst firstNameRef = useRef(null)\n\nconst onSubmit = (data) => console.log(data)\n\nconst { ref, ...rest } = register(\"firstName\")\n\nconst onClick = () => {\n\nfirstNameRef.current.value = \"\"\n\n}\n\nuseImperativeHandle(ref, () => firstNameRef.current)\n\nreturn (\n\n<form onSubmit={handleSubmit(onSubmit)}>\n\n<input {...rest} ref={firstNameRef} />\n\n<button type=\"button\" onClick={onClick}>\n\nclear\n\n</button>\n\n<button>Submit</button>\n\n</form>\n\n)\n\n}\n```\n\n---\n\n## What if you don't have access to ref?\n\nYou can actually `register` an input without a `ref`. In fact, you can manually `setValue`, `setError` and `trigger`.\n\n**Note:** Because `ref` has not been registered, React Hook Form won't be able to register event listeners to the inputs. This means you will have to manually update value and error.\n\nCopy\n\n```\nimport React, { useEffect } from \"react\"\n\nimport { useForm } from \"react-hook-form\"\n\nexport default function App() {\n\nconst { register, handleSubmit, setValue, setError } = useForm()\n\nconst onSubmit = (data) => console.log(data)\n\nuseEffect(() => {\n\nregister(\"firstName\", { required: true })\n\nregister(\"lastName\")\n\n}, [register])\n\nreturn (\n\n<form onSubmit={handleSubmit(onSubmit)}>\n\n<input\n\nname=\"firstName\"\n\nonChange={(e) => setValue(\"firstName\", e.target.value)}\n\n/>\n\n<input\n\nname=\"lastName\"\n\nonChange={(e) => {\n\nconst value = e.target.value\n\nif (value === \"test\") {\n\nsetError(\"lastName\", \"notMatch\")\n\n} else {\n\nsetValue(\"lastName\", e.target.value)\n\n}\n\n}}\n\n/>\n\n<button>Submit</button>\n\n</form>\n\n)\n\n}\n```\n\n---\n\n## Why is the first keystroke not working?\n\nMake sure you are not using `value`. The correct property is `defaultValue`.\n\nReact Hook Form is focusing on uncontrolled inputs, which means you don't need to change the input `value` via `state` via `onChange`. In fact, you don't need `value` at all. You only need to set `defaultValue` for the initial input value.\n\n---\n\n## React Hook Form, Formik or Redux Form?\n\nFirst of all, all libs try to solve the same problem: make the form building experience as easy as possible. However, there are some fundamental differences between these three. `react-hook-form` is built with uncontrolled inputs in mind and tries to provide your form with the best performance and least amount of re-renders possible. Additionally, `react-hook-form` is built with React Hooks and used as a hook, which means there is no Component for you to import. Here are some of the detailed differences:\n\n|  | React Hook Form | Formik | Redux Form |\n| --- | --- | --- | --- |\n| **Component** | [uncontrolled](https://reactjs.org/docs/uncontrolled-components.html) & [controlled](https://reactjs.org/docs/forms.html) | [controlled](https://reactjs.org/docs/forms.html) | [controlled](https://reactjs.org/docs/forms.html) |\n| **Rendering** | minimum re-render and optimise computation | re-render according to local state changes (As you type in the input.) | re-render according to state management lib (Redux) changes (As you type in the input.) |\n| **API** | Hooks | Component (RenderProps, Form, Field) + Hooks | Component (RenderProps, Form, Field) |\n| **Package size** | Small   `react-hook-form@7.27.0`   **8.5KB** | Medium  `formik@2.1.4`  **15KB** | Large  `redux-form@8.3.6`  **26.4KB** |\n| **Validation** | Built-in, [Yup](https://github.com/jquense/yup), [Zod](https://github.com/vriad/zod), [Joi](https://github.com/hapijs/joi), [Superstruct](https://github.com/ianstormtaylor/superstruct) and build your own. | Build yourself or [Yup](https://github.com/jquense/yup) | Build yourself or Plugins |\n| **Learning curve** | Low to Medium | Medium | Medium |\n\n---\n\n## watch vs getValues vs state\n\n- **watch:** subscribe to either all inputs or a specified input's changes via an event listener and re-render based on which fields are subscribed to. Check out [this codesandbox](https://codesandbox.io/s/react-hook-form-watch-with-radio-buttons-and-select-examples-ovfus) for actual behaviour.\n- **getValues**: get values that are stored inside the custom hook as reference, fast and cheap. This method doesn\u2019t trigger a re-render.\n- **local state**: React local state represents more than just an input\u2019s state and also decides what to render. This will trigger on each input\u2019s change.\n\n---\n\n## Why is default value not changing correctly with ternary operator?\n\nReact Hook Form doesn't control your entire form and inputs, which is why React wouldn't recognize that the actual input has been exchanged or swapped. As a solution, you can resolve this problem by giving a unique `key` prop to your input. You can also read more about the key props from [this article written by Kent C. Dodds](https://kentcdodds.com/blog/understanding-reacts-key-prop).\n\nCopy [CodeSandbox JS](https://codesandbox.io/s/react-hook-form-faq-toggle-fields-3htr6)\n\n```\nimport { useForm } from \"react-hook-form\"\n\nexport default function App() {\n\nconst { register } = useForm()\n\nreturn (\n\n<div>\n\n{watchChecked ? (\n\n<input {...register(\"input3\")} key=\"key1\" defaultValue=\"1\" />\n\n) : (\n\n<input {...register(\"input4\")} key=\"key2\" defaultValue=\"2\" />\n\n)}\n\n</div>\n\n)\n\n}\n```\n\n---\n\n## How to work with modal or tab forms?\n\nIt's important to understand that React Hook Form embraces native form behavior by storing input state inside each input (except custom `register` at `useEffect`). A common misconception is that input state remains with mounted or unmounted inputs. Such as when working with a modal or tab forms. Instead, the correct solution is to build a new form for your form inside each modal or tab and capture your submission data in local or global state and then do something with the combined data.\n\n- [Modal form and toggle inputs example](https://codesandbox.io/s/react-hook-form-modal-form-conditional-inputs-c7n0r)\n- [Tab form example](https://codesandbox.io/s/tabs-760h9)\n\nAlternatively you can use the deprecated option `shouldUnregister: false` when calling `useForm`.\n\nControllerCustom Register\n\nCopy\n\n```\nimport { useForm, Controller } from \"react-hook-form\"\n\nfunction App() {\n\nconst { control } = useForm()\n\nreturn (\n\n<Controller\n\nrender={({ field }) => <input {...field} />}\n\nname=\"firstName\"\n\ncontrol={control}\n\ndefaultValue=\"\"\n\n/>\n\n)\n\n}\n```\n\nCopy [CodeSandbox JS](https://codesandbox.io/s/react-hook-form-controlled-input-forked-rl2v1)\n\n```\nimport React, { useEffect } from \"react\"\n\nimport { useForm } from \"react-hook-form\"\n\nfunction App() {\n\nconst { register, watch, setValue, handleSubmit } = useForm({\n\ndefaultValues: {\n\nfirstName: \"\",\n\nlastName: \"\",\n\n},\n\n})\n\nconst { firstName, lastName } = watch()\n\nuseEffect(() => {\n\nregister(\"firstName\")\n\nregister(\"lastName\")\n\n}, [register])\n\nconst handleChange = (e, name) => {\n\nsetValue(name, e.target.value)\n\n}\n\nconst onSubmit = (data) => console.log(data)\n\nreturn (\n\n<form onSubmit={handleSubmit(onSubmit)}>\n\n<input onChange={(e) => handleChange(e, \"firstName\")} value={firstName} />\n\n<input onChange={(e) => handleChange(e, \"lastName\")} value={lastName} />\n\n<input type=\"submit\" />\n\n</form>\n\n)\n\n}\n```\n\n# Thank you for your support\n\nIf you find React Hook Form to be useful in your project, please consider to star and support it.\n\nStar us on GitHub",
  "tags": [
    "react",
    "forms",
    "validation",
    "hooks"
  ],
  "extracted_at": "2026-02-03T12:50:11.835688+00:00",
  "content_length": 10977,
  "content_hash": "8c51df2b822936db"
}