{
  "id": "wai-aria-apg__WAI_ARIA_apg_patterns_treeview_",
  "source_id": "wai-aria-apg",
  "source_name": "WAI-ARIA Authoring Practices Guide",
  "category": "accessibility",
  "url": "https://www.w3.org/WAI/ARIA/apg/patterns/treeview/",
  "title": "Tree View Pattern | APG | WAI | W3C",
  "content": "Tree View Pattern\nAbout This Pattern\nA tree view widget presents a hierarchical list.\n          Any item in the hierarchy may have child items, and items that have children may be expanded or collapsed to show or hide the children.\n          For example, in a file system navigator that uses a tree view to display folders and files, an item representing a folder can be expanded to reveal the contents of the folder, which may be files, folders, or both.\nWhen using a keyboard to navigate a tree, a visual keyboard indicator informs the user which item is focused.\n          If the tree allows the user to choose just one item for an action, then it is known as a single-select tree.\n          In some implementations of single-select tree, the focused item also has a selected state; this is known as selection follows focus.\n          However, in multi-select trees, which enable the user to select more than one item for an action, the selected state is always independent of the focus.\n          For example, in a typical file system navigator, the user can move focus to select any number of files for an action, such as copy or move.\n          It is important that the visual design distinguish between items that are selected and the item that has focus.\n          For more details, see\nthis description of differences between focus and selection\nand\nDeciding When to Make Selection Automatically Follow Focus\n.\nExamples\nFile Directory Treeview Example Using Computed Properties\n: A file selector tree that demonstrates browser support for automatically computing\naria-level\n,\naria-posinset\nand\naria-setsize\nbased on DOM structure.\nFile Directory Treeview Example Using Declared Properties\n: A file selector tree that demonstrates how to explicitly define values for\naria-level\n,\naria-posinset\nand\naria-setsize\n.\nNavigation Treeview Example\n: A tree that provides navigation to a set of web pages and demonstrates browser support for automatically computing\naria-level\n,\naria-posinset\nand\naria-setsize\nbased on DOM structure.\nTerms\nTerms for describing tree views include:\nNode\nAn item in a tree.\nRoot Node\nNode at the base of the tree; it may have one or more child nodes but does not have a parent node.\nChild Node\nNode that has a parent; any node that is not a root node is a child node.\nEnd Node\nNode that does not have any child nodes; an end node may be either a root node or a child node.\nParent Node\nNode with one or more child nodes.\n            It can be open (expanded) or closed (collapsed).\nOpen Node\nParent node that is expanded so its child nodes are visible.\nClosed Node\nParent node that is collapsed so the child nodes are not visible.\nKeyboard Interaction\nFor a vertically oriented tree:\nWhen a single-select tree receives focus:\nIf none of the nodes are selected before the tree receives focus, focus is set on the first node.\nIf a node is selected before the tree receives focus, focus is set on the selected node.\nWhen a multi-select tree receives focus:\nIf none of the nodes are selected before the tree receives focus, focus is set on the first node.\nIf one or more nodes are selected before the tree receives focus, focus is set on the first selected node.\nRight arrow\n:\nWhen focus is on a closed node, opens the node; focus does not move.\nWhen focus is on a open node, moves focus to the first child node.\nWhen focus is on an end node, does nothing.\nLeft arrow\n:\nWhen focus is on an open node, closes the node.\nWhen focus is on a child node that is also either an end node or a closed node, moves focus to its parent node.\nWhen focus is on a root node that is also either an end node or a closed node, does nothing.\nDown Arrow\n: Moves focus to the next node that is focusable without opening or closing a node.\nUp Arrow\n: Moves focus to the previous node that is focusable without opening or closing a node.\nHome\n: Moves focus to the first node in the tree without opening or closing a node.\nEnd\n: Moves focus to the last node in the tree that is focusable without opening a node.\nEnter\n: activates a node, i.e., performs its default action.\n            For parent nodes, one possible default action is to open or close the node.\n            In single-select trees where selection does not follow focus (see note below), the default action is typically to select the focused node.\nType-ahead is recommended for all trees, especially for trees with more than 7 root nodes:\nType a character: focus moves to the next node with a name that starts with the typed character.\nType multiple characters in rapid succession: focus moves to the next node with a name that starts with the string of characters typed.\n*\n(Optional): Expands all siblings that are at the same level as the current node.\nSelection in multi-select trees:\nAuthors may implement either of two interaction models to support multiple selection: a recommended model that does not require the user to hold a modifier key, such as\nShift\nor\nControl\n, while navigating the list or an alternative model that does require modifier keys to be held while navigating in order to avoid losing selection states.\nRecommended selection model -- holding a modifier key while moving focus is not necessary:\nSpace\n: Toggles the selection state of the focused node.\nShift\n+\nDown Arrow\n(Optional): Moves focus to and toggles the selection state of the next node.\nShift\n+\nUp Arrow\n(Optional): Moves focus to and toggles the selection state of the previous node.\nShift\n+\nSpace\n(Optional): Selects contiguous nodes from the most recently selected node to the current node.\nControl\n+\nShift\n+\nHome\n(Optional): Selects the node with focus and all nodes up to the first node.\n                    Optionally, moves focus to the first node.\nControl\n+\nShift\n+\nEnd\n(Optional): Selects the node with focus and all nodes down to the last node.\n                    Optionally, moves focus to the last node.\nControl\n+\nA\n(Optional): Selects all nodes in the tree.\n                    Optionally, if all nodes are selected, it can also unselect all nodes.\nAlternative selection model -- Moving focus without holding the\nShift\nor\nControl\nmodifier unselects all selected nodes except for the focused node:\nShift\n+\nDown Arrow\n: Moves focus to and toggles the selection state of the next node.\nShift\n+\nUp Arrow\n: Moves focus to and toggles the selection state of the previous node.\nControl\n+\nDown Arrow\n: Without changing the selection state, moves focus to the next node.\nControl\n+\nUp Arrow\n: Without changing the selection state, moves focus to the previous node.\nControl\n+\nSpace\n: Toggles the selection state of the focused node.\nShift\n+\nSpace\n(Optional): Selects contiguous nodes from the most recently selected node to the current node.\nControl\n+\nShift\n+\nHome\n(Optional): Selects the node with focus and all nodes up to the first node.\n                    Optionally, moves focus to the first node.\nControl\n+\nShift\n+\nEnd\n(Optional): Selects the node with focus and all nodes down to the last node.\n                    Optionally, moves focus to the last node.\nControl\n+\nA\n(Optional): Selects all nodes in the tree.\n                    Optionally, if all nodes are selected, it can also unselect all nodes.\nNote\nDOM focus (the active element) is functionally distinct from the selected state.\n              For more details, see\nthis description of differences between focus and selection\n.\nThe\ntree\nrole supports the\naria-activedescendant\nproperty, which provides an alternative to moving DOM focus among\ntreeitem\nelements when implementing keyboard navigation.\n              For details, see\nManaging Focus in Composites Using aria-activedescendant\n.\nIn a single-select tree, moving focus may optionally unselect the previously selected node and select the newly focused node.\n              This model of selection is known as \"selection follows focus\".\n              Having selection follow focus can be very helpful in some circumstances and can severely degrade accessibility in others.\n              For additional guidance, see\nDeciding When to Make Selection Automatically Follow Focus\n.\nIf selecting or unselecting all nodes is an important function, implementing separate controls for these actions, such as buttons for \"Select All\" and \"Unselect All\", significantly improves accessibility.\nIf the nodes in a tree are arranged horizontally:\nDown Arrow\nperforms as\nRight Arrow\nis described above, and vice versa.\nUp Arrow\nperforms as\nLeft Arrow\nis described above, and vice versa.\nWAI-ARIA Roles, States, and Properties\nAll tree nodes are contained in or owned by an element with role\ntree\n.\nEach element serving as a tree node has role\ntreeitem\n.\nEach root node is contained in the element with role\ntree\nor referenced by an\naria-owns\nproperty set on the\ntree\nelement.\nEach parent node contains or owns an element with role\ngroup\n.\nEach child node is contained in or owned by an element with role\ngroup\nthat is contained in or owned by the node that serves as the parent of that child.\nEach element with role\ntreeitem\nthat serves as a parent node has\naria-expanded\nset to\nfalse\nwhen the node is in a closed state and set to\ntrue\nwhen the node is in an open state.\n            End nodes do not have the\naria-expanded\nattribute because, if they were to have it, they would be incorrectly described to assistive technologies as parent nodes.\nIf the tree supports selection of more than one node, the element with role\ntree\nhas\naria-multiselectable\nset to\ntrue\n.\n            Otherwise,\naria-multiselectable\nis either set to\nfalse\nor the default value of\nfalse\nis implied.\nThe selection state of each selectable node is indicated with either\naria-selected\nor\naria-checked\n:\nIf the selection state is indicated with\naria-selected\n, then\naria-checked\nis not specified for any nodes.\n                Alternatively, if the selection state is indicated with\naria-checked\n, then\naria-selected\nis not specified for any nodes.\n                See notes below regarding considerations for which property to use and for details of the unusual conditions that might allow for both properties in the same tree.\nIf any nodes are selected, each selected node has either\naria-selected\nor\naria-checked\nset to\ntrue\n.\n                No more than one node is selected at a time if the element with role\ntree\ndoes\nnot\nhave\naria-multiselectable\nset to\ntrue\n.\nAll nodes that are selectable but not selected have either\naria-selected\nor\naria-checked\nset to\nfalse\n.\nIf the tree contains nodes that are not selectable, neither\naria-selected\nnor\naria-checked\nis present on those nodes.\nNote that except in trees where selection follows focus, the selected state is distinct from focus.\n                For more details, see\nthis description of differences between focus and selection\nand\nDeciding When to Make Selection Automatically Follow Focus\n.\nThe element with role\ntree\nhas either a visible label referenced by\naria-labelledby\nor a value specified for\naria-label\n.\nIf the complete set of available nodes is not present in the DOM due to dynamic loading as the user moves focus in or scrolls the tree, each node has\naria-level\n,\naria-setsize\n, and\naria-posinset\nspecified.\nIf the\ntree\nelement is horizontally oriented, it has\naria-orientation\nset to\nhorizontal\n.\n            The default value of\naria-orientation\nfor a tree is\nvertical\n.\nNote\nSome factors to consider when choosing whether to indicate selection with\naria-selected\nor\naria-checked\nare:\nSome design systems use\naria-selected\nfor single-select widgets and\naria-checked\nfor multi-select widgets.\n                  In the absence of factors that would make an alternative convention more appropriate, this is a recommended convention.\nThe language of instructions and the appearance of the interface might suggest one attribute is more appropriate than the other.\n                  For instance, do instructions say to\nselect\nitems? Or, is the visual indicator of selection a check mark?\nIt is important to adopt a consistent convention for selection models across a site or app.\nConditions that would permit a tree to include both\naria-selected\nand\naria-checked\nare extremely rare.\n              It is strongly recommended to avoid designing a tree widget that would have the need for more than one type of state.\n              If both states were to be used within a tree, all the following conditions need to be satisfied:\nThe meaning and purpose of\naria-selected\nis different from the meaning and purpose of\naria-checked\nin the user interface.\nThe user interface makes the meaning and purpose of each state apparent.\nThe user interface provides a separate method for controlling each state.\nIf\naria-owns\nis set on the tree container to include elements that are not DOM children of the container, those elements will appear in the reading order in the sequence they are referenced and after any items that are DOM children.\n              Scripts that manage focus need to ensure the visual focus order matches this assistive technology reading order.",
  "content_markdown": "Tree View Pattern\n\n## About This Pattern\n\nA tree view widget presents a hierarchical list.\nAny item in the hierarchy may have child items, and items that have children may be expanded or collapsed to show or hide the children.\nFor example, in a file system navigator that uses a tree view to display folders and files, an item representing a folder can be expanded to reveal the contents of the folder, which may be files, folders, or both.\n\nWhen using a keyboard to navigate a tree, a visual keyboard indicator informs the user which item is focused.\nIf the tree allows the user to choose just one item for an action, then it is known as a single-select tree.\nIn some implementations of single-select tree, the focused item also has a selected state; this is known as selection follows focus.\nHowever, in multi-select trees, which enable the user to select more than one item for an action, the selected state is always independent of the focus.\nFor example, in a typical file system navigator, the user can move focus to select any number of files for an action, such as copy or move.\nIt is important that the visual design distinguish between items that are selected and the item that has focus.\nFor more details, see [this description of differences between focus and selection](../../practices/keyboard-interface/#kbd_focus_vs_selection)\nand [Deciding When to Make Selection Automatically Follow Focus](../../practices/keyboard-interface/#kbd_selection_follows_focus).\n\n![](../../../../content-images/wai-aria-practices/images/pattern-treeview.svg)\n\n## Examples\n\n- [File Directory Treeview Example Using Computed Properties](examples/treeview-1a/): A file selector tree that demonstrates browser support for automatically computing `aria-level`, `aria-posinset` and `aria-setsize` based on DOM structure.\n- [File Directory Treeview Example Using Declared Properties](examples/treeview-1b/): A file selector tree that demonstrates how to explicitly define values for `aria-level`, `aria-posinset` and `aria-setsize`.\n- [Navigation Treeview Example](examples/treeview-navigation/): A tree that provides navigation to a set of web pages and demonstrates browser support for automatically computing `aria-level`, `aria-posinset` and `aria-setsize` based on DOM structure.\n\n## Terms\n\nTerms for describing tree views include:\n\nNode\n:   An item in a tree.\n\nRoot Node\n:   Node at the base of the tree; it may have one or more child nodes but does not have a parent node.\n\nChild Node\n:   Node that has a parent; any node that is not a root node is a child node.\n\nEnd Node\n:   Node that does not have any child nodes; an end node may be either a root node or a child node.\n\nParent Node\n:   Node with one or more child nodes.\n    It can be open (expanded) or closed (collapsed).\n\nOpen Node\n:   Parent node that is expanded so its child nodes are visible.\n\nClosed Node\n:   Parent node that is collapsed so the child nodes are not visible.\n\n## Keyboard Interaction\n\nFor a vertically oriented tree:\n\n- When a single-select tree receives focus:\n  - If none of the nodes are selected before the tree receives focus, focus is set on the first node.\n  - If a node is selected before the tree receives focus, focus is set on the selected node.\n- When a multi-select tree receives focus:\n  - If none of the nodes are selected before the tree receives focus, focus is set on the first node.\n  - If one or more nodes are selected before the tree receives focus, focus is set on the first selected node.\n- `Right arrow`:\n  - When focus is on a closed node, opens the node; focus does not move.\n  - When focus is on a open node, moves focus to the first child node.\n  - When focus is on an end node, does nothing.\n- `Left arrow`:\n  - When focus is on an open node, closes the node.\n  - When focus is on a child node that is also either an end node or a closed node, moves focus to its parent node.\n  - When focus is on a root node that is also either an end node or a closed node, does nothing.\n- `Down Arrow`: Moves focus to the next node that is focusable without opening or closing a node.\n- `Up Arrow`: Moves focus to the previous node that is focusable without opening or closing a node.\n- `Home`: Moves focus to the first node in the tree without opening or closing a node.\n- `End`: Moves focus to the last node in the tree that is focusable without opening a node.\n- `Enter`: activates a node, i.e., performs its default action.\n  For parent nodes, one possible default action is to open or close the node.\n  In single-select trees where selection does not follow focus (see note below), the default action is typically to select the focused node.\n- Type-ahead is recommended for all trees, especially for trees with more than 7 root nodes:\n  - Type a character: focus moves to the next node with a name that starts with the typed character.\n  - Type multiple characters in rapid succession: focus moves to the next node with a name that starts with the string of characters typed.\n- `*` (Optional): Expands all siblings that are at the same level as the current node.\n- **Selection in multi-select trees:** Authors may implement either of two interaction models to support multiple selection: a recommended model that does not require the user to hold a modifier key, such as `Shift` or `Control`, while navigating the list or an alternative model that does require modifier keys to be held while navigating in order to avoid losing selection states.\n  - Recommended selection model -- holding a modifier key while moving focus is not necessary:\n    - `Space`: Toggles the selection state of the focused node.\n    - `Shift` + `Down Arrow` (Optional): Moves focus to and toggles the selection state of the next node.\n    - `Shift` + `Up Arrow` (Optional): Moves focus to and toggles the selection state of the previous node.\n    - `Shift` + `Space` (Optional): Selects contiguous nodes from the most recently selected node to the current node.\n    - `Control` + `Shift` + `Home` (Optional): Selects the node with focus and all nodes up to the first node.\n      Optionally, moves focus to the first node.\n    - `Control` + `Shift` + `End` (Optional): Selects the node with focus and all nodes down to the last node.\n      Optionally, moves focus to the last node.\n    - `Control` + `A` (Optional): Selects all nodes in the tree.\n      Optionally, if all nodes are selected, it can also unselect all nodes.\n  - Alternative selection model -- Moving focus without holding the `Shift` or `Control` modifier unselects all selected nodes except for the focused node:\n    - `Shift` + `Down Arrow`: Moves focus to and toggles the selection state of the next node.\n    - `Shift` + `Up Arrow`: Moves focus to and toggles the selection state of the previous node.\n    - `Control` + `Down Arrow`: Without changing the selection state, moves focus to the next node.\n    - `Control` + `Up Arrow`: Without changing the selection state, moves focus to the previous node.\n    - `Control` + `Space`: Toggles the selection state of the focused node.\n    - `Shift` + `Space` (Optional): Selects contiguous nodes from the most recently selected node to the current node.\n    - `Control` + `Shift` + `Home` (Optional): Selects the node with focus and all nodes up to the first node.\n      Optionally, moves focus to the first node.\n    - `Control` + `Shift` + `End` (Optional): Selects the node with focus and all nodes down to the last node.\n      Optionally, moves focus to the last node.\n    - `Control` + `A` (Optional): Selects all nodes in the tree.\n      Optionally, if all nodes are selected, it can also unselect all nodes.\n\n### Note\n\n1. DOM focus (the active element) is functionally distinct from the selected state.\n   For more details, see [this description of differences between focus and selection](../../practices/keyboard-interface/#kbd_focus_vs_selection).\n2. The `tree` role supports the [aria-activedescendant](https://w3c.github.io/aria/#aria-activedescendant) property, which provides an alternative to moving DOM focus among `treeitem` elements when implementing keyboard navigation.\n   For details, see [Managing Focus in Composites Using aria-activedescendant](../../practices/keyboard-interface/#kbd_focus_activedescendant).\n3. In a single-select tree, moving focus may optionally unselect the previously selected node and select the newly focused node.\n   This model of selection is known as \"selection follows focus\".\n   Having selection follow focus can be very helpful in some circumstances and can severely degrade accessibility in others.\n   For additional guidance, see [Deciding When to Make Selection Automatically Follow Focus](../../practices/keyboard-interface/#kbd_selection_follows_focus).\n4. If selecting or unselecting all nodes is an important function, implementing separate controls for these actions, such as buttons for \"Select All\" and \"Unselect All\", significantly improves accessibility.\n5. If the nodes in a tree are arranged horizontally:\n   1. `Down Arrow` performs as `Right Arrow` is described above, and vice versa.\n   2. `Up Arrow` performs as `Left Arrow` is described above, and vice versa.\n\n## WAI-ARIA Roles, States, and Properties\n\n- All tree nodes are contained in or owned by an element with role [tree](https://w3c.github.io/aria/#tree).\n- Each element serving as a tree node has role [treeitem](https://w3c.github.io/aria/#treeitem).\n- Each root node is contained in the element with role `tree` or referenced by an [aria-owns](https://w3c.github.io/aria/#aria-owns) property set on the `tree` element.\n- Each parent node contains or owns an element with role [group](https://w3c.github.io/aria/#group).\n- Each child node is contained in or owned by an element with role [group](https://w3c.github.io/aria/#group) that is contained in or owned by the node that serves as the parent of that child.\n- Each element with role `treeitem` that serves as a parent node has [aria-expanded](https://w3c.github.io/aria/#aria-expanded) set to `false` when the node is in a closed state and set to `true` when the node is in an open state.\n  End nodes do not have the `aria-expanded` attribute because, if they were to have it, they would be incorrectly described to assistive technologies as parent nodes.\n- If the tree supports selection of more than one node, the element with role `tree` has [aria-multiselectable](https://w3c.github.io/aria/#aria-multiselectable) set to `true`.\n  Otherwise, `aria-multiselectable` is either set to `false` or the default value of `false` is implied.\n- The selection state of each selectable node is indicated with either [aria-selected](https://w3c.github.io/aria/#aria-selected) or [aria-checked](https://w3c.github.io/aria/#aria-checked):\n  - If the selection state is indicated with `aria-selected`, then `aria-checked` is not specified for any nodes.\n    Alternatively, if the selection state is indicated with `aria-checked`, then `aria-selected` is not specified for any nodes.\n    See notes below regarding considerations for which property to use and for details of the unusual conditions that might allow for both properties in the same tree.\n  - If any nodes are selected, each selected node has either [aria-selected](https://w3c.github.io/aria/#aria-selected) or [aria-checked](https://w3c.github.io/aria/#aria-checked) set to `true`.\n    No more than one node is selected at a time if the element with role `tree` does *not* have [aria-multiselectable](https://w3c.github.io/aria/#aria-multiselectable) set to `true`.\n  - All nodes that are selectable but not selected have either [aria-selected](https://w3c.github.io/aria/#aria-selected) or [aria-checked](https://w3c.github.io/aria/#aria-checked) set to `false`.\n  - If the tree contains nodes that are not selectable, neither [aria-selected](https://w3c.github.io/aria/#aria-selected) nor [aria-checked](https://w3c.github.io/aria/#aria-checked) is present on those nodes.\n  - Note that except in trees where selection follows focus, the selected state is distinct from focus.\n    For more details, see [this description of differences between focus and selection](../../practices/keyboard-interface/#kbd_focus_vs_selection)\n    and [Deciding When to Make Selection Automatically Follow Focus](../../practices/keyboard-interface/#kbd_selection_follows_focus).\n- The element with role `tree` has either a visible label referenced by [aria-labelledby](https://w3c.github.io/aria/#aria-labelledby) or a value specified for [aria-label](https://w3c.github.io/aria/#aria-label).\n- If the complete set of available nodes is not present in the DOM due to dynamic loading as the user moves focus in or scrolls the tree, each node has [aria-level](https://w3c.github.io/aria/#aria-level), [aria-setsize](https://w3c.github.io/aria/#aria-setsize), and [aria-posinset](https://w3c.github.io/aria/#aria-posinset) specified.\n- If the `tree` element is horizontally oriented, it has [aria-orientation](https://w3c.github.io/aria/#aria-orientation) set to `horizontal`.\n  The default value of `aria-orientation` for a tree is `vertical`.\n\n### Note\n\n1. Some factors to consider when choosing whether to indicate selection with `aria-selected` or `aria-checked` are:\n   - Some design systems use `aria-selected` for single-select widgets and `aria-checked` for multi-select widgets.\n     In the absence of factors that would make an alternative convention more appropriate, this is a recommended convention.\n   - The language of instructions and the appearance of the interface might suggest one attribute is more appropriate than the other.\n     For instance, do instructions say to \"select\" items? Or, is the visual indicator of selection a check mark?\n   - It is important to adopt a consistent convention for selection models across a site or app.\n2. Conditions that would permit a tree to include both `aria-selected` and `aria-checked` are extremely rare.\n   It is strongly recommended to avoid designing a tree widget that would have the need for more than one type of state.\n   If both states were to be used within a tree, all the following conditions need to be satisfied:\n   - The meaning and purpose of `aria-selected` is different from the meaning and purpose of `aria-checked` in the user interface.\n   - The user interface makes the meaning and purpose of each state apparent.\n   - The user interface provides a separate method for controlling each state.\n3. If [aria-owns](https://w3c.github.io/aria/#aria-owns) is set on the tree container to include elements that are not DOM children of the container, those elements will appear in the reading order in the sequence they are referenced and after any items that are DOM children.\n   Scripts that manage focus need to ensure the visual focus order matches this assistive technology reading order.",
  "tags": [
    "aria",
    "accessibility",
    "patterns",
    "w3c"
  ],
  "extracted_at": "2026-02-03T14:24:22.505645+00:00",
  "content_length": 12960,
  "content_hash": "b34661fd25950fab"
}