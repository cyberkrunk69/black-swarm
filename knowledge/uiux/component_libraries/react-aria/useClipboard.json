{
  "id": "react-aria__react-aria_useClipboard_html",
  "source_id": "react-aria",
  "source_name": "React Aria",
  "category": "component_libraries",
  "url": "https://react-spectrum.adobe.com/react-aria/useClipboard.html",
  "title": "useClipboard",
  "content": "useClipboard\nHandles clipboard interactions for a focusable element. Supports items of multiple\ndata types, and integrates with the operating system native clipboard.\nIntroduction\nCopy and paste is a common way to transfer data between locations, either within or between apps. Browsers support copy and paste of selected text content by default, but rich objects with custom data can also be copied and pasted using the\nclipboard events\nAPI. For example, an app could support copying and pasting a selected card representing a rich object to a new location, or allow a user to paste files from their device to upload them. This can provide a keyboard accessible alternative to drag and drop.\nThe\nuseClipboard\nhook provides a simple way to implement copy and paste for a focusable element. When focused, users can press keyboard shortcuts like\n\u00e2\u008c\u0098C\nand\n\u00e2\u008c\u0098V\n, or even use the browser's \"Copy\" and \"Paste\" menu commands, to trigger clipboard events. Multiple items can be copied and pasted at once, each represented in one or more different data formats. Because it uses native browser APIs under the hood, copy and paste uses the operating system clipboard, which means it works between applications (e.g. Finder, Windows Explorer, a native email app, etc.) in addition to within the app.\nExample\nThis example shows a simple focusable element which supports copying a string when focused, and another element which supports pasting plain text.\nHello world\n\u00e2\u008c\u0098C\nPaste here\n\u00e2\u008c\u0098V\nExample\nuseClipboardExample.css\nExample\nuseClipboardExample.css\nimport\nReact\nfrom\n'react'\n;\nimport\ntype\n{TextDropItem}\nfrom\n'react-aria'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\n;\nimport\n'./useClipboardExample.css'\n;\nimport\n'./theme.css'\n;\nfunction\nCopyable() {\nlet\n{clipboardProps} =\nuseClipboard\n({\ngetItems\n() {\nreturn\n[{\n'text/plain'\n:\n'Hello world'\n}];\n    }\n  });\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Copyable text\"\n>\n      Hello world\n      <\nkbd\n>\u00e2\u008c\u0098C</\nkbd\n>\n    </\ndiv\n>\n  );\n}\nfunction\nPasteable() {\nlet\n[\npasted\n,\nsetPasted\n] = React.\nuseState\n<any[] | string | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\nlet\npasted\n=\nawait\nPromise.\nall\n(\nitems\n.\nfilter\n((\nitem\n):\nitem\nis TextDropItem =>\nitem\n.\nkind\n===\n'text'\n&&\nitem\n.\ntypes\n.\nhas\n(\n'text/plain'\n))\n          .\nmap\n((\nitem\n) =>\nitem\n.\ngetText\n(\n'text/plain'\n))\n      );\nsetPasted\n(\npasted\n.\njoin\n(\n'\\n'\n));\n    }\n  });\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Paste target\"\n>\n      {\npasted\n||\n'Paste here'\n}\n      <\nkbd\n>\u00e2\u008c\u0098V</\nkbd\n>\n    </\ndiv\n>\n  );\n}\n\n<\ndiv\n>\n  <\nCopyable\n/>\n  <\nPasteable\n/>\n</\ndiv\n>\nExpand code\nCopy data\nData to copy can be provided in multiple formats at once. This allows the destination where the user pastes to choose the data that it understands.  For example, you could serialize a complex object as JSON in a custom format for use within your own application, and also provide plain text and/or rich HTML fallbacks that can be used when a user pastes in an external application (e.g. an email message).\nThis can be done by returning multiple keys for an item from the\ngetItems\nfunction. Types can either be a standard\nmime type\nfor interoperability with external applications, or a custom string for use within your own app.\nIn addition to providing items in multiple formats, you can also return multiple drag items from\ngetItems\nto transfer multiple objects in a single copy and paste operation.\nThis example copies two items, each of which contains representations as plain text, HTML, and a custom app-specific data format. Pasting on the target will use the custom data format to render formatted items. If you paste in an external application supporting rich text, the HTML representation will be used. Dropping in a text editor will use the plain text format.\nhello world\nfoo bar\n\u00e2\u008c\u0098C\nPaste here\n\u00e2\u008c\u0098V\nimport\nReact\nfrom\n'react'\n;\nimport\ntype\n{TextDropItem}\nfrom\n'react-aria'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\n;\nfunction\nCopyable() {\nlet\n{clipboardProps} =\nuseClipboard\n({\ngetItems\n() {\nreturn\n[{\n'text/plain'\n:\n'hello world'\n,\n'text/html'\n:\n'<strong>hello world</strong>'\n,\n'my-app-custom-type'\n: JSON.\nstringify\n({\nmessage\n:\n'hello world'\n,\nstyle\n:\n'bold'\n})\n      }, {\n'text/plain'\n:\n'foo bar'\n,\n'text/html'\n:\n'<em>foo bar</em>'\n,\n'my-app-custom-type'\n: JSON.\nstringify\n({\nmessage\n:\n'foo bar'\n,\nstyle\n:\n'italic'\n})\n      }];\n    }\n  });\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}>\n      <\ndiv\n>\n        <\ndiv\n><\nstrong\n>hello world</\nstrong\n></\ndiv\n>\n        <\ndiv\n><\nem\n>foo bar</\nem\n></\ndiv\n>\n      </\ndiv\n>\n      <\nkbd\n>\u00e2\u008c\u0098C</\nkbd\n>\n    </\ndiv\n>\n  );\n}\nfunction\nPasteable() {\n</\ndiv\n>\nlet\n[\npasted\n,\nsetPasted\n] = React.\nuseState\n<any[] | string | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\nlet\npasted\n=\nawait\nPromise.\nall\n(\nitems\n.\nfilter\n((\nitem\n):\nitem\nis TextDropItem =>\nitem\n.\nkind\n===\n'text'\n&& (\nitem\n.\ntypes\n.\nhas\n(\n'text/plain'\n) ||\nitem\n.\ntypes\n.\nhas\n(\n'my-app-custom-type'\n)))\n          .\nmap\n(\nasync\n(\nitem\n) => {\nif\n(\nitem\n.\ntypes\n.\nhas\n(\n'my-app-custom-type'\n)) {\nreturn\nJSON.\nparse\n(\nawait\nitem\n.\ngetText\n(\n'my-app-custom-type'\n));\n            }\nelse\n{\nreturn\n{\nmessage\n:\nawait\nitem\n.\ngetText\n(\n'text/plain'\n)};\n            }\n          })\n      );\nsetPasted\n(\npasted\n);\n    }\n  });\nlet\nmessage\n: React.ReactElement[] = [<\ndiv\nkey\n=\n\"placeholder\"\n>Paste here</\ndiv\n>];\nif\n(\npasted\n&& Array.\nisArray\n(\npasted\n)) {\nmessage\n=\npasted\n.\nmap\n((\nd\n,\ni\n) => {\nlet\nmessage\n=\nd\n.\nmessage\n;\nif\n(\nd\n.\nstyle\n===\n'bold'\n) {\nmessage\n= <\nstrong\n>{\nmessage\n}</\nstrong\n>;\n      }\nelse\nif\n(\nd\n.\nstyle\n===\n'italic'\n) {\nmessage\n= <\nem\n>{\nmessage\n}</\nem\n>;\n      }\nreturn\n<\ndiv\nkey\n={\ni\n}>{\nmessage\n}</\ndiv\n>;\n    });\n  }\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Rich text paste target\"\n>\n      <\ndiv\n>{\nmessage\n||\n'Paste here'\n}</\ndiv\n>\n      <\nkbd\n>\u00e2\u008c\u0098V</\nkbd\n>\n    </\ndiv\n>\n  );\n}\n\n<\ndiv\n>\n  <\nCopyable\n/>\n  <\nPasteable\n/>\n</\ndiv\n>\nExpand code\nPaste data\nuseClipboard\nallows users to paste one or more items, each of which contains data to be pasted. There are three kinds of items:\ntext\n\u00e2\u0080\u0093 represents data inline as a string in one or more formats\nfile\n\u00e2\u0080\u0093 references a file on the user's device\ndirectory\n\u00e2\u0080\u0093 references the contents of a directory\nText\nA\nTextDropItem\nrepresents textual data in one or more different formats. These may be either standard\nmime types\nor custom app-specific formats. Representing data in multiple formats allows drop targets both within and outside an application to choose data in a format that they understand. For example, a complex object may be serialized in a custom format for use within an application, with fallbacks in plain text and/or rich HTML that can be used when a user drops data from an external application.\nThe example below works with the above\nCopyable\nexample using a custom app-specific data format to transfer rich data. If no such data is available, it falls back to pasting plain text data.\nhello world\nfoo bar\n\u00e2\u008c\u0098C\nPaste here\n\u00e2\u008c\u0098V\nimport\nReact\nfrom\n'react'\n;\nimport\ntype\n{TextDropItem}\nfrom\n'react-aria'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\n;\nfunction\nCopyable() {\n}\nlet\n{clipboardProps} =\nuseClipboard\n({\ngetItems\n() {\nreturn\n[{\n'text/plain'\n:\n'hello world'\n,\n'text/html'\n:\n'<strong>hello world</strong>'\n,\n'my-app-custom-type'\n: JSON.\nstringify\n({\nmessage\n:\n'hello world'\n,\nstyle\n:\n'bold'\n})\n      }, {\n'text/plain'\n:\n'foo bar'\n,\n'text/html'\n:\n'<em>foo bar</em>'\n,\n'my-app-custom-type'\n: JSON.\nstringify\n({\nmessage\n:\n'foo bar'\n,\nstyle\n:\n'italic'\n})\n      }];\n    }\n  });\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Rich text to copy\"\n>\n      <\ndiv\n>\n        <\ndiv\n><\nstrong\n>hello world</\nstrong\n></\ndiv\n>\n        <\ndiv\n><\nem\n>foo bar</\nem\n></\ndiv\n>\n      </\ndiv\n>\n      <\nkbd\n>\u00e2\u008c\u0098C</\nkbd\n>\n    </\ndiv\n>\n  );\n}\nfunction\nPasteable() {\nlet\n[\npasted\n,\nsetPasted\n] = React.\nuseState\n<any[] | string | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\nlet\npasted\n=\nawait\nPromise.\nall\n(\nitems\n.\nfilter\n((\nitem\n):\nitem\nis TextDropItem =>\nitem\n.\nkind\n===\n'text'\n&& (\nitem\n.\ntypes\n.\nhas\n(\n'text/plain'\n) ||\nitem\n.\ntypes\n.\nhas\n(\n'my-app-custom-type'\n)))\n          .\nmap\n(\nasync\n(\nitem\n) => {\nif\n(\nitem\n.\ntypes\n.\nhas\n(\n'my-app-custom-type'\n)) {\nreturn\nJSON.\nparse\n(\nawait\nitem\n.\ngetText\n(\n'my-app-custom-type'\n));\n            }\nelse\n{\nreturn\n{\nmessage\n:\nawait\nitem\n.\ngetText\n(\n'text/plain'\n)};\n            }\n          })\n      );\nsetPasted\n(\npasted\n);\n    }\n  });\nlet\nmessage\n: React.ReactElement[] = [<\ndiv\nkey\n=\n\"placeholder\"\n>Paste here</\ndiv\n>];\nif\n(\npasted\n&& Array.\nisArray\n(\npasted\n)) {\nmessage\n=\npasted\n.\nmap\n((\nd\n,\ni\n) => {\nlet\nmessage\n=\nd\n.\nmessage\n;\nif\n(\nd\n.\nstyle\n===\n'bold'\n) {\nmessage\n= <\nstrong\n>{\nmessage\n}</\nstrong\n>;\n      }\nelse\nif\n(\nd\n.\nstyle\n===\n'italic'\n) {\nmessage\n= <\nem\n>{\nmessage\n}</\nem\n>;\n      }\nreturn\n<\ndiv\nkey\n={\ni\n}>{\nmessage\n}</\ndiv\n>;\n    });\n  }\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Rich text paste target\"\n>\n      <\ndiv\n>{\nmessage\n||\n'Paste here'\n}</\ndiv\n>\n      <\nkbd\n>\u00e2\u008c\u0098V</\nkbd\n>\n    </\ndiv\n>\n  );\n}\n<\ndiv\n>\n</\ndiv\n>\n<\nCopyable\n/>\n  <\nPasteable\n/>\n</\ndiv\n>\nExpand code\nFiles\nA\nFileDropItem\nreferences a file on the user's device. It includes the name and mime type of the file, and methods to read the contents as plain text, or retrieve a native\nFile\nobject which can be attached to form data for uploading.\nThis example accepts JPEG and PNG image files, and renders them by creating a local\nobject URL\n.\nPaste image here\nimport\nReact\nfrom\n'react'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\n;\nimport\ntype\n{FileDropItem}\nfrom\n'react-aria'\n;\nfunction\nPasteable() {\nlet\n[\nfile\n,\nsetFile\n] = React.\nuseState\n<string | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\nlet\nitem\n=\nitems\n.\nfind\n(\nitem\n=>\nitem\n.\nkind\n===\n'file'\n&& (\nitem\n.\ntype\n===\n'image/jpeg'\n||\nitem\n.\ntype\n===\n'image/png'\n))\nas\nFileDropItem;\nif\n(\nitem\n) {\nsetFile\n(URL.\ncreateObjectURL\n(\nawait\nitem\n.\ngetFile\n()));\n      }\n    }\n  });\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\nstyle\n={{\nwidth\n:\n150\n,\nheight\n:\n100\n}}\naria-label\n=\n\"Image paste target\"\n>\n      {\nfile\n? <\nimg\nsrc\n={\nfile\n}\nalt\n=\n\"Pasted image\"\nstyle\n={{\nwidth\n:\n'100%'\n,\nheight\n:\n'100%'\n,\nobjectFit\n:\n'contain'\n}} /> :\n'Paste image here'\n}\n    </\ndiv\n>\n  );\n}\nExpand code\nDirectories\nA\nDirectoryDropItem\nreferences the contents of a directory on the user's device. It includes the name of the directory, as well as a method to iterate through the files and folders within the directory. The contents of any folders within the directory can be accessed recursively.\nThe\ngetEntries\nmethod returns an\nasync iterable\nobject, which can be used in a\nfor await...of\nloop. This provides each item in the directory as either a\nFileDropItem\nor\nDirectoryDropItem\n, and you can access the contents of each file as discussed above.\nThis example renders the file names within a dropped directory in a grid.\nPaste directory here\nExample\nuseClipboardGrid.css\nExample\nuseClipboardGrid.css\nimport\nReact\nfrom\n'react'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\nimport\ntype\n{DirectoryDropItem}\nfrom\n'react-aria'\n;\nimport\nFile\nfrom\n'@react-spectrum/s2/icons/File'\n;\nimport\nFolder\nfrom\n'@react-spectrum/s2/icons/Folder'\n;\nimport\n'./useClipboardGrid.css'\n;\nfunction\nPasteable() {\nlet\n[\nfiles\n,\nsetFiles\n] = React.\nuseState\n<Array<{\nname\n: string,\nkind\n:\n'file'\n|\n'directory'\n}> | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\n// Find the first dropped item that is a directory.\nlet\ndir\n=\nitems\n.\nfind\n(\nitem\n=>\nitem\n.\nkind\n===\n'directory'\n)\nas\nDirectoryDropItem;\nif\n(\ndir\n) {\n// Read entries in directory and update state with relevant info.\nlet\nfiles\n: Array<{\nname\n: string,\nkind\n:\n'file'\n|\n'directory'\n}> = [];\nfor\nawait\n(\nlet\nentry\nof\ndir\n.\ngetEntries\n()) {\nfiles\n.\npush\n({\nname\n:\nentry\n.\nname\n,\nkind\n:\nentry\n.\nkind\n});\n        }\nsetFiles\n(\nfiles\n);\n      }\n    }\n  });\nlet\ncontents\n= <>Paste directory here</>;\nif\n(\nfiles\n) {\ncontents\n= (\n      <\nul\n>\n        {\nfiles\n.\nmap\n(\nf\n=> (\n          <\nli\nkey\n={\nf\n.\nname\n}>\n            {\nf\n.\nkind\n===\n'directory'\n? <\nFolder\n/> : <\nFile\n/>}\n            <\nspan\n>{\nf\n.\nname\n}</\nspan\n>\n          </\nli\n>\n        ))}\n      </\nul\n>\n    );\n  }\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\nclassName\n=\n\"grid\"\naria-label\n=\n\"Directory paste target\"\n>\n      {\ncontents\n}\n    </\ndiv\n>\n  );\n}\nExpand code\nDisabling copy and paste\nIf you need to temporarily disable copying and pasting, you can pass the\nisDisabled\noption to\nuseClipboard\n. This will prevent copying and pasting on the element until it is re-enabled.\nHello world\n\u00e2\u008c\u0098C\nPaste here\n\u00e2\u008c\u0098V\nimport\nReact\nfrom\n'react'\n;\nimport\ntype\n{TextDropItem}\nfrom\n'react-aria'\n;\nimport\n{\nuseClipboard\n}\nfrom\n'react-aria'\n;\nfunction\nCopyable() {\nlet\n{clipboardProps} =\nuseClipboard\n({\ngetItems\n() {\nreturn\n[{\n'text/plain'\n:\n'Hello world'\n}];\n    },\nisDisabled\n: true\n});\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Disabled copyable text\"\n>\n      Hello world\n      <\nkbd\n>\u00e2\u008c\u0098C</\nkbd\n>\n    </\ndiv\n>\n  );\n}\nfunction\nPasteable() {\nlet\n[\npasted\n,\nsetPasted\n] = React.\nuseState\n<any[] | string | null>(null);\nlet\n{clipboardProps} =\nuseClipboard\n({\nasync\nonPaste\n(\nitems\n) {\nlet\npasted\n=\nawait\nPromise.\nall\n(\nitems\n.\nfilter\n((\nitem\n):\nitem\nis TextDropItem =>\nitem\n.\nkind\n===\n'text'\n&&\nitem\n.\ntypes\n.\nhas\n(\n'text/plain'\n))\n          .\nmap\n((\nitem\n) =>\nitem\n.\ngetText\n(\n'text/plain'\n))\n      );\nsetPasted\n(\npasted\n.\njoin\n(\n'\\n'\n));\n    },\nisDisabled\n: true\n});\nreturn\n(\n    <\ndiv\nrole\n=\n\"textbox\"\ntabIndex\n={\n0\n} {...\nclipboardProps\n}\naria-label\n=\n\"Disabled paste target\"\n>\n      {\npasted\n||\n'Paste here'\n}\n      <\nkbd\n>\u00e2\u008c\u0098V</\nkbd\n>\n    </\ndiv\n>\n  );\n}\n\n<\ndiv\n>\n  <\nCopyable\n/>\n  <\nPasteable\n/>\n</\ndiv\n>\nExpand code\nAPI\nuseClipboard\n(\noptions\n:\nClipboardProps\n)\n:\nClipboardResult\nClipboardProps\nName\nType\nisDisabled\nboolean\nWhether the clipboard is disabled.\nonPaste\n(\nitems\n:\nDropItem\n[]\n)\n=>\nvoid\nHandler that is called when the user triggers a paste interaction.\nonCut\n(\n)\n=>\nvoid\nHandler that is called when the user triggers a cut interaction.\nonCopy\n(\n)\n=>\nvoid\nHandler that is called when the user triggers a copy interaction.\ngetItems\n(\ndetails\n:\n{\naction\n:\n'cut'\n|\u00c2\n'copy'\n}\n)\n=>\nDragItem\n[]\nA function that returns the items to copy.\nClipboardResult\nName\nType\nclipboardProps\nDOMAttributes\nProps for the element that will handle clipboard events.",
  "content_markdown": "# useClipboard\n\nHandles clipboard interactions for a focusable element. Supports items of multiple\ndata types, and integrates with the operating system native clipboard.\n\n## Introduction\n\nCopy and paste is a common way to transfer data between locations, either within or between apps. Browsers support copy and paste of selected text content by default, but rich objects with custom data can also be copied and pasted using the [clipboard events](https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent) API. For example, an app could support copying and pasting a selected card representing a rich object to a new location, or allow a user to paste files from their device to upload them. This can provide a keyboard accessible alternative to drag and drop.\n\nThe useClipboard hook provides a simple way to implement copy and paste for a focusable element. When focused, users can press keyboard shortcuts like `\u00e2\u008c\u0098C` and `\u00e2\u008c\u0098V`, or even use the browser's \"Copy\" and \"Paste\" menu commands, to trigger clipboard events. Multiple items can be copied and pasted at once, each represented in one or more different data formats. Because it uses native browser APIs under the hood, copy and paste uses the operating system clipboard, which means it works between applications (e.g. Finder, Windows Explorer, a native email app, etc.) in addition to within the app.\n\n## Example\n\nThis example shows a simple focusable element which supports copying a string when focused, and another element which supports pasting plain text.\n\nHello world`\u00e2\u008c\u0098C`\n\nPaste here`\u00e2\u008c\u0098V`\n\nExample\n\nuseClipboardExample.css\n\nExample\n\nuseClipboardExample.css\n\nExample\n\nuseClipboardExample.css\n\n```\nimport React from 'react';\nimport type {TextDropItem} from 'react-aria';\nimport {useClipboard} from 'react-aria';\nimport './useClipboardExample.css';\nimport './theme.css';\n\nfunction Copyable() {\n  let {clipboardProps} = useClipboard({\n    getItems() {\n      return [{\n        'text/plain': 'Hello world'\n      }];\n    }\n  });\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Copyable text\">\n      Hello world\n      <kbd>\u00e2\u008c\u0098C</kbd>\n    </div>\n  );\n}\n\nfunction Pasteable() {\n  let [pasted, setPasted] = React.useState<any[] | string | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      let pasted = await Promise.all(\n        items\n          .filter((item): item is TextDropItem => item.kind === 'text' && item.types.has('text/plain'))\n          .map((item) => item.getText('text/plain'))\n      );\n      setPasted(pasted.join('\\n'));\n    }\n  });\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Paste target\">\n      {pasted || 'Paste here'}\n      <kbd>\u00e2\u008c\u0098V</kbd>\n    </div>\n  );\n}\n\n<div>\n  <Copyable />\n  <Pasteable />\n</div>\n```\n\nExpand code\n\n## Copy data\n\nData to copy can be provided in multiple formats at once. This allows the destination where the user pastes to choose the data that it understands. For example, you could serialize a complex object as JSON in a custom format for use within your own application, and also provide plain text and/or rich HTML fallbacks that can be used when a user pastes in an external application (e.g. an email message).\n\nThis can be done by returning multiple keys for an item from the `getItems` function. Types can either be a standard [mime type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types) for interoperability with external applications, or a custom string for use within your own app.\n\nIn addition to providing items in multiple formats, you can also return multiple drag items from `getItems` to transfer multiple objects in a single copy and paste operation.\n\nThis example copies two items, each of which contains representations as plain text, HTML, and a custom app-specific data format. Pasting on the target will use the custom data format to render formatted items. If you paste in an external application supporting rich text, the HTML representation will be used. Dropping in a text editor will use the plain text format.\n\n**hello world**\n\n*foo bar*\n\n`\u00e2\u008c\u0098C`\n\nPaste here\n\n`\u00e2\u008c\u0098V`\n\n```\nimport React from 'react';\nimport type {TextDropItem} from 'react-aria';\nimport {useClipboard} from 'react-aria';\n\nfunction Copyable() {\n  let {clipboardProps} = useClipboard({\n    getItems() {\n      return [{\n        'text/plain': 'hello world',\n        'text/html': '<strong>hello world</strong>',\n        'my-app-custom-type': JSON.stringify({\n          message: 'hello world',\n          style: 'bold'\n        })\n      }, {\n        'text/plain': 'foo bar',\n        'text/html': '<em>foo bar</em>',\n        'my-app-custom-type': JSON.stringify({\n          message: 'foo bar',\n          style: 'italic'\n        })\n      }];\n    }\n  });\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps}>\n      <div>\n        <div><strong>hello world</strong></div>\n        <div><em>foo bar</em></div>\n      </div>\n      <kbd>\u00e2\u008c\u0098C</kbd>\n    </div>\n  );\n}\n\nfunction Pasteable() {</div>\n\nlet [pasted, setPasted] = React.useState<any[] | string | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      let pasted = await Promise.all(\n        items\n          .filter((item): item is TextDropItem => item.kind === 'text' && (item.types.has('text/plain') || item.types.has('my-app-custom-type')))\n          .map(async (item) => {\n            if (item.types.has('my-app-custom-type')) {\n              return JSON.parse(await item.getText('my-app-custom-type'));\n            } else {\n              return {message: await item.getText('text/plain')};\n            }\n          })\n      );\n      setPasted(pasted);\n    }\n  });\n\n  let message: React.ReactElement[] = [<div key=\"placeholder\">Paste here</div>];\n  if (pasted && Array.isArray(pasted)) {\n    message = pasted.map((d, i) => {\n      let message = d.message;\n      if (d.style === 'bold') {\n        message = <strong>{message}</strong>;\n      } else if (d.style === 'italic') {\n        message = <em>{message}</em>;\n      }\n      return <div key={i}>{message}</div>;\n    });\n  }\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Rich text paste target\">\n      <div>{message || 'Paste here'}</div>\n      <kbd>\u00e2\u008c\u0098V</kbd>\n    </div>\n  );\n}\n\n<div>\n  <Copyable />\n  <Pasteable />\n</div>\n```\n\nExpand code\n\n## Paste data\n\n`useClipboard` allows users to paste one or more items, each of which contains data to be pasted. There are three kinds of items:\n\n- `text` \u00e2\u0080\u0093 represents data inline as a string in one or more formats\n- `file` \u00e2\u0080\u0093 references a file on the user's device\n- `directory` \u00e2\u0080\u0093 references the contents of a directory\n\n### Text\n\nA TextDropItem represents textual data in one or more different formats. These may be either standard [mime types](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types) or custom app-specific formats. Representing data in multiple formats allows drop targets both within and outside an application to choose data in a format that they understand. For example, a complex object may be serialized in a custom format for use within an application, with fallbacks in plain text and/or rich HTML that can be used when a user drops data from an external application.\n\nThe example below works with the above `Copyable` example using a custom app-specific data format to transfer rich data. If no such data is available, it falls back to pasting plain text data.\n\n**hello world**\n\n*foo bar*\n\n`\u00e2\u008c\u0098C`\n\nPaste here\n\n`\u00e2\u008c\u0098V`\n\n```\nimport React from 'react';\nimport type {TextDropItem} from 'react-aria';\nimport {useClipboard} from 'react-aria';\n\nfunction Copyable() {}\n\nlet {clipboardProps} = useClipboard({\n    getItems() {\n      return [{\n        'text/plain': 'hello world',\n        'text/html': '<strong>hello world</strong>',\n        'my-app-custom-type': JSON.stringify({\n          message: 'hello world',\n          style: 'bold'\n        })\n      }, {\n        'text/plain': 'foo bar',\n        'text/html': '<em>foo bar</em>',\n        'my-app-custom-type': JSON.stringify({\n          message: 'foo bar',\n          style: 'italic'\n        })\n      }];\n    }\n  });\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Rich text to copy\">\n      <div>\n        <div><strong>hello world</strong></div>\n        <div><em>foo bar</em></div>\n      </div>\n      <kbd>\u00e2\u008c\u0098C</kbd>\n    </div>\n  );\n}\n\nfunction Pasteable() {\n  let [pasted, setPasted] = React.useState<any[] | string | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      let pasted = await Promise.all(\n        items\n          .filter((item): item is TextDropItem => item.kind === 'text' && (item.types.has('text/plain') || item.types.has('my-app-custom-type')))\n          .map(async (item) => {\n            if (item.types.has('my-app-custom-type')) {\n              return JSON.parse(await item.getText('my-app-custom-type'));\n            } else {\n              return {message: await item.getText('text/plain')};\n            }\n          })\n      );\n      setPasted(pasted);\n    }\n  });\n\n  let message: React.ReactElement[] = [<div key=\"placeholder\">Paste here</div>];\n  if (pasted && Array.isArray(pasted)) {\n    message = pasted.map((d, i) => {\n      let message = d.message;\n      if (d.style === 'bold') {\n        message = <strong>{message}</strong>;\n      } else if (d.style === 'italic') {\n        message = <em>{message}</em>;\n      }\n      return <div key={i}>{message}</div>;\n    });\n  }\n\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Rich text paste target\">\n      <div>{message || 'Paste here'}</div>\n      <kbd>\u00e2\u008c\u0098V</kbd>\n    </div>\n  );\n}\n\n<div></div>\n\n<Copyable />\n  <Pasteable />\n</div>\n```\n\nExpand code\n\n### Files\n\nA FileDropItem references a file on the user's device. It includes the name and mime type of the file, and methods to read the contents as plain text, or retrieve a native [File](https://developer.mozilla.org/en-US/docs/Web/API/File) object which can be attached to form data for uploading.\nThis example accepts JPEG and PNG image files, and renders them by creating a local [object URL](https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL).\n\nPaste image here\n\n```\nimport React from 'react';\nimport {useClipboard} from 'react-aria';\nimport type {FileDropItem} from 'react-aria';\n\nfunction Pasteable() {\n  let [file, setFile] = React.useState<string | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      let item = items.find(item => item.kind === 'file' && (item.type === 'image/jpeg' || item.type === 'image/png')) as FileDropItem;\n      if (item) {\n        setFile(URL.createObjectURL(await item.getFile()));\n      }\n    }\n  });\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} style={{width: 150, height: 100}} aria-label=\"Image paste target\">\n      {file ? <img src={file} alt=\"Pasted image\" style={{width: '100%', height: '100%', objectFit: 'contain'}} /> : 'Paste image here'}\n    </div>\n  );\n}\n```\n\nExpand code\n\n### Directories\n\nA DirectoryDropItem references the contents of a directory on the user's device. It includes the name of the directory, as well as a method to iterate through the files and folders within the directory. The contents of any folders within the directory can be accessed recursively.\nThe `getEntries` method returns an [async iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of) object, which can be used in a `for await...of` loop. This provides each item in the directory as either a FileDropItem or DirectoryDropItem, and you can access the contents of each file as discussed above.\nThis example renders the file names within a dropped directory in a grid.\n\nPaste directory here\n\nExample\n\nuseClipboardGrid.css\n\nExample\n\nuseClipboardGrid.css\n\nExample\n\nuseClipboardGrid.css\n\n```\nimport React from 'react';\nimport {useClipboard} from 'react-aria'\nimport type {DirectoryDropItem} from 'react-aria';\nimport File from '@react-spectrum/s2/icons/File';\nimport Folder from '@react-spectrum/s2/icons/Folder';\nimport './useClipboardGrid.css';\n\nfunction Pasteable() {\n  let [files, setFiles] = React.useState<Array<{name: string, kind: 'file' | 'directory'}> | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      // Find the first dropped item that is a directory.\n      let dir = items.find(item => item.kind === 'directory') as DirectoryDropItem;\n      if (dir) {\n        // Read entries in directory and update state with relevant info.\n        let files: Array<{name: string, kind: 'file' | 'directory'}> = [];\n        for await (let entry of dir.getEntries()) {\n          files.push({\n            name: entry.name,\n            kind: entry.kind\n          });\n        }\n        setFiles(files);\n      }\n    }\n  });\n  let contents = <>Paste directory here</>;\n  if (files) {\n    contents = (\n      <ul>\n        {files.map(f => (\n          <li key={f.name}>\n            {f.kind === 'directory' ? <Folder /> : <File />}\n            <span>{f.name}</span>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} className=\"grid\" aria-label=\"Directory paste target\">\n      {contents}\n    </div>\n  );\n}\n```\n\nExpand code\n\n## Disabling copy and paste\n\nIf you need to temporarily disable copying and pasting, you can pass the `isDisabled` option to `useClipboard`. This will prevent copying and pasting on the element until it is re-enabled.\n\nHello world`\u00e2\u008c\u0098C`\n\nPaste here`\u00e2\u008c\u0098V`\n\n```\nimport React from 'react';\nimport type {TextDropItem} from 'react-aria';\nimport {useClipboard} from 'react-aria';\n\nfunction Copyable() {\n  let {clipboardProps} = useClipboard({\n    getItems() {\n      return [{\n        'text/plain': 'Hello world'\n      }];\n    },\n    isDisabled: true\n  });\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Disabled copyable text\">\n      Hello world\n      <kbd>\u00e2\u008c\u0098C</kbd>\n    </div>\n  );\n}\nfunction Pasteable() {\n  let [pasted, setPasted] = React.useState<any[] | string | null>(null);\n  let {clipboardProps} = useClipboard({\n    async onPaste(items) {\n      let pasted = await Promise.all(\n        items\n          .filter((item): item is TextDropItem => item.kind === 'text' && item.types.has('text/plain'))\n          .map((item) => item.getText('text/plain'))\n      );\n      setPasted(pasted.join('\\n'));\n    },\n    isDisabled: true\n  });\n  return (\n    <div role=\"textbox\" tabIndex={0} {...clipboardProps} aria-label=\"Disabled paste target\">\n      {pasted || 'Paste here'}\n      <kbd>\u00e2\u008c\u0098V</kbd>\n    </div>\n  );\n}\n\n<div>\n  <Copyable />\n  <Pasteable />\n</div>\n```\n\nExpand code\n\n## API\n\n`useClipboard(options: ClipboardProps): ClipboardResult`\n\n### ClipboardProps\n\n| Name | Type |\n| --- | --- |\n| `isDisabled` | `boolean` |\n| Whether the clipboard is disabled. | | |\n| `onPaste` | `(items: DropItem[]) => void` |\n| Handler that is called when the user triggers a paste interaction. | | |\n| `onCut` | `() => void` |\n| Handler that is called when the user triggers a cut interaction. | | |\n| `onCopy` | `() => void` |\n| Handler that is called when the user triggers a copy interaction. | | |\n| `getItems` | `(details: { action: 'cut' |\u00c2\u00a0'copy' }) => DragItem[]` |\n| A function that returns the items to copy. | | |\n\n### ClipboardResult\n\n| Name | Type |\n| --- | --- |\n| `clipboardProps` | `DOMAttributes` |\n| Props for the element that will handle clipboard events. | | |",
  "tags": [
    "adobe",
    "react-aria",
    "hooks",
    "accessibility"
  ],
  "extracted_at": "2026-02-03T12:39:12.589730+00:00",
  "content_length": 14659,
  "content_hash": "742bbbf06e423aab"
}