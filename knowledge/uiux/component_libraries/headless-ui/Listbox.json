{
  "id": "headless-ui__react_listbox",
  "source_id": "headless-ui",
  "source_name": "Headless UI",
  "category": "component_libraries",
  "url": "https://headlessui.com/react/listbox",
  "title": "Listbox",
  "content": "React\nVue\nListbox\nListboxes are a great foundation for building custom, accessible select menus for your app, complete with robust\nsupport for keyboard navigation.\nPreview\nCode\nInstallation\nTo get started, install Headless UI via npm:\nnpm\ninstall\n@headlessui/react\nBasic example\nListboxes are built using the\nListbox\n,\nListboxButton\n,\nListboxSelectedOption\n,\nListboxOptions\n, and\nListboxOption\ncomponents.\nThe\nListboxButton\nwill automatically open/close the\nListboxOptions\nwhen clicked, and when the listbox is open, the\nlist of options receives focus and is automatically navigable via the keyboard.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nStyling\nHeadless UI keeps track of a lot of state about each component, like which listbox option is currently selected, whether\na popover is open or closed, or which item in a menu is currently focused via the keyboard.\nBut because the components are headless and completely unstyled out of the box, you can't see this information in your\nUI until you provide the styles you want for each state yourself.\nUsing data attributes\nThe easiest way to style the different states of a Headless UI component is using the\ndata-*\nattributes that each\ncomponent exposes.\nFor example, the\nListboxOption\ncomponent exposes a\ndata-focus\nattribute, which tells you if the option is currently\nfocused via the mouse or keyboard, and a\ndata-selected\nattribute, which tells you if that option matches the current\nvalue\nof the\nListbox\n.\n<!-- Rendered `ListboxOption` -->\n<\ndiv\ndata-focus\ndata-selected\n>\nArlene Mccoy\n</\ndiv\n>\nUse the\nCSS attribute selector\nto conditionally\napply styles based on the presence of these data attributes. If you're using Tailwind CSS, the\ndata attribute modifier\nmakes this easy:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nCheckIcon\n}\nfrom\n'@heroicons/react/20/solid'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ngroup flex gap-2 bg-white data-focus:bg-blue-100\n\"\n>\n<\nCheckIcon\nclassName\n=\n\"\ninvisible size-5 group-data-selected:visible\n\"\n/>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nSee the\ncomponent API\nfor a list of all the available data attributes.\nUsing render props\nEach component also exposes information about its current state via\nrender props\nthat you can use to conditionally apply different styles or\nrender different content.\nFor example, the\nListboxOption\ncomponent exposes a\nfocus\nstate, which tells you if the option is currently focused\nvia the mouse or keyboard, and a\nselected\nstate, which tells you if that option matches the current\nvalue\nof the\nListbox\n.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nCheckIcon\n}\nfrom\n'@heroicons/react/20/solid'\nimport\nclsx\nfrom\n'clsx'\nimport\n{\nFragment\n,\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nas\n=\n{\nFragment\n}\n>\n{\n(\n{\nfocus\n,\nselected\n}\n)\n=>\n(\n<\ndiv\nclassName\n=\n{\nclsx\n(\n'flex gap-2'\n,\nfocus\n&&\n'bg-blue-100'\n)\n}\n>\n<\nCheckIcon\nclassName\n=\n{\nclsx\n(\n'size-5'\n,\n!\nselected\n&&\n'invisible'\n)\n}\n/>\n{\nperson\n.\nname\n}\n</\ndiv\n>\n)\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nSee the\ncomponent API\nfor a list of all the available render props.\nExamples\nAdding a label\nWrap a\nLabel\nand\nListbox\nwith the\nField\ncomponent to automatically associate them using a generated ID:\nimport\n{\nField\n,\nLabel\n,\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nField\n>\n<\nLabel\n>\nAssignee:\n</\nLabel\n>\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n</\nField\n>\n)\n}\nAdding a description\nUse the\nDescription\ncomponent within a\nField\nto automatically associate it with a\nListbox\nusing the\naria-describedby\nattribute:\nimport\n{\nDescription\n,\nField\n,\nLabel\n,\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nField\n>\n<\nLabel\n>\nAssignee:\n</\nLabel\n>\n<\nDescription\n>\nThis person will have full access to this project.\n</\nDescription\n>\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n</\nField\n>\n)\n}\nDisabling a listbox\nAdd the\ndisabled\nprop to the\nField\ncomponent to disable a\nListbox\nand its associated\nLabel\nand\nDescription\n:\nimport\n{\nDescription\n,\nField\n,\nLabel\n,\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nField\ndisabled\n>\n<\nLabel\n>\nAssignee:\n</\nLabel\n>\n<\nDescription\n>\nThis person will have full access to this project.\n</\nDescription\n>\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n</\nField\n>\n)\n}\nYou can also disable a listbox outside of a\nField\nby adding the disabled prop directly to the\nListbox\nitself.\nDisabling a listbox option\nUse the\ndisabled\nprop to disable a\nListboxOption\nand prevent it from being selected:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n,\navailable\n:\ntrue\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n,\navailable\n:\ntrue\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n,\navailable\n:\ntrue\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n,\navailable\n:\nfalse\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n,\navailable\n:\ntrue\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\ndisabled\n=\n{\n!\nperson\n.\navailable\n}\nclassName\n=\n\"\ndata-disabled:opacity-50 data-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nUsing with HTML forms\nIf you add the\nname\nprop to your\nListbox\n, a hidden\ninput\nelement will be rendered and kept in sync with the\nlistbox state.\nimport\n{\nField\n,\nLabel\n,\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nform\naction\n=\n\"\n/projects/1\n\"\nmethod\n=\n\"\npost\n\"\n>\n<\nField\n>\n<\nLabel\n>\nAssignee:\n</\nLabel\n>\n<\nListbox\nname\n=\n\"\nassignee\n\"\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n</\nField\n>\n<\nbutton\n>\nSubmit\n</\nbutton\n>\n</\nform\n>\n)\n}\nThis lets you use a listbox inside a native HTML\n<form>\nand make traditional form submissions as if your listbox was a\nnative HTML form control.\nBasic values like strings will be rendered as a single hidden input containing that value, but complex values like\nobjects will be encoded into multiple inputs using a square bracket notation for the names:\n<!-- Rendered hidden inputs -->\n<\ninput\ntype\n=\n\"\nhidden\n\"\nname\n=\n\"\nassignee[id]\n\"\nvalue\n=\n\"\n1\n\"\n/>\n<\ninput\ntype\n=\n\"\nhidden\n\"\nname\n=\n\"\nassignee[name]\n\"\nvalue\n=\n\"\nDurward Reynolds\n\"\n/>\nUsing as uncontrolled\nIf you omit the\nvalue\nprop, Headless UI will track its state internally for you, allowing you to use it as an\nuncontrolled component\n.\nWhen uncontrolled, use the\ndefaultValue\nprop to provide an initial value to the\nListbox\n.\nimport\n{\nField\n,\nLabel\n,\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nreturn\n(\n<\nform\naction\n=\n\"\n/projects/1\n\"\nmethod\n=\n\"\npost\n\"\n>\n<\nField\n>\n<\nLabel\n>\nAssignee:\n</\nLabel\n>\n<\nListbox\nname\n=\n\"\nassignee\n\"\ndefaultValue\n=\n{\npeople\n[\n0\n]\n}\n>\n<\nListboxButton\n>\n{\n(\n{\nvalue\n}\n)\n=>\nvalue\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n</\nField\n>\n<\nbutton\n>\nSubmit\n</\nbutton\n>\n</\nform\n>\n)\n}\nThis can simplify your code when using the listbox\nwith HTML forms\nor with form APIs that\ncollect their state using\nFormData\ninstead of tracking it\nusing React state.\nAny\nonChange\nprop you provide will still be called when the component's value changes in case you need to run any side\neffects, but you won't need to use it to track the component's state yourself.\nSetting the dropdown width\nThe\nListboxOptions\ndropdown has no width set by default, but you can add one using CSS:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\nclassName\n=\n\"\nw-52\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nIf you'd like the dropdown width to match the\nListboxButton\nwidth, use the\n--button-width\nCSS variable that's\nexposed on the\nListboxOptions\nelement:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\nclassName\n=\n\"\nw-(--button-width)\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nPositioning the dropdown\nAdd the\nanchor\nprop to the\nListboxOptions\nto automatically position the dropdown relative to the\nListboxButton\n:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom start\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nUse the values\ntop\n,\nright\n,\nbottom\n, or\nleft\nto center the dropdown along the appropriate edge, or combine it with\nstart\nor\nend\nto align the dropdown to a specific corner, such as\ntop start\nor\nbottom end\n.\nTo control the gap between the button and the dropdown, use the\n--anchor-gap\nCSS variable:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom start\n\"\nclassName\n=\n\"\n[--anchor-gap:4px] sm:[--anchor-gap:8px]\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nAdditionally, you can use\n--anchor-offset\nto control the distance that the dropdown should be nudged from its original\nposition, and\n--anchor-padding\nto control the minimum space that should exist between the dropdown and the viewport.\nThe\nanchor\nprop also supports an object API that allows you to control the\ngap\n,\noffset\n, and\npadding\nvalues using\nJavaScript:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n{\n{\nto\n:\n'bottom start'\n,\ngap\n:\n'4px'\n}\n}\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nSee the\nListboxOptions API\nfor more information about these options.\nDisplaying options horizontally\nIf you've styled your\nListboxOptions\nto appear horizontally, use the\nhorizontal\nprop on the\nListbox\ncomponent to\nenable navigating the options with the left and right arrow keys instead of up and down, and to update the\naria-orientation\nattribute for assistive technologies.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nhorizontal\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\nclassName\n=\n\"\nflex flex-row\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nAdding transitions\nTo animate the opening and closing of the listbox dropdown, add the\ntransition\nprop to the\nListboxOptions\ncomponent\nand then use CSS to style the different stages of the transition:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\ntransition\nclassName\n=\n\"\norigin-top transition duration-200 ease-out data-closed:scale-95 data-closed:opacity-0\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nInternally, the\ntransition\nprop is implemented in the exact same way as the\nTransition\ncomponent. See the\nTransition documentation\nto learn more.\nAnimating with Framer Motion\nHeadless UI also composes well with other animation libraries in the React ecosystem like\nFramer Motion\nand\nReact Spring\n. You just need to\nexpose some state to those libraries.\nFor example, to animate the listbox with Framer Motion, add the\nstatic\nprop to the\nListboxOptions\ncomponent and then\nconditionally render it based on the\nopen\nrender prop:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nAnimatePresence\n,\nmotion\n}\nfrom\n'framer-motion'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n{\n(\n{\nopen\n}\n)\n=>\n(\n<\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nAnimatePresence\n>\n{\nopen\n&&\n(\n<\nListboxOptions\nstatic\nas\n=\n{\nmotion\n.\ndiv\n}\ninitial\n=\n{\n{\nopacity\n:\n0\n,\nscale\n:\n0.95\n}\n}\nanimate\n=\n{\n{\nopacity\n:\n1\n,\nscale\n:\n1\n}\n}\nexit\n=\n{\n{\nopacity\n:\n0\n,\nscale\n:\n0.95\n}\n}\nanchor\n=\n\"\nbottom\n\"\nclassName\n=\n\"\norigin-top\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n)\n}\n</\nAnimatePresence\n>\n</\n>\n)\n}\n</\nListbox\n>\n)\n}\nBinding objects as values\nUnlike native HTML form controls, which only allow you to provide strings as values, Headless UI supports binding\ncomplex objects as well.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nWhen binding objects as values, it's important to make sure that you use the\nsame instance\nof the object as both the\nvalue\nof the\nListbox\nas well as the corresponding\nListboxOption\n, otherwise they will fail to be equal and cause\nthe listbox to behave incorrectly.\nTo make it easier to work with different instances of the same object, you can use the\nby\nprop to compare the objects\nby a particular field instead of comparing object identity.\nWhen you pass an object to the\nvalue\nprop,\nby\nwill default to\nid\nwhen present, but you can set it to any field you\nlike:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nconst\ndepartments\n=\n[\n{\nname\n:\n'Marketing'\n,\ncontact\n:\n'Durward Reynolds'\n}\n,\n{\nname\n:\n'HR'\n,\ncontact\n:\n'Kenton Towne'\n}\n,\n{\nname\n:\n'Sales'\n,\ncontact\n:\n'Therese Wunsch'\n}\n,\n{\nname\n:\n'Finance'\n,\ncontact\n:\n'Benedict Kessler'\n}\n,\n{\nname\n:\n'Customer service'\n,\ncontact\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n{\nselectedDepartment\n,\nonChange\n}\n)\n{\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedDepartment\n}\nby\n=\n\"\nname\n\"\nonChange\n=\n{\nonChange\n}\n>\n<\nListboxButton\n>\n{\nselectedDepartment\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\ndepartments\n.\nmap\n(\n(\ndepartment\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\ndepartment\n.\nname\n}\nvalue\n=\n{\ndepartment\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\ndepartment\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nYou can also pass your own comparison function to the\nby\nprop if you'd like complete control over how objects are\ncompared:\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nconst\ndepartments\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Marketing'\n,\ncontact\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'HR'\n,\ncontact\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Sales'\n,\ncontact\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Finance'\n,\ncontact\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Customer service'\n,\ncontact\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\ncompareDepartments\n(\na\n,\nb\n)\n{\nreturn\na\n.\nname\n.\ntoLowerCase\n(\n)\n===\nb\n.\nname\n.\ntoLowerCase\n(\n)\n}\nfunction\nExample\n(\n{\nselectedDepartment\n,\nonChange\n}\n)\n{\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedDepartment\n}\nby\n=\n{\ncompareDepartments\n}\nonChange\n=\n{\nonChange\n}\n>\n<\nListboxButton\n>\n{\nselectedDepartment\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\ndepartments\n.\nmap\n(\n(\ndepartment\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\ndepartment\n.\nid\n}\nvalue\n=\n{\ndepartment\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\ndepartment\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nSelecting multiple values\nTo allow selecting multiple values in your listbox, use the\nmultiple\nprop and pass an array to\nvalue\ninstead of a\nsingle option.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPeople\n,\nsetSelectedPeople\n]\n=\nuseState\n(\n[\npeople\n[\n0\n]\n,\npeople\n[\n1\n]\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPeople\n}\nonChange\n=\n{\nsetSelectedPeople\n}\nmultiple\n>\n<\nListboxButton\n>\n{\nselectedPeople\n.\nmap\n(\n(\nperson\n)\n=>\nperson\n.\nname\n)\n.\njoin\n(\n', '\n)\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nThis will keep the listbox open when you are selecting options, and choosing an option will toggle it in place.\nYour\nonChange\nhandler will be called with an array containing all selected options any time an option is added or\nremoved.\nRendering as different elements\nBy default, the\nListbox\nand its subcomponents each render a default element that is sensible for that component.\nFor example,\nListboxButton\nrenders a\nbutton\n,\nListboxOptions\nrenders a\ndiv\n, and\nListboxOption\nrenders a\ndiv\n.\nBy contrast,\nListbox\ndoes not render an element\n, and instead renders its children directly.\nUse the\nas\nprop to render the component as a different element or as your own custom component, making sure your\ncustom components\nforward refs\nso that Headless UI can wire things up\ncorrectly.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nforwardRef\n,\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nlet\nMyCustomButton\n=\nforwardRef\n(\nfunction\n(\nprops\n,\nref\n)\n{\nreturn\n<\nbutton\nclassName\n=\n\"\n...\n\"\nref\n=\n{\nref\n}\n{\n...\nprops\n}\n/>\n}\n)\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\nas\n=\n{\nMyCustomButton\n}\n>\n{\nselectedPerson\n.\nname\n}\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\nas\n=\n\"\nul\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nas\n=\n\"\nli\n\"\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nTo tell an element to render its children directly with no wrapper element, use a\nFragment\n.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n}\nfrom\n'@headlessui/react'\nimport\n{\nFragment\n,\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\n>\n<\nListboxButton\nas\n=\n{\nFragment\n}\n>\n<\nbutton\n>\n{\nselectedPerson\n.\nname\n}\n</\nbutton\n>\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nperson\n.\nname\n}\n</\nListboxOption\n>\n)\n)\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nBuilding a buttonless API\nWhile the\nListboxButton\ncomponent is required when building custom listboxes, it's possible to build them in such a\nway that the button is included by default and therefore not required each time you use your listbox. For example, an\nAPI like this:\n<\nMyListbox\nname\n=\n\"\nstatus\n\"\n>\n<\nMyListboxOption\nvalue\n=\n\"\nactive\n\"\n>\nActive\n</\nMyListboxOption\n>\n<\nMyListboxOption\nvalue\n=\n\"\npaused\n\"\n>\nPaused\n</\nMyListboxOption\n>\n<\nMyListboxOption\nvalue\n=\n\"\ndelayed\n\"\n>\nDelayed\n</\nMyListboxOption\n>\n<\nMyListboxOption\nvalue\n=\n\"\ncanceled\n\"\n>\nCanceled\n</\nMyListboxOption\n>\n</\nMyListbox\n>\nTo achieve this use the\nListboxSelectedOption\ncomponent within your\nListboxButton\nto render the currently selected\nlistbox option.\nFor this to work you must pass the\nchildren\nof your custom listbox (all the\nListboxOption\ninstances) to both the\nListboxOptions\nas it's children as well as to the\nListboxSelectedOption\nvia the\noptions\nprop.\nThen, to style the\nListboxOption\nbased on whether it's being rendered in the\nListboxButton\nor in the\nListboxOptions\n, use the\nselectedOption\nrender prop to conditionally apply different styles or render different\ncontent.\nimport\n{\nListbox\n,\nListboxButton\n,\nListboxOption\n,\nListboxOptions\n,\nListboxSelectedOption\n}\nfrom\n'@headlessui/react'\nimport\n{\nFragment\n,\nuseState\n}\nfrom\n'react'\nconst\npeople\n=\n[\n{\nid\n:\n1\n,\nname\n:\n'Durward Reynolds'\n}\n,\n{\nid\n:\n2\n,\nname\n:\n'Kenton Towne'\n}\n,\n{\nid\n:\n3\n,\nname\n:\n'Therese Wunsch'\n}\n,\n{\nid\n:\n4\n,\nname\n:\n'Benedict Kessler'\n}\n,\n{\nid\n:\n5\n,\nname\n:\n'Katelyn Rohan'\n}\n,\n]\nfunction\nExample\n(\n)\n{\nconst\n[\nselectedPerson\n,\nsetSelectedPerson\n]\n=\nuseState\n(\npeople\n[\n0\n]\n)\nreturn\n(\n<\nMyListbox\nvalue\n=\n{\nselectedPerson\n}\nonChange\n=\n{\nsetSelectedPerson\n}\nplaceholder\n=\n\"\nSelect a person\n&hellip;\n\"\n>\n{\npeople\n.\nmap\n(\n(\nperson\n)\n=>\n(\n<\nMyListboxOption\nkey\n=\n{\nperson\n.\nid\n}\nvalue\n=\n{\nperson\n}\n>\n{\nperson\n.\nname\n}\n</\nMyListboxOption\n>\n)\n)\n}\n</\nMyListbox\n>\n)\n}\nfunction\nMyListbox\n(\n{\nplaceholder\n,\nchildren\n,\n...\nprops\n}\n)\n{\nreturn\n(\n<\nListbox\n{\n...\nprops\n}\n>\n<\nListboxButton\n>\n<\nListboxSelectedOption\noptions\n=\n{\nchildren\n}\nplaceholder\n=\n{\n<\nspan\nclassName\n=\n\"\nopacity-50\n\"\n>\n{\nplaceholder\n}\n</\nspan\n>\n}\n/>\n</\nListboxButton\n>\n<\nListboxOptions\nanchor\n=\n\"\nbottom\n\"\n>\n{\nchildren\n}\n</\nListboxOptions\n>\n</\nListbox\n>\n)\n}\nfunction\nMyListboxOption\n(\n{\nchildren\n,\n...\nprops\n}\n)\n{\nreturn\n(\n<\nListboxOption\nas\n=\n{\nFragment\n}\n{\n...\nprops\n}\n>\n{\n(\n{\nselectedOption\n}\n)\n=>\n{\nreturn\nselectedOption\n?\nchildren\n:\n<\ndiv\nclassName\n=\n\"\ndata-focus:bg-blue-100\n\"\n>\n{\nchildren\n}\n</\ndiv\n>\n}\n}\n</\nListboxOption\n>\n)\n}\nThe\nListboxSelectedOption\ncomponent also has a\nplaceholder\nprop that you can use to render a placeholder when no\noption is selected.\nKeyboard interaction\nCommand\nDescription\nSpace\n,\nArrowDown\n,\nor\nArrowUp\nwhen\nListboxButton\nis focused\nOpens listbox and focuses the selected item\nEnter\nwhen\nListboxButton\nis focused and\nListbox\nis closed\nSubmit the parent form if it exists\nEsc\nwhen listbox is open\nCloses listbox\nArrowDown\nor\nArrowUp\nwhen listbox is open\nFocuses previous/next non-disabled item\nArrowLeft\nor\nArrowRight\nwhen listbox is open and\nhorizontal\nis set\nFocuses previous/next non-disabled item\nHome\nor\nPageUp\nwhen listbox is open\nFocuses first non-disabled item\nEnd\nor\nPageDown\nwhen listbox is open\nFocuses last non-disabled item\nEnter\nor\nSpace\nwhen listbox is open\nSelects the current item\nA\u2013Z\nor\na\u2013z\nwhen listbox is open\nFocuses first item that matches keyboard input\nComponent API\nListbox\nThe main listbox component.\nProp\nDefault\nDescription\nas\nFragment\nString | Component\nThe element or component the\nlistbox\nshould render as.\ninvalid\nfalse\nBoolean\nWhether or not the\nlistbox\nis invalid.\ndisabled\nfalse\nBoolean\nUse this to disable the entire\nListbox\ncomponent & related children.\nvalue\n\u2014\nT\nThe selected value.\ndefaultValue\n\u2014\nT\nThe default value when using as an uncontrolled component.\nby\n\u2014\nkeyof T | ((a: T, z: T) => boolean)\nUse this to compare objects by a particular field, or pass your own comparison function for complete control over how objects are compared.\nWhen you pass an object to the\nvalue\nprop,\nby\nwill default to\nid\nwhen present.\nonChange\n\u2014\n(value: T) => void\nThe function to call when a new option is selected.\nhorizontal\nfalse\nBoolean\nWhen true, the orientation of the\nListboxOptions\nwill be\nhorizontal\n, otherwise it will be\nvertical\n.\nmultiple\nfalse\nBoolean\nWhether multiple options can be selected or not.\nname\n\u2014\nString\nThe name used when using the\nlistbox\ninside a form.\nform\n\u2014\nString\nThe id of the form that the\nlistbox\nbelongs to.\nIf\nname\nis provided but\nform\nis not, the\nlistbox\nwill add its state to the nearest ancestor\nform\nelement.\nData Attribute\nRender Prop\nDescription\n\u2014\nvalue\nT\nThe selected value.\ndata-\nopen\nopen\nBoolean\nWhether or not the\nlistbox\nis open.\ndata-\ninvalid\ninvalid\nBoolean\nWhether or not the\nlistbox\nis invalid.\ndata-\ndisabled\ndisabled\nBoolean\nWhether or not the\nlistbox\nis disabled.\nListboxButton\nThe Listbox's button.\nProp\nDefault\nDescription\nas\nbutton\nString | Component\nThe element or component the\nlistbox button\nshould render as.\nData Attribute\nRender Prop\nDescription\n\u2014\nvalue\nT\nThe selected value.\ndata-\nopen\nopen\nBoolean\nWhether or not the\nlistbox\nis open.\ndata-\ninvalid\ninvalid\nBoolean\nWhether or not the\nlistbox\nis invalid.\ndata-\ndisabled\ndisabled\nBoolean\nWhether or not the\nlistbox button\nis disabled.\ndata-\nfocus\nfocus\nBoolean\nWhether or not the\nlistbox button\nis focused.\ndata-\nhover\nhover\nBoolean\nWhether or not the\nlistbox button\nis hovered.\ndata-\nactive\nactive\nBoolean\nWhether or not the\nlistbox button\nis in an active or pressed state.\ndata-\nautofocus\nautofocus\nBoolean\nWhether or not the\nautoFocus\nprop was set to\ntrue\n.\nListboxSelectedOption\nRenders the currently selected option, or a placeholder if no option is selected. Designed to be a child of\nListboxButton\n.\nProp\nDefault\nDescription\nas\nFragment\nString | Component\nThe element or component the\nlistbox selected option\nshould render as.\nplaceholder\n\u2014\nReactNode\nThe React element to render when no option is selected.\noptions\n\u2014\nReactNode[]\nYour full array of\nListboxOption\nReact elements.\nListboxSelectedOption\nwill filter this list to find and\nrender the currently selected option.\nListboxOptions\nThe component that directly wraps the list of options in your custom Listbox.\nProp\nDefault\nDescription\nas\ndiv\nString | Component\nThe element or component the\nlistbox options\nshould render as.\ntransition\nfalse\nBoolean\nWhether the element should render transition attributes like\ndata-closed\n,\ndata-enter\nand\ndata-leave\n.\nanchor\n\u2014\nObject\nConfigures the way the dropdown is anchored to the button.\nanchor.to\nbottom\nString\nWhere to position the\nlistbox options\nrelative to the trigger.\nUse the values\ntop\n,\nright\n,\nbottom\n,\nleft\nto center the\nlistbox options\nalong the appropriate edge, or combine it with\nstart\nor\nend\nto align the\nlistbox options\nto a specific corner, such as\ntop start\nor\nbottom end\n.\nAlternatively, use the\nselection\noption to position the currently selected option directly above the\nlistbox button\n.\nanchor.gap\n0\nNumber | String\nThe space between the\nlistbox button\nand the\nlistbox options\n.\nCan also be controlled using the\n--anchor-gap\nCSS variable.\nanchor.offset\n0\nNumber | String\nThe distance the\nlistbox options\nshould be nudged from its original position.\nCan also be controlled using the\n--anchor-offset\nCSS variable.\nanchor.padding\n0\nNumber | String\nThe minimum space between the\nlistbox options\nand the viewport.\nCan also be controlled using the\n--anchor-padding\nCSS variable.\nstatic\nfalse\nBoolean\nWhether the element should ignore the internally managed open/closed state.\nunmount\ntrue\nBoolean\nWhether the element should be unmounted or hidden based on the open/closed state.\nportal\nfalse\nBoolean\nWhether the element should be rendered in a portal.\nAutomatically set to\ntrue\nwhen\nanchor\nprop is set.\nmodal\ntrue\nBoolean\nWhether to enable accessibility features like scroll locking, focus trapping, and making other elements\ninert\n.\nData Attribute\nRender Prop\nDescription\ndata-\nopen\nopen\nBoolean\nWhether or not the\nlistbox\nis open.\nListboxOption\nUsed to wrap each item within your Listbox.\nProp\nDefault\nDescription\nas\ndiv\nString | Component\nThe element or component the\nlistbox option\nshould render as.\nvalue\n\u2014\nT\nThe option value.\ndisabled\nfalse\nBoolean\nWhether or not the\nlistbox option\nis disabled\nfor keyboard navigation and ARIA purposes\n.\nData Attribute\nRender Prop\nDescription\ndata-\nselected\nselected\nBoolean\nWhether or not the\nlistbox option\nis selected.\ndata-\ndisabled\ndisabled\nBoolean\nWhether or not the\nlistbox option\nis disabled.\ndata-\nfocus\nfocus\nBoolean\nWhether or not the\nlistbox option\nis focused.\ndata-\nselectedOption\nselectedOption\nBoolean\nWhether or not the listbox option is a child of\nListboxSelectedOption\n.\nStyled examples\nIf you're interested in predesigned\nTailwind CSS\nselect menu and listbox\nexamples\nusing Headless UI\n, check out\nTailwind Plus\n\u2014 a collection of beautifully designed and expertly crafted components built by us.\nIt's a great way to support our work on open-source projects like this and makes it possible for us to improve them and keep them well-maintained.\nExplore\nmore predesigned\nexamples \u2192\nOn this page",
  "content_markdown": "React\n\n[Vue](/v1/vue/listbox)\n\n# Listbox\n\nListboxes are a great foundation for building custom, accessible select menus for your app, complete with robust\nsupport for keyboard navigation.\n\nPreviewCode\n\n## Installation\n\nTo get started, install Headless UI via npm:\n\n```\nnpm install @headlessui/react\n```\n\n## Basic example\n\nListboxes are built using the `Listbox`, `ListboxButton`, `ListboxSelectedOption`, `ListboxOptions`, and `ListboxOption`\ncomponents.\n\nThe `ListboxButton` will automatically open/close the `ListboxOptions` when clicked, and when the listbox is open, the\nlist of options receives focus and is automatically navigable via the keyboard.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n## Styling\n\nHeadless UI keeps track of a lot of state about each component, like which listbox option is currently selected, whether\na popover is open or closed, or which item in a menu is currently focused via the keyboard.\n\nBut because the components are headless and completely unstyled out of the box, you can't see this information in your\nUI until you provide the styles you want for each state yourself.\n\n### Using data attributes\n\nThe easiest way to style the different states of a Headless UI component is using the `data-*` attributes that each\ncomponent exposes.\n\nFor example, the `ListboxOption` component exposes a `data-focus` attribute, which tells you if the option is currently\nfocused via the mouse or keyboard, and a `data-selected` attribute, which tells you if that option matches the current\n`value` of the `Listbox`.\n\n```\n<!-- Rendered `ListboxOption` -->\n<div data-focus data-selected>Arlene Mccoy</div>\n```\n\nUse the [CSS attribute selector](https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors) to conditionally\napply styles based on the presence of these data attributes. If you're using Tailwind CSS, the\n[data attribute modifier](https://tailwindcss.com/docs/hover-focus-and-other-states#data-attributes) makes this easy:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { CheckIcon } from '@heroicons/react/20/solid'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n\n<ListboxOption key={person.id} value={person} className=\"group flex gap-2 bg-white data-focus:bg-blue-100\">\n\n<CheckIcon className=\"invisible size-5 group-data-selected:visible\" />\n\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nSee the [component API](#component-api) for a list of all the available data attributes.\n\n### Using render props\n\nEach component also exposes information about its current state via\n[render props](https://reactjs.org/docs/render-props.html) that you can use to conditionally apply different styles or\nrender different content.\n\nFor example, the `ListboxOption` component exposes a `focus` state, which tells you if the option is currently focused\nvia the mouse or keyboard, and a `selected` state, which tells you if that option matches the current `value` of the\n`Listbox`.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { CheckIcon } from '@heroicons/react/20/solid'\nimport clsx from 'clsx'\nimport { Fragment, useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n\n<ListboxOption key={person.id} value={person} as={Fragment}>\n\n{({ focus, selected }) => (\n\n<div className={clsx('flex gap-2', focus && 'bg-blue-100')}>\n\n<CheckIcon className={clsx('size-5', !selected && 'invisible')} />\n\n{person.name}\n\n</div>\n\n)}\n\n</ListboxOption>\n\n))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nSee the [component API](#component-api) for a list of all the available render props.\n\n## Examples\n\n### Adding a label\n\nWrap a `Label` and `Listbox` with the `Field` component to automatically associate them using a generated ID:\n\n```\nimport { Field, Label, Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Field>\n\n<Label>Assignee:</Label>\n\n      <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n        <ListboxButton>{selectedPerson.name}</ListboxButton>\n        <ListboxOptions anchor=\"bottom\">\n          {people.map((person) => (\n            <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n              {person.name}\n            </ListboxOption>\n          ))}\n        </ListboxOptions>\n      </Listbox>\n\n</Field>\n\n)\n}\n```\n\n### Adding a description\n\nUse the `Description` component within a `Field` to automatically associate it with a `Listbox` using the\n`aria-describedby` attribute:\n\n```\nimport { Description, Field, Label, Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Field>\n\n      <Label>Assignee:</Label>\n\n<Description>This person will have full access to this project.</Description>\n\n      <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n        <ListboxButton>{selectedPerson.name}</ListboxButton>\n        <ListboxOptions anchor=\"bottom\">\n          {people.map((person) => (\n            <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n              {person.name}\n            </ListboxOption>\n          ))}\n        </ListboxOptions>\n      </Listbox>\n\n</Field>\n\n)\n}\n```\n\n### Disabling a listbox\n\nAdd the `disabled` prop to the `Field` component to disable a `Listbox` and its associated `Label` and `Description`:\n\n```\nimport { Description, Field, Label, Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Field disabled>\n\n      <Label>Assignee:</Label>\n      <Description>This person will have full access to this project.</Description>\n      <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n        <ListboxButton>{selectedPerson.name}</ListboxButton>\n        <ListboxOptions anchor=\"bottom\">\n          {people.map((person) => (\n            <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n              {person.name}\n            </ListboxOption>\n          ))}\n        </ListboxOptions>\n      </Listbox>\n    </Field>\n  )\n}\n```\n\nYou can also disable a listbox outside of a `Field` by adding the disabled prop directly to the `Listbox` itself.\n\n### Disabling a listbox option\n\nUse the `disabled` prop to disable a `ListboxOption` and prevent it from being selected:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds', available: true },\n  { id: 2, name: 'Kenton Towne', available: true },\n  { id: 3, name: 'Therese Wunsch', available: true },\n\n{ id: 4, name: 'Benedict Kessler', available: false },\n\n{ id: 5, name: 'Katelyn Rohan', available: true },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n          <ListboxOption\n            key={person.id}\n            value={person}\n\ndisabled={!person.available}\n\nclassName=\"data-disabled:opacity-50 data-focus:bg-blue-100\"\n\n>\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n### Using with HTML forms\n\nIf you add the `name` prop to your `Listbox`, a hidden `input` element will be rendered and kept in sync with the\nlistbox state.\n\n```\nimport { Field, Label, Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<form action=\"/projects/1\" method=\"post\">\n\n      <Field>\n        <Label>Assignee:</Label>\n\n<Listbox name=\"assignee\" value={selectedPerson} onChange={setSelectedPerson}>\n\n          <ListboxButton>{selectedPerson.name}</ListboxButton>\n          <ListboxOptions anchor=\"bottom\">\n            {people.map((person) => (\n              <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n                {person.name}\n              </ListboxOption>\n            ))}\n          </ListboxOptions>\n        </Listbox>\n      </Field>\n      <button>Submit</button>\n\n</form>\n\n)\n}\n```\n\nThis lets you use a listbox inside a native HTML `<form>` and make traditional form submissions as if your listbox was a\nnative HTML form control.\n\nBasic values like strings will be rendered as a single hidden input containing that value, but complex values like\nobjects will be encoded into multiple inputs using a square bracket notation for the names:\n\n```\n<!-- Rendered hidden inputs -->\n<input type=\"hidden\" name=\"assignee[id]\" value=\"1\" />\n<input type=\"hidden\" name=\"assignee[name]\" value=\"Durward Reynolds\" />\n```\n\n### Using as uncontrolled\n\nIf you omit the `value` prop, Headless UI will track its state internally for you, allowing you to use it as an\n[uncontrolled component](https://reactjs.org/docs/uncontrolled-components.html).\n\nWhen uncontrolled, use the `defaultValue` prop to provide an initial value to the `Listbox`.\n\n```\nimport { Field, Label, Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  return (\n    <form action=\"/projects/1\" method=\"post\">\n      <Field>\n        <Label>Assignee:</Label>\n\n<Listbox name=\"assignee\" defaultValue={people[0]}>\n\n          <ListboxButton>{({ value }) => value.name}</ListboxButton>\n          <ListboxOptions anchor=\"bottom\">\n            {people.map((person) => (\n              <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n                {person.name}\n              </ListboxOption>\n            ))}\n          </ListboxOptions>\n        </Listbox>\n      </Field>\n      <button>Submit</button>\n    </form>\n  )\n}\n```\n\nThis can simplify your code when using the listbox [with HTML forms](#using-with-html-forms) or with form APIs that\ncollect their state using [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) instead of tracking it\nusing React state.\n\nAny `onChange` prop you provide will still be called when the component's value changes in case you need to run any side\neffects, but you won't need to use it to track the component's state yourself.\n\n### Setting the dropdown width\n\nThe `ListboxOptions` dropdown has no width set by default, but you can add one using CSS:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor=\"bottom\" className=\"w-52\">\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nIf you'd like the dropdown width to match the `ListboxButton` width, use the `--button-width` CSS variable that's\nexposed on the `ListboxOptions` element:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor=\"bottom\" className=\"w-(--button-width)\">\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n### Positioning the dropdown\n\nAdd the `anchor` prop to the `ListboxOptions` to automatically position the dropdown relative to the `ListboxButton`:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor=\"bottom start\">\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nUse the values `top`, `right`, `bottom`, or `left` to center the dropdown along the appropriate edge, or combine it with\n`start` or `end` to align the dropdown to a specific corner, such as `top start` or `bottom end`.\n\nTo control the gap between the button and the dropdown, use the `--anchor-gap` CSS variable:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor=\"bottom start\" className=\"[--anchor-gap:4px] sm:[--anchor-gap:8px]\">\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nAdditionally, you can use `--anchor-offset` to control the distance that the dropdown should be nudged from its original\nposition, and `--anchor-padding` to control the minimum space that should exist between the dropdown and the viewport.\n\nThe `anchor` prop also supports an object API that allows you to control the `gap`, `offset`, and `padding` values using\nJavaScript:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor={{ to: 'bottom start', gap: '4px' }}>\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nSee the [ListboxOptions API](#listbox-options) for more information about these options.\n\n### Displaying options horizontally\n\nIf you've styled your `ListboxOptions` to appear horizontally, use the `horizontal` prop on the `Listbox` component to\nenable navigating the options with the left and right arrow keys instead of up and down, and to update the\n`aria-orientation` attribute for assistive technologies.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Listbox horizontal value={selectedPerson} onChange={setSelectedPerson}>\n\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n\n<ListboxOptions anchor=\"bottom\" className=\"flex flex-row\">\n\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n### Adding transitions\n\nTo animate the opening and closing of the listbox dropdown, add the `transition` prop to the `ListboxOptions` component\nand then use CSS to style the different stages of the transition:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions\n        anchor=\"bottom\"\n\ntransition\n\nclassName=\"origin-top transition duration-200 ease-out data-closed:scale-95 data-closed:opacity-0\"\n\n>\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nInternally, the `transition` prop is implemented in the exact same way as the `Transition` component. See the\n[Transition documentation](/react/transition) to learn more.\n\n### Animating with Framer Motion\n\nHeadless UI also composes well with other animation libraries in the React ecosystem like\n[Framer Motion](https://www.framer.com/motion/) and [React Spring](https://www.react-spring.io/). You just need to\nexpose some state to those libraries.\n\nFor example, to animate the listbox with Framer Motion, add the `static` prop to the `ListboxOptions` component and then\nconditionally render it based on the `open` render prop:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { AnimatePresence, motion } from 'framer-motion'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n\n{({ open }) => (\n\n<>\n          <ListboxButton>{selectedPerson.name}</ListboxButton>\n          <AnimatePresence>\n\n{open && (\n\n<ListboxOptions\n\nstatic\n\nas={motion.div}\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.95 }}\n                anchor=\"bottom\"\n                className=\"origin-top\"\n              >\n                {people.map((person) => (\n                  <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n                    {person.name}\n                  </ListboxOption>\n                ))}\n              </ListboxOptions>\n\n)}\n\n          </AnimatePresence>\n        </>\n\n)}\n\n    </Listbox>\n  )\n}\n```\n\n### Binding objects as values\n\nUnlike native HTML form controls, which only allow you to provide strings as values, Headless UI supports binding\ncomplex objects as well.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n\n{ id: 1, name: 'Durward Reynolds' },\n\n{ id: 2, name: 'Kenton Towne' },\n\n{ id: 3, name: 'Therese Wunsch' },\n\n{ id: 4, name: 'Benedict Kessler' },\n\n{ id: 5, name: 'Katelyn Rohan' },\n\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Listbox value={selectedPerson} onChange={setSelectedPerson}>\n\n      <ListboxButton>{selectedPerson.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n\n{person.name}\n\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nWhen binding objects as values, it's important to make sure that you use the *same instance* of the object as both the\n`value` of the `Listbox` as well as the corresponding `ListboxOption`, otherwise they will fail to be equal and cause\nthe listbox to behave incorrectly.\n\nTo make it easier to work with different instances of the same object, you can use the `by` prop to compare the objects\nby a particular field instead of comparing object identity.\n\nWhen you pass an object to the `value` prop, `by` will default to `id` when present, but you can set it to any field you\nlike:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\n\nconst departments = [\n  { name: 'Marketing', contact: 'Durward Reynolds' },\n  { name: 'HR', contact: 'Kenton Towne' },\n  { name: 'Sales', contact: 'Therese Wunsch' },\n  { name: 'Finance', contact: 'Benedict Kessler' },\n  { name: 'Customer service', contact: 'Katelyn Rohan' },\n]\n\nfunction Example({ selectedDepartment, onChange }) {\n  return (\n\n<Listbox value={selectedDepartment} by=\"name\" onChange={onChange}>\n\n      <ListboxButton>{selectedDepartment.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {departments.map((department) => (\n          <ListboxOption key={department.name} value={department} className=\"data-focus:bg-blue-100\">\n            {department.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nYou can also pass your own comparison function to the `by` prop if you'd like complete control over how objects are\ncompared:\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\n\nconst departments = [\n  { id: 1, name: 'Marketing', contact: 'Durward Reynolds' },\n  { id: 2, name: 'HR', contact: 'Kenton Towne' },\n  { id: 3, name: 'Sales', contact: 'Therese Wunsch' },\n  { id: 4, name: 'Finance', contact: 'Benedict Kessler' },\n  { id: 5, name: 'Customer service', contact: 'Katelyn Rohan' },\n]\n\nfunction compareDepartments(a, b) {\n\nreturn a.name.toLowerCase() === b.name.toLowerCase()\n\n}\n\nfunction Example({ selectedDepartment, onChange }) {\n  return (\n\n<Listbox value={selectedDepartment} by={compareDepartments} onChange={onChange}>\n\n      <ListboxButton>{selectedDepartment.name}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {departments.map((department) => (\n          <ListboxOption key={department.id} value={department} className=\"data-focus:bg-blue-100\">\n            {department.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n### Selecting multiple values\n\nTo allow selecting multiple values in your listbox, use the `multiple` prop and pass an array to `value` instead of a\nsingle option.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n\nconst [selectedPeople, setSelectedPeople] = useState([people[0], people[1]])\n\nreturn (\n\n<Listbox value={selectedPeople} onChange={setSelectedPeople} multiple>\n\n      <ListboxButton>{selectedPeople.map((person) => person.name).join(', ')}</ListboxButton>\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nThis will keep the listbox open when you are selecting options, and choosing an option will toggle it in place.\n\nYour `onChange` handler will be called with an array containing all selected options any time an option is added or\nremoved.\n\n### Rendering as different elements\n\nBy default, the `Listbox` and its subcomponents each render a default element that is sensible for that component.\n\nFor example, `ListboxButton` renders a `button`, `ListboxOptions` renders a `div`, and `ListboxOption` renders a `div`.\nBy contrast, `Listbox` *does not render an element*, and instead renders its children directly.\n\nUse the `as` prop to render the component as a different element or as your own custom component, making sure your\ncustom components [forward refs](https://react.dev/reference/react/forwardRef) so that Headless UI can wire things up\ncorrectly.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { forwardRef, useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nlet MyCustomButton = forwardRef(function (props, ref) {\n\nreturn <button className=\"...\" ref={ref} {...props} />\n\n})\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n\n<Listbox value={selectedPerson} onChange={setSelectedPerson}>\n\n<ListboxButton as={MyCustomButton}>{selectedPerson.name}</ListboxButton>\n\n      <ListboxOptions anchor=\"bottom\" as=\"ul\">\n        {people.map((person) => (\n\n<ListboxOption as=\"li\" key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\nTo tell an element to render its children directly with no wrapper element, use a `Fragment`.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions } from '@headlessui/react'\nimport { Fragment, useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <Listbox value={selectedPerson} onChange={setSelectedPerson}>\n\n<ListboxButton as={Fragment}>\n\n<button>{selectedPerson.name}</button>\n\n</ListboxButton>\n\n      <ListboxOptions anchor=\"bottom\">\n        {people.map((person) => (\n          <ListboxOption key={person.id} value={person} className=\"data-focus:bg-blue-100\">\n            {person.name}\n          </ListboxOption>\n        ))}\n      </ListboxOptions>\n    </Listbox>\n  )\n}\n```\n\n### Building a buttonless API\n\nWhile the `ListboxButton` component is required when building custom listboxes, it's possible to build them in such a\nway that the button is included by default and therefore not required each time you use your listbox. For example, an\nAPI like this:\n\n```\n<MyListbox name=\"status\">\n  <MyListboxOption value=\"active\">Active</MyListboxOption>\n  <MyListboxOption value=\"paused\">Paused</MyListboxOption>\n  <MyListboxOption value=\"delayed\">Delayed</MyListboxOption>\n  <MyListboxOption value=\"canceled\">Canceled</MyListboxOption>\n</MyListbox>\n```\n\nTo achieve this use the `ListboxSelectedOption` component within your `ListboxButton` to render the currently selected\nlistbox option.\n\nFor this to work you must pass the `children` of your custom listbox (all the `ListboxOption` instances) to both the\n`ListboxOptions` as it's children as well as to the `ListboxSelectedOption` via the `options` prop.\n\nThen, to style the `ListboxOption` based on whether it's being rendered in the `ListboxButton` or in the\n`ListboxOptions`, use the `selectedOption` render prop to conditionally apply different styles or render different\ncontent.\n\n```\nimport { Listbox, ListboxButton, ListboxOption, ListboxOptions, ListboxSelectedOption } from '@headlessui/react'\nimport { Fragment, useState } from 'react'\n\nconst people = [\n  { id: 1, name: 'Durward Reynolds' },\n  { id: 2, name: 'Kenton Towne' },\n  { id: 3, name: 'Therese Wunsch' },\n  { id: 4, name: 'Benedict Kessler' },\n  { id: 5, name: 'Katelyn Rohan' },\n]\n\nfunction Example() {\n  const [selectedPerson, setSelectedPerson] = useState(people[0])\n\n  return (\n    <MyListbox value={selectedPerson} onChange={setSelectedPerson} placeholder=\"Select a person&hellip;\">\n      {people.map((person) => (\n        <MyListboxOption key={person.id} value={person}>\n          {person.name}\n        </MyListboxOption>\n      ))}\n    </MyListbox>\n  )\n}\n\nfunction MyListbox({ placeholder, children, ...props }) {\n  return (\n    <Listbox {...props}>\n      <ListboxButton>\n\n<ListboxSelectedOption options={children} placeholder={<span className=\"opacity-50\">{placeholder}</span>} />\n\n      </ListboxButton>\n\n<ListboxOptions anchor=\"bottom\">{children}</ListboxOptions>\n\n    </Listbox>\n  )\n}\n\nfunction MyListboxOption({ children, ...props }) {\n  return (\n    <ListboxOption as={Fragment} {...props}>\n\n{({ selectedOption }) => {\n\nreturn selectedOption ? children : <div className=\"data-focus:bg-blue-100\">{children}</div>\n\n}}\n\n    </ListboxOption>\n  )\n}\n```\n\nThe `ListboxSelectedOption` component also has a `placeholder` prop that you can use to render a placeholder when no\noption is selected.\n\n## Keyboard interaction\n\n|  |  |\n| --- | --- |\n| Command | Description |\n| `Space`, `ArrowDown`,  or `ArrowUp`when `ListboxButton` is focused | Opens listbox and focuses the selected item |\n| `Enter`when `ListboxButton` is focused and `Listbox` is closed | Submit the parent form if it exists |\n| `Esc`when listbox is open | Closes listbox |\n| `ArrowDown` or `ArrowUp`when listbox is open | Focuses previous/next non-disabled item |\n| `ArrowLeft` or `ArrowRight`when listbox is open and `horizontal` is set | Focuses previous/next non-disabled item |\n| `Home` or `PageUp`when listbox is open | Focuses first non-disabled item |\n| `End` or `PageDown`when listbox is open | Focuses last non-disabled item |\n| `Enter` or `Space`when listbox is open | Selects the current item |\n| `A\u2013Z` or `a\u2013z`when listbox is open | Focuses first item that matches keyboard input |\n\n## Component API\n\n### Listbox\n\nThe main listbox component.\n\n|  |  |  |\n| --- | --- | --- |\n| Prop | Default | Description |\n| `as` | `Fragment` | `String | Component`  The element or component the listbox should render as. |\n| `invalid` | `false` | `Boolean`  Whether or not the listbox is invalid. |\n| `disabled` | `false` | `Boolean`  Use this to disable the entire `Listbox` component & related children. |\n| `value` | \u2014 | `T`  The selected value. |\n| `defaultValue` | \u2014 | `T`  The default value when using as an uncontrolled component. |\n| `by` | \u2014 | `keyof T | ((a: T, z: T) => boolean)`  Use this to compare objects by a particular field, or pass your own comparison function for complete control over how objects are compared.  When you pass an object to the `value` prop, `by` will default to`id` when present. |\n| `onChange` | \u2014 | `(value: T) => void`  The function to call when a new option is selected. |\n| `horizontal` | `false` | `Boolean`  When true, the orientation of the `ListboxOptions` will be `horizontal`, otherwise it will be `vertical`. |\n| `multiple` | `false` | `Boolean`  Whether multiple options can be selected or not. |\n| `name` | \u2014 | `String`  The name used when using the listbox inside a form. |\n| `form` | \u2014 | `String`  The id of the form that the listbox belongs to.  If `name` is provided but `form` is not, the listbox will add its state to the nearest ancestor `form` element. |\n\n|  |  |  |\n| --- | --- | --- |\n| Data Attribute | Render Prop | Description |\n| \u2014 | `value` | `T`  The selected value. |\n| `data-open` | `open` | `Boolean`  Whether or not the listbox is open. |\n| `data-invalid` | `invalid` | `Boolean`  Whether or not the listbox is invalid. |\n| `data-disabled` | `disabled` | `Boolean`  Whether or not the listbox is disabled. |\n\n### ListboxButton\n\nThe Listbox's button.\n\n|  |  |  |\n| --- | --- | --- |\n| Prop | Default | Description |\n| `as` | `button` | `String | Component`  The element or component the listbox button should render as. |\n\n|  |  |  |\n| --- | --- | --- |\n| Data Attribute | Render Prop | Description |\n| \u2014 | `value` | `T`  The selected value. |\n| `data-open` | `open` | `Boolean`  Whether or not the listbox is open. |\n| `data-invalid` | `invalid` | `Boolean`  Whether or not the listbox is invalid. |\n| `data-disabled` | `disabled` | `Boolean`  Whether or not the listbox button is disabled. |\n| `data-focus` | `focus` | `Boolean`  Whether or not the listbox button is focused. |\n| `data-hover` | `hover` | `Boolean`  Whether or not the listbox button is hovered. |\n| `data-active` | `active` | `Boolean`  Whether or not the listbox button is in an active or pressed state. |\n| `data-autofocus` | `autofocus` | `Boolean`  Whether or not the `autoFocus` prop was set to `true`. |\n\n### ListboxSelectedOption\n\nRenders the currently selected option, or a placeholder if no option is selected. Designed to be a child of\n`ListboxButton`.\n\n|  |  |  |\n| --- | --- | --- |\n| Prop | Default | Description |\n| `as` | `Fragment` | `String | Component`  The element or component the listbox selected option should render as. |\n| `placeholder` | \u2014 | `ReactNode`  The React element to render when no option is selected. |\n| `options` | \u2014 | `ReactNode[]`  Your full array of `ListboxOption` React elements. `ListboxSelectedOption` will filter this list to find and render the currently selected option. |\n\n### ListboxOptions\n\nThe component that directly wraps the list of options in your custom Listbox.\n\n|  |  |  |\n| --- | --- | --- |\n| Prop | Default | Description |\n| `as` | `div` | `String | Component`  The element or component the listbox options should render as. |\n| `transition` | `false` | `Boolean`  Whether the element should render transition attributes like `data-closed`, `data-enter` and `data-leave`. |\n| `anchor` | \u2014 | `Object`  Configures the way the dropdown is anchored to the button. |\n| `anchor.to` | `bottom` | `String`  Where to position the listbox options relative to the trigger.  Use the values `top`, `right`, `bottom`, `left` to center the listbox options along the appropriate edge, or combine it with `start` or `end` to align the listbox options to a specific corner, such as `top start` or `bottom end`.  Alternatively, use the `selection` option to position the currently selected option directly above the listbox button. |\n| `anchor.gap` | `0` | `Number | String`  The space between the listbox button and the listbox options.  Can also be controlled using the `--anchor-gap` CSS variable. |\n| `anchor.offset` | `0` | `Number | String`  The distance the listbox options should be nudged from its original position.  Can also be controlled using the `--anchor-offset` CSS variable. |\n| `anchor.padding` | `0` | `Number | String`  The minimum space between the listbox options and the viewport.  Can also be controlled using the `--anchor-padding` CSS variable. |\n| `static` | `false` | `Boolean`  Whether the element should ignore the internally managed open/closed state. |\n| `unmount` | `true` | `Boolean`  Whether the element should be unmounted or hidden based on the open/closed state. |\n| `portal` | `false` | `Boolean`  Whether the element should be rendered in a portal.  Automatically set to `true` when `anchor` prop is set. |\n| `modal` | `true` | `Boolean`  Whether to enable accessibility features like scroll locking, focus trapping, and making other elements `inert`. |\n\n|  |  |  |\n| --- | --- | --- |\n| Data Attribute | Render Prop | Description |\n| `data-open` | `open` | `Boolean`  Whether or not the listbox is open. |\n\n### ListboxOption\n\nUsed to wrap each item within your Listbox.\n\n|  |  |  |\n| --- | --- | --- |\n| Prop | Default | Description |\n| `as` | `div` | `String | Component`  The element or component the listbox option should render as. |\n| `value` | \u2014 | `T`  The option value. |\n| `disabled` | `false` | `Boolean`  Whether or not the listbox option is disabled for keyboard navigation and ARIA purposes. |\n\n|  |  |  |\n| --- | --- | --- |\n| Data Attribute | Render Prop | Description |\n| `data-selected` | `selected` | `Boolean`  Whether or not the listbox option is selected. |\n| `data-disabled` | `disabled` | `Boolean`  Whether or not the listbox option is disabled. |\n| `data-focus` | `focus` | `Boolean`  Whether or not the listbox option is focused. |\n| `data-selectedOption` | `selectedOption` | `Boolean`  Whether or not the listbox option is a child of `ListboxSelectedOption`. |\n\n## Styled examples\n\nIf you're interested in predesigned [Tailwind CSS select menu and listbox examples](https://tailwindui.com/components/application-ui/forms/select-menus) using Headless UI, check out **Tailwind Plus** \u2014 a collection of beautifully designed and expertly crafted components built by us.\n\nIt's a great way to support our work on open-source projects like this and makes it possible for us to improve them and keep them well-maintained.\n\n[Explore more predesigned examples \u2192](https://tailwindcss.com/plus)\n\n[![Various components from Tailwind UI](/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Ftailwind-plus.434a3ca6.png&w=3840&q=75)](https://tailwindcss.com/plus)\n\nOn this page",
  "tags": [
    "headless",
    "tailwind",
    "react",
    "vue",
    "accessibility"
  ],
  "extracted_at": "2026-02-03T14:47:25.192310+00:00",
  "content_length": 38902,
  "content_hash": "a21336198e62f62c"
}