/* --------------------------------------------------------------
 * Tree Mini Summary & Mini Expand Button Styles
 * -------------------------------------------------------------- */
.tree-mini-summary {
    display: flex;
    align-items: center;
    font-size: 0.85rem;
    color: var(--text-muted, #666);
    padding: 4px 8px;
    background-color: var(--bg-muted, #f9f9f9);
    border-radius: 4px;
    cursor: pointer;
}

/* Mini expand/collapse button (usually an arrow) */
.mini-expand-btn {
    width: 12px;
    height: 12px;
    margin-right: 6px;
    background: no-repeat center/contain;
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg fill="%23666" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M2 3l2 2 2-2z"/></svg>');
    transition: transform 0.2s ease;
}

/* Rotate the arrow when the node is expanded */
.node.expanded > .mini-expand-btn {
    transform: rotate(180deg);
}

/* --------------------------------------------------------------
 * Staggered Animation (80ms per item)
 * -------------------------------------------------------------- */
@keyframes staggeredFadeIn {
    0% {
        opacity: 0;
        transform: translateY(10px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Apply to children that need staggered entrance.
   Use a CSS custom property --stagger-index to set the order. */
.staggered-item {
    opacity: 0;
    animation: staggeredFadeIn 0.3s forwards;
    animation-delay: calc(var(--stagger-index, 0) * 80ms);
}

/* --------------------------------------------------------------
 * Mini Collapsing Animation for Nodes
 * -------------------------------------------------------------- */
@keyframes miniCollapse {
    0% {
        transform: scaleY(1) translateY(0);
        opacity: 1;
    }
    100% {
        transform: scaleY(0) translateY(-10px);
        opacity: 0;
    }
}

/* When a node is collapsing in mini mode */
.node.mini-collapsing {
    animation: miniCollapse 0.25s forwards;
    transform-origin: top;
}